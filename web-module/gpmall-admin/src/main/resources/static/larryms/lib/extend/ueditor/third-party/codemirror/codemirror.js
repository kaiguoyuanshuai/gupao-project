var CodeMirror=function(){function Yt(e,t){var M={},n=Yt.defaults;for(var r in n)if(n.hasOwnProperty(r))M[r]=(t&&t.hasOwnProperty(r)?t:n)[r];var g=M["document"];var u=g.createElement("div");u.className="CodeMirror"+(M.lineWrapping?" CodeMirror-wrap":"");u.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;">'+'<textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" '+'autocorrect="off" autocapitalize="off"></textarea></div>'+'<div class="CodeMirror-scroll" tabindex="-1">'+'<div style="position: relative">'+'<div style="position: relative">'+'<div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div>'+'<div class="CodeMirror-lines"><div style="position: relative">'+'<div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div>'+'<pre class="CodeMirror-cursor">&#160;</pre>'+"<div></div>"+"</div></div></div></div></div>";if(e.appendChild)e.appendChild(u);else e(u);var o=u.firstChild,a=o.firstChild,b=u.lastChild,S=b.firstChild,d=S.firstChild,v=d.firstChild,s=v.firstChild,p=v.nextSibling.firstChild,m=p.firstChild,l=m.nextSibling,x=l.nextSibling;lt();if(/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent))a.style.width="0px";if(!Cn)p.draggable=true;if(M.tabindex!=null)a.tabIndex=M.tabindex;if(!M.gutter&&!M.lineNumbers)v.style.display="none";try{pt("x")}catch(e){if(e.message.match(/runtime/i))e=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)");throw e}var i=new xn,f=new xn,c;var h,L=new on([new ln([new rn("")])]),A,y;et();var z={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var k,w,C,T,E=false;var W,N,H,D,I,O,R,P;var U=0,B=0,V=0,K=0;var F;var j="",G,Y=rt();jt(function(){Q(M.value||"");W=false})();var _=new cn;gn(b,"mousedown",jt(te));gn(b,"dblclick",jt(ne));gn(p,"dragstart",ie);gn(p,"selectstart",dn);if(!kn)gn(b,"contextmenu",Nt);gn(b,"scroll",function(){He([]);if(M.fixedGutter)v.style.left=b.scrollLeft+"px";if(M.onScroll)M.onScroll($)});gn(window,"resize",function(){He(true)});gn(a,"keyup",jt(ue));gn(a,"input",be);gn(a,"keydown",jt(ae));gn(a,"keypress",jt(fe));gn(a,"focus",se);gn(a,"blur",ce);gn(b,"dragenter",vn);gn(b,"dragover",vn);gn(b,"drop",jt(re));gn(b,"paste",function(){ze();be()});gn(a,"paste",be);gn(a,"cut",jt(function(){xe("")}));var q;try{q=g.activeElement==a}catch(e){}if(q)setTimeout(se,20);else ce();function X(e){return e>=0&&e<L.size}var $=u.CodeMirror={getValue:ee,setValue:jt(Q),getSelection:we,replaceSelection:jt(xe),focus:function(){ze();se();be()},setOption:function(e,t){var n=M[e];M[e]=t;if(e=="mode"||e=="indentUnit")et();else if(e=="readOnly"&&t){ce();a.blur()}else if(e=="theme")lt();else if(e=="lineWrapping"&&n!=t)jt(nt)();else if(e=="tabSize")jt(it)();if(e=="lineNumbers"||e=="gutter"||e=="firstLineNumber"||e=="theme")jt(tt)()},getOption:function(e){return M[e]},undo:jt(ve),redo:jt(pe),indentLine:jt(function(e,t){if(X(e))Qe(e,t==null?"smart":t?"add":"subtract")}),indentSelection:jt(Je),historySize:function(){return{undo:_.done.length,redo:_.undone.length}},clearHistory:function(){_=new cn},matchBrackets:jt(function(){It(true)}),getTokenAt:jt(function(e){e=je(e);return Z(e.line).getTokenAt(h,Rt(e.line),e.ch)}),getStateAfter:function(e){e=Fe(e==null?L.size-1:e);return Rt(e+1)},cursorCoords:function(e){if(e==null)e=z.inverted;return wt(e?z.from:z.to)},charCoords:function(e){return wt(je(e))},coordsChar:function(e){var t=Mn(p);return kt(e.x-t.left,e.y-t.top)},markText:jt(at),setBookmark:ft,setMarker:jt(ut),clearMarker:jt(st),setLineClass:jt(ht),hideLine:jt(function(e){return dt(e,true)}),showLine:jt(function(e){return dt(e,false)}),onDeleteLine:function(e,t){if(typeof e=="number"){if(!X(e))return null;e=Z(e)}(e.handlers||(e.handlers=[])).push(t);return e},lineInfo:vt,addWidget:function(e,t,n,r,i){e=yt(je(e));var l=e.yBot,o=e.x;t.style.position="absolute";S.appendChild(t);if(r=="over")l=e.y;else if(r=="near"){var a=Math.max(b.offsetHeight,L.height*St()),f=Math.max(S.clientWidth,p.clientWidth)-Et();if(e.yBot+t.offsetHeight>a&&e.y>t.offsetHeight)l=e.y-t.offsetHeight;if(o+t.offsetWidth>f)o=f-t.offsetWidth}t.style.top=l+Tt()+"px";t.style.left=t.style.right="";if(i=="right"){o=S.clientWidth-t.offsetWidth;t.style.right="0px"}else{if(i=="left")o=0;else if(i=="middle")o=(S.clientWidth-t.offsetWidth)/2;t.style.left=o+Et()+"px"}if(n)We(o,l,o+t.offsetWidth,l+t.offsetHeight)},lineCount:function(){return L.size},clipPos:je,getCursor:function(e){if(e==null)e=z.inverted;return An(e?z.from:z.to)},somethingSelected:function(){return!Sn(z.from,z.to)},setCursor:jt(function(e,t,n){if(t==null&&typeof e.line=="number")Ke(e.line,e.ch,n);else Ke(e,t,n)}),setSelection:jt(function(e,t,n){(n?Ue:Be)(je(e),je(t||e))}),getLine:function(e){if(X(e))return Z(e).text},getLineHandle:function(e){if(X(e))return Z(e)},setLine:jt(function(e,t){if(X(e))ge(t,{line:e,ch:0},{line:e,ch:Z(e).text.length})}),removeLine:jt(function(e){if(X(e))ge("",{line:e,ch:0},je({line:e+1,ch:0}))}),replaceRange:jt(ge),getRange:function(e,t){return ke(je(e),je(t))},execCommand:function(e){return Xt[e]($)},moveH:jt(Ye),deleteH:jt(_e),moveV:jt(Xe),toggleOverwrite:function(){E=!E},posFromIndex:function(n){var r=0,i;L.iter(0,L.size,function(e){var t=e.text.length+1;if(t>n){i=n;return true}n-=t;++r});return je({line:r,ch:i})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;L.iter(0,e.line,function(e){t+=e.text.length+1});return t},operation:function(e){return jt(e)()},refresh:function(){He(true)},getInputField:function(){return a},getWrapperElement:function(){return u},getScrollerElement:function(){return b},getGutterElement:function(){return v}};function Z(e){return an(L,e)}function J(e,t){R=true;var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function Q(e){var t={line:0,ch:0};he(t,{line:L.size-1,ch:Z(L.size-1).text.length},Hn(e),t,t);W=true}function ee(e){var t=[];L.iter(0,L.size,function(e){t.push(e.text)});return t.join("\n")}function te(t){Pe(t.shiftKey);for(var e=pn(t);e!=u;e=e.parentNode)if(e.parentNode==S&&e!=d)return;for(var e=pn(t);e!=u;e=e.parentNode)if(e.parentNode==s){if(M.onGutterClick)M.onGutterClick($,Wn(s.childNodes,e)+B,t);return dn(t)}var r=Wt(t);switch(mn(t)){case 3:if(kn&&!_t)Nt(t);return;case 2:if(r)Ke(r.line,r.ch,true);return}if(!r){if(pn(t)==b)dn(t);return}if(!y)se();var n=+new Date;if(C&&C.time>n-400&&Sn(C.pos,r)){dn(t);setTimeout(ze,20);return Ze(r.line)}else if(w&&w.time>n-400&&Sn(w.pos,r)){C={time:n,pos:r};dn(t);return $e(r)}else{w={time:n,pos:r}}var i=r,l;if(yn&&!Sn(z.from,z.to)&&!Ln(r,z.from)&&!Ln(z.to,r)){if(Cn)p.draggable=true;var o=gn(g,"mouseup",jt(function(e){if(Cn)p.draggable=false;T=false;o();if(Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10){dn(e);Ke(r.line,r.ch,true);ze()}}),true);T=true;return}dn(t);Ke(r.line,r.ch,true);function a(e){var t=Wt(e,true);if(t&&!Sn(t,i)){if(!y)se();i=t;Ue(r,t);W=false;var n=Ne();if(t.line>=n.to||t.line<n.from)l=setTimeout(jt(function(){a(e)}),150)}}var f=gn(g,"mousemove",jt(function(e){clearTimeout(l);dn(e);a(e)}),true);var o=gn(g,"mouseup",jt(function(e){clearTimeout(l);var t=Wt(e);if(t)Ue(r,t);dn(e);ze();W=true;f();o()}),true)}function ne(e){for(var t=pn(e);t!=u;t=t.parentNode)if(t.parentNode==s)return dn(e);var n=Wt(e);if(!n)return;C={time:+new Date,pos:n};dn(e);$e(n)}function re(e){e.preventDefault();var r=Wt(e,true),t=e.dataTransfer.files;if(!r||M.readOnly)return;if(t&&t.length&&window.FileReader&&window.File){function n(e,t){var n=new FileReader;n.onload=function(){l[t]=n.result;if(++o==i){r=je(r);jt(function(){var e=ge(l.join(""),r,r);Ue(r,e)})()}};n.readAsText(e)}var i=t.length,l=Array(i),o=0;for(var a=0;a<i;++a)n(t[a],a)}else{try{var l=e.dataTransfer.getData("Text");if(l){var f=ge(l,r,r);var u=z.from,s=z.to;Ue(r,f);if(T)ge("",u,s);ze()}}catch(e){}}}function ie(e){var t=we();Tn(t);e.dataTransfer.setDragImage(zn,0,0);e.dataTransfer.setData("Text",t)}function le(e){var t=In[e.keyCode],n=$t[M.keyMap].auto,r,i;if(t==null||e.altGraphKey){if(n)M.keyMap=n;return null}if(e.altKey)t="Alt-"+t;if(e.ctrlKey)t="Ctrl-"+t;if(e.metaKey)t="Cmd-"+t;if(e.shiftKey&&(r=Zt("Shift-"+t,M.extraKeys,M.keyMap))){i=true}else{r=Zt(t,M.extraKeys,M.keyMap)}if(typeof r=="string"){if(Xt.propertyIsEnumerable(r))r=Xt[r];else r=null}if(n&&(r||!Jt(e)))M.keyMap=n;if(!r)return false;if(i){var l=k;k=null;r($);k=l}else r($);dn(e);return true}var oe=null;function ae(e){if(!y)se();var t=e.keyCode;if(wn&&t==27){e.returnValue=false}Pe(t==16||e.shiftKey);if(M.onKeyEvent&&M.onKeyEvent($,hn(e)))return;var n=le(e);if(window.opera){oe=n?e.keyCode:null;if(!n&&(_t?e.metaKey:e.ctrlKey)&&e.keyCode==88)xe("")}}function fe(e){if(window.opera&&e.keyCode==oe){oe=null;dn(e);return}if(M.onKeyEvent&&M.onKeyEvent($,hn(e)))return;if(window.opera&&!e.which&&le(e))return;if(M.electricChars&&h.electricChars){var t=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode);if(h.electricChars.indexOf(t)>-1)setTimeout(jt(function(){Qe(z.to.line,"smart")}),75)}be()}function ue(e){if(M.onKeyEvent&&M.onKeyEvent($,hn(e)))return;if(e.keyCode==16)k=null}function se(){if(M.readOnly)return;if(!y){if(M.onFocus)M.onFocus($);y=true;if(u.className.search(/\bCodeMirror-focused\b/)==-1)u.className+=" CodeMirror-focused";if(!O)Ae(true)}Me();Ht()}function ce(){if(y){if(M.onBlur)M.onBlur($);y=false;u.className=u.className.replace(" CodeMirror-focused","")}clearInterval(c);setTimeout(function(){if(!y)k=null},150)}function he(e,t,n,r,i){if(_){var l=[];L.iter(e.line,t.line+1,function(e){l.push(e.text)});_.addChange(e.line,n.length,l);while(_.done.length>M.undoDepth)_.done.shift()}me(e,t,n,r,i)}function de(e,t){var n=e.pop();if(n){var r=[],i=n.start+n.added;L.iter(n.start,i,function(e){r.push(e.text)});t.push({start:n.start,added:n.old.length,old:r});var l=je({line:n.start+n.old.length-1,ch:En(r[r.length-1],n.old[n.old.length-1])});me({line:n.start,ch:0},{line:i-1,ch:Z(i-1).text.length},n.old,l,l);W=true}}function ve(){de(_.done,_.undone)}function pe(){de(_.undone,_.done)}function me(e,t,n,r,i){var l=false,o=j.length;if(!M.lineWrapping)L.iter(e.line,t.line,function(e){if(e.text.length==o){l=true;return true}});if(e.line!=t.line||n.length>1)R=true;var a=t.line-e.line,f=Z(e.line),u=Z(t.line);if(e.ch==0&&t.ch==0&&n[n.length-1]==""){var s=[],c=null;if(e.line){c=Z(e.line-1);c.fixMarkEnds(u)}else u.fixMarkStarts();for(var h=0,d=n.length-1;h<d;++h)s.push(rn.inheritMarks(n[h],c));if(a)L.remove(e.line,a,P);if(s.length)L.insert(e.line,s)}else if(f==u){if(n.length==1)f.replace(e.ch,t.ch,n[0]);else{u=f.split(t.ch,n[n.length-1]);f.replace(e.ch,null,n[0]);f.fixMarkEnds(u);var s=[];for(var h=1,d=n.length-1;h<d;++h)s.push(rn.inheritMarks(n[h],f));s.push(u);L.insert(e.line+1,s)}}else if(n.length==1){f.replace(e.ch,null,n[0]);u.replace(null,t.ch,"");f.append(u);L.remove(e.line+1,a,P)}else{var s=[];f.replace(e.ch,null,n[0]);u.replace(null,t.ch,n[n.length-1]);f.fixMarkEnds(u);for(var h=1,d=n.length-1;h<d;++h)s.push(rn.inheritMarks(n[h],f));if(a>1)L.remove(e.line+1,a-1,P);L.insert(e.line+1,s)}if(M.lineWrapping){var v=b.clientWidth/zt()-3;L.iter(e.line,e.line+n.length,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/v)||1;if(t!=e.height)J(e,t)})}else{L.iter(e.line,h+n.length,function(e){var t=e.text;if(t.length>o){j=t;o=t.length;G=null;l=false}});if(l){o=0;j="";G=null;L.iter(0,L.size,function(e){var t=e.text;if(t.length>o){o=t.length;j=t}})}}var p=[],m=n.length-a-1;for(var h=0,g=A.length;h<g;++h){var x=A[h];if(x<e.line)p.push(x);else if(x>t.line)p.push(x+m)}var y=e.line+Math.min(n.length,500);Pt(e.line,y);p.push(y);A=p;Bt(100);H.push({from:e.line,to:t.line+1,diff:m});var k={from:e,to:t,text:n};if(D){for(var w=D;w.next;w=w.next){}w.next=k}else D=k;function C(e){return e<=Math.min(t.line,t.line+m)?e:e+m}Be(r,i,C(z.from.line),C(z.to.line));S.style.height=L.height*St()+2*Tt()+"px"}function ge(r,i,l){i=je(i);if(!l)l=i;else l=je(l);r=Hn(r);function t(e){if(Ln(e,i))return e;if(!Ln(l,e))return o;var t=e.line+r.length-(l.line-i.line)-1;var n=e.ch;if(e.line==l.line)n+=r[r.length-1].length-(l.ch-(l.line==i.line?i.ch:0));return{line:t,ch:n}}var o;ye(r,i,l,function(e){o=e;return{from:t(z.from),to:t(z.to)}});return o}function xe(e,t){ye(Hn(e),z.from,z.to,function(e){if(t=="end")return{from:e,to:e};else if(t=="start")return{from:z.from,to:z.from};else return{from:z.from,to:e}})}function ye(e,t,n,r){var i=e.length==1?e[0].length+t.ch:e[e.length-1].length;var l=r({line:t.line+e.length-1,ch:i});he(t,n,e,l.from,l.to)}function ke(e,t){var n=e.line,r=t.line;if(n==r)return Z(n).text.slice(e.ch,t.ch);var i=[Z(n).text.slice(e.ch)];L.iter(n+1,r,function(e){i.push(e.text)});i.push(Z(r).text.slice(0,t.ch));return i.join("\n")}function we(){return ke(z.from,z.to)}var Ce=false;function Me(){if(Ce)return;i.set(M.pollInterval,function(){Vt();Le();if(y)Me();Kt()})}function be(){var t=false;Ce=true;function n(){Vt();var e=Le();if(!e&&!t){t=true;i.set(60,n)}else{Ce=false;Me()}Kt()}i.set(20,n)}var Se="";function Le(){if(O||!y||Dn(a))return false;var e=a.value;if(e==Se)return false;k=null;var t=0,n=Math.min(Se.length,e.length);while(t<n&&Se[t]==e[t])++t;if(t<Se.length)z.from={line:z.from.line,ch:z.from.ch-(Se.length-t)};else if(E&&Sn(z.from,z.to))z.to={line:z.to.line,ch:Math.min(Z(z.to.line).text.length,z.to.ch+(e.length-t))};xe(e.slice(t),"end");Se=e;return true}function Ae(e){if(!Sn(z.from,z.to)){Se="";a.value=we();a.select()}else if(e)Se=a.value=""}function ze(){if(!M.readOnly)a.focus()}function Te(){if(!l.getBoundingClientRect)return;var e=l.getBoundingClientRect();if(wn&&e.top==e.bottom)return;var t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(e.top<0||e.bottom>t)l.scrollIntoView()}function Ee(){var e=yt(z.inverted?z.from:z.to);var t=M.lineWrapping?Math.min(e.x,p.offsetWidth):e.x;return We(t,e.y,t,e.yBot)}function We(e,t,n,r){var i=Et(),l=Tt(),o=St();t+=l;r+=l;e+=i;n+=i;var a=b.clientHeight,f=b.scrollTop,u=false,s=true;if(t<f){b.scrollTop=Math.max(0,t-2*o);u=true}else if(r>f+a){b.scrollTop=r+o-a;u=true}var c=b.clientWidth,h=b.scrollLeft;var d=M.fixedGutter?v.clientWidth:0;if(e<h+d){if(e<50)e=0;b.scrollLeft=Math.max(0,e-10-d);u=true}else if(n>c+h-3){b.scrollLeft=n+10-c;u=true;if(n>S.clientWidth)s=false}if(u&&M.onScroll)M.onScroll($);return s}function Ne(){var e=St(),t=b.scrollTop-Tt();var n=Math.max(0,Math.floor(t/e));var r=Math.ceil((t+b.clientHeight)/e);return{from:un(L,n),to:un(L,r)}}function He(e,t){if(!b.clientWidth){B=V=U=0;return}var n=Ne();if(e!==true&&e.length==0&&n.from>=B&&n.to<=V)return;var r=Math.max(n.from-100,0),i=Math.min(L.size,n.to+100);if(B<r&&r-B<20)r=B;if(V>i&&V-i<20)i=Math.min(L.size,V);var l=e===true?[]:De([{from:B,to:V,domStart:0}],e);var o=0;for(var a=0;a<l.length;++a){var f=l[a];if(f.from<r){f.domStart+=r-f.from;f.from=r}if(f.to>i)f.to=i;if(f.from>=f.to)l.splice(a--,1);else o+=f.to-f.from}if(o==i-r)return;l.sort(function(e,t){return e.domStart-t.domStart});var u=St(),s=v.style.display;x.style.display=v.style.display="none";Ie(r,i,l);x.style.display="";var c=r!=B||i!=V||K!=b.clientHeight+u;if(c)K=b.clientHeight+u;B=r;V=i;U=sn(L,r);d.style.top=U*u+"px";S.style.height=L.height*u+2*Tt()+"px";if(x.childNodes.length!=V-B)throw new Error("BAD PATCH! "+JSON.stringify(l)+" size="+(V-B)+" nodes="+x.childNodes.length);if(M.lineWrapping){G=b.clientWidth;var h=x.firstChild;L.iter(B,V,function(e){if(!e.hidden){var t=Math.round(h.offsetHeight/u)||1;if(e.height!=t){J(e,t);R=true}}h=h.nextSibling})}else{if(G==null)G=pt(j);if(G>b.clientWidth){p.style.width=G+"px";S.style.width="";S.style.width=b.scrollWidth+"px"}else{p.style.width=S.style.width=""}}v.style.display=s;if(c||R)Oe();Re();if(!t&&M.onUpdate)M.onUpdate($);return true}function De(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],l=[],o=i.diff||0;for(var a=0,f=e.length;a<f;++a){var u=e[a];if(i.to<=u.from&&i.diff)l.push({from:u.from+o,to:u.to+o,domStart:u.domStart});else if(i.to<=u.from||i.from>=u.to)l.push(u);else{if(i.from>u.from)l.push({from:u.from,to:i.from,domStart:u.domStart});if(i.to<u.to)l.push({from:i.to+o,to:u.to+o,domStart:u.domStart+(i.to-u.from)})}}e=l}return e}function Ie(e,t,r){if(!r.length)x.innerHTML="";else{function n(e){var t=e.nextSibling;e.parentNode.removeChild(e);return t}var i=0,l=x.firstChild,o;for(var a=0;a<r.length;++a){var f=r[a];while(f.domStart>i){l=n(l);i++}for(var u=0,s=f.to-f.from;u<s;++u){l=l.nextSibling;i++}}while(l)l=n(l)}var c=r.shift(),l=x.firstChild,u=e;var h=z.from.line,d=z.to.line,v=h<e&&d>=e;var p=g.createElement("div"),m;L.iter(e,t,function(e){var t=null,n=null;if(v){t=0;if(d==u){v=false;n=z.to.ch}}else if(h==u){if(d==u){t=z.from.ch;n=z.to.ch}else{v=true;t=z.from.ch}}if(c&&c.to==u)c=r.shift();if(!c||c.from>u){if(e.hidden)p.innerHTML="<pre></pre>";else p.innerHTML=e.getHTML(t,n,true,Y);x.insertBefore(p.firstChild,l)}else{l=l.nextSibling}++u})}function Oe(){if(!M.gutter&&!M.lineNumbers)return;var e=d.offsetHeight,t=b.clientHeight;v.style.height=(e-t<2?t:e)+"px";var i=[],l=B;L.iter(B,Math.max(V,B+1),function(e){if(e.hidden){i.push("<pre></pre>")}else{var t=e.gutterMarker;var n=M.lineNumbers?l+M.firstLineNumber:null;if(t&&t.text)n=t.text.replace("%N%",n!=null?n:"");else if(n==null)n=" ";i.push(t&&t.style?'<pre class="'+t.style+'">':"<pre>",n);for(var r=1;r<e.height;++r)i.push("<br/>&#160;");i.push("</pre>")}++l});v.style.display="none";s.innerHTML=i.join("");var n=String(L.size).length,r=s.firstChild,o=bn(r),a="";while(o.length+a.length<n)a+=" ";if(a)r.insertBefore(g.createTextNode(a),r.firstChild);v.style.display="";p.style.marginLeft=v.offsetWidth+"px";R=false}function Re(){var e=z.inverted?z.from:z.to,t=St();var n=yt(e,true);var r=Mn(u),i=Mn(x);o.style.top=n.y+i.top-r.top+"px";o.style.left=n.x+i.left-r.left+"px";if(Sn(z.from,z.to)){l.style.top=n.y+"px";l.style.left=(M.lineWrapping?Math.min(n.x,p.offsetWidth):n.x)+"px";l.style.display=""}else l.style.display="none"}function Pe(e){if(e)k=k||(z.inverted?z.to:z.from);else k=null}function Ue(e,t){var n=k&&je(k);if(n){if(Ln(n,e))e=n;else if(Ln(t,n))t=n}Be(e,t);N=true}function Be(e,t,n,r){qe=null;if(n==null){n=z.from.line;r=z.to.line}if(Sn(z.from,e)&&Sn(z.to,t))return;if(Ln(t,e)){var i=t;t=e;e=i}if(e.line!=n)e=Ve(e,n,z.from.ch);if(t.line!=r)t=Ve(t,r,z.to.ch);if(Sn(e,t))z.inverted=false;else if(Sn(e,z.to))z.inverted=false;else if(Sn(t,z.from))z.inverted=true;if(Sn(e,t)){if(!Sn(z.from,z.to))H.push({from:n,to:r+1})}else if(Sn(z.from,z.to)){H.push({from:e.line,to:t.line+1})}else{if(!Sn(e,z.from)){if(e.line<n)H.push({from:e.line,to:Math.min(t.line,n)+1});else H.push({from:n,to:Math.min(r,e.line)+1})}if(!Sn(t,z.to)){if(t.line<r)H.push({from:Math.max(n,e.line),to:r+1});else H.push({from:Math.max(e.line,r),to:t.line+1})}}z.from=e;z.to=t;I=true}function Ve(l,e,o){function t(e){var t=l.line+e,n=e==1?L.size:-1;while(t!=n){var r=Z(t);if(!r.hidden){var i=l.ch;if(i>o||i>r.text.length)i=r.text.length;return{line:t,ch:i}}t+=e}}var n=Z(l.line);if(!n.hidden)return l;if(l.line>=e)return t(1)||t(-1);else return t(-1)||t(1)}function Ke(e,t,n){var r=je({line:e,ch:t||0});(n?Ue:Be)(r,r)}function Fe(e){return Math.max(0,Math.min(e,L.size-1))}function je(e){if(e.line<0)return{line:0,ch:0};if(e.line>=L.size)return{line:L.size-1,ch:Z(L.size-1).text.length};var t=e.ch,n=Z(e.line).text.length;if(t==null||t>n)return{line:e.line,ch:n};else if(t<0)return{line:e.line,ch:0};else return e}function Ge(r,e){var t=z.inverted?z.from:z.to,i=t.line,n=t.ch;var l=Z(i);function o(){for(var e=i+r,t=r<0?-1:L.size;e!=t;e+=r){var n=Z(e);if(!n.hidden){i=e;l=n;return true}}}function a(e){if(n==(r<0?0:l.text.length)){if(!e&&o())n=r<0?l.text.length:0;else return false}else n+=r;return true}if(e=="char")a();else if(e=="column")a(true);else if(e=="word"){var f=false;for(;;){if(r<0)if(!a())break;if(Nn(l.text.charAt(n)))f=true;else if(f){if(r<0){r=1;a()}break}if(r>0)if(!a())break}}return{line:i,ch:n}}function Ye(e,t){var n=e<0?z.from:z.to;if(k||Sn(z.from,z.to))n=Ge(e,t);Ke(n.line,n.ch,true)}function _e(e,t){if(!Sn(z.from,z.to))ge("",z.from,z.to);else if(e<0)ge("",Ge(e,t),z.to);else ge("",z.from,Ge(e,t));N=true}var qe=null;function Xe(e,t){var n=0,r=yt(z.inverted?z.from:z.to,true);if(qe!=null)r.x=qe;if(t=="page")n=b.clientHeight;else if(t=="line")n=St();var i=kt(r.x,r.y+n*e+2);Ke(i.line,i.ch,true);qe=r.x}function $e(e){var t=Z(e.line).text;var n=e.ch,r=e.ch;while(n>0&&Nn(t.charAt(n-1)))--n;while(r<t.length&&Nn(t.charAt(r)))++r;Ue({line:e.line,ch:n},{line:e.line,ch:r})}function Ze(e){Ue({line:e,ch:0},{line:e,ch:Z(e).text.length})}function Je(e){if(Sn(z.from,z.to))return Qe(z.from.line,e);var t=z.to.line-(z.to.ch?0:1);for(var n=z.from.line;n<=t;++n)Qe(n,e)}function Qe(e,t){if(!t)t="add";if(t=="smart"){if(!h.indent)t="prev";else var n=Rt(e)}var r=Z(e),i=r.indentation(M.tabSize),l=r.text.match(/^\s*/)[0],o;if(t=="prev"){if(e)o=Z(e-1).indentation(M.tabSize);else o=0}else if(t=="smart")o=h.indent(n,r.text.slice(l.length),r.text);else if(t=="add")o=i+M.indentUnit;else if(t=="subtract")o=i-M.indentUnit;o=Math.max(0,o);var a=o-i;if(!a){if(z.from.line!=e&&z.to.line!=e)return;var f=l}else{var f="",u=0;if(M.indentWithTabs)for(var s=Math.floor(o/M.tabSize);s;--s){u+=M.tabSize;f+="\t"}while(u<o){++u;f+=" "}}ge(f,{line:e,ch:0},{line:e,ch:l.length})}function et(){h=Yt.getMode(M,M.mode);L.iter(0,L.size,function(e){e.stateAfter=null});A=[0];Bt()}function tt(){var e=M.gutter||M.lineNumbers;v.style.display=e?"":"none";if(e)R=true;else x.parentNode.style.marginLeft=0}function nt(e,t){if(M.lineWrapping){u.className+=" CodeMirror-wrap";var n=b.clientWidth/zt()-3;L.iter(0,L.size,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/n)||1;if(t!=1)J(e,t)});p.style.width=S.style.width=""}else{u.className=u.className.replace(" CodeMirror-wrap","");G=null;j="";L.iter(0,L.size,function(e){if(e.height!=1&&!e.hidden)J(e,1);if(e.text.length>j.length)j=e.text})}H.push({from:0,to:L.size})}function rt(){for(var e='<span class="cm-tab">',t=0;t<M.tabSize;++t)e+=" ";return e+"</span>"}function it(){Y=rt();He(true)}function lt(){b.className=b.className.replace(/\s*cm-s-\w+/g,"")+M.theme.replace(/(^|\s)\s*/g," cm-s-")}function ot(){this.set=[]}ot.prototype.clear=jt(function(){var e=Infinity,t=-Infinity;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],l=i.marked;if(!l||!i.parent)continue;var o=fn(i);e=Math.min(e,o);t=Math.max(t,o);for(var a=0;a<l.length;++a)if(l[a].set==this.set)l.splice(a--,1)}if(e!=Infinity)H.push({from:e,to:t+1})});ot.prototype.find=function(){var e,t;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],l=i.marked;for(var o=0;o<l.length;++o){var a=l[o];if(a.set==this.set){if(a.from!=null||a.to!=null){var f=fn(i);if(f!=null){if(a.from!=null)e={line:f,ch:a.from};if(a.to!=null)t={line:f,ch:a.to}}}}}}return{from:e,to:t}};function at(e,t,n){e=je(e);t=je(t);var i=new ot;function r(e,t,n,r){Z(e).addMark(new tn(t,n,r,i.set))}if(e.line==t.line)r(e.line,e.ch,t.ch,n);else{r(e.line,e.ch,null,n);for(var l=e.line+1,o=t.line;l<o;++l)r(l,null,null,n);r(t.line,null,t.ch,n)}H.push({from:e.line,to:t.line+1});return i}function ft(e){e=je(e);var t=new nn(e.ch);Z(e.line).addMark(t);return t}function ut(e,t,n){if(typeof e=="number")e=Z(Fe(e));e.gutterMarker={text:t,style:n};R=true;return e}function st(e){if(typeof e=="number")e=Z(Fe(e));e.gutterMarker=null;R=true}function ct(e,t){var n=e,r=e;if(typeof e=="number")r=Z(Fe(e));else n=fn(e);if(n==null)return null;if(t(r,n))H.push({from:n,to:n+1});else return null;return r}function ht(e,t){return ct(e,function(e){if(e.className!=t){e.className=t;return true}})}function dt(e,n){return ct(e,function(e,t){if(e.hidden!=n){e.hidden=n;J(e,n?0:1);if(n&&(z.from.line==t||z.to.line==t))Be(Ve(z.from,z.from.line,z.from.ch),Ve(z.to,z.to.line,z.to.ch));return R=true}})}function vt(e){if(typeof e=="number"){if(!X(e))return null;var t=e;e=Z(e);if(!e)return null}else{var t=fn(e);if(t==null)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className}}function pt(e){m.innerHTML="<pre><span>x</span></pre>";m.firstChild.firstChild.firstChild.nodeValue=e;return m.firstChild.firstChild.offsetWidth||10}function mt(e,t){if(t<=0)return 0;var n=Z(e),r=n.text;function i(e){m.innerHTML="<pre><span>"+n.getHTML(null,null,false,Y,e)+"</span></pre>";return m.firstChild.firstChild.offsetWidth}var l=0,o=0,a=r.length,f;var u=Math.min(a,Math.ceil(t/zt()));for(;;){var s=i(u);if(s<=t&&u<a)u=Math.min(a,Math.ceil(u*1.2));else{f=s;a=u;break}}if(t>f)return a;u=Math.floor(a*.8);s=i(u);if(s<t){l=u;o=s}for(;;){if(a-l<=1)return f-t>t-o?l:a;var c=Math.ceil((l+a)/2),h=i(c);if(h>t){a=c;f=h}else{l=c;o=h}}}var gt=Math.floor(Math.random()*16777215).toString(16);function xt(e,t){var n="";if(M.lineWrapping){var r=e.text.indexOf(" ",t+2);n=Tn(e.text.slice(t+1,r<0?e.text.length:r+(wn?5:0)))}m.innerHTML="<pre>"+e.getHTML(null,null,false,Y,t)+'<span id="CodeMirror-temp-'+gt+'">'+Tn(e.text.charAt(t)||" ")+"</span>"+n+"</pre>";var i=document.getElementById("CodeMirror-temp-"+gt);var l=i.offsetTop,o=i.offsetLeft;if(wn&&t&&l==0&&o==0){var a=document.createElement("span");a.innerHTML="x";i.parentNode.insertBefore(a,i.nextSibling);l=a.offsetTop}return{top:l,left:o}}function yt(e,t){var n,r=St(),i=r*(sn(L,e.line)-(t?U:0));if(e.ch==0)n=0;else{var l=xt(Z(e.line),e.ch);n=l.left;if(M.lineWrapping)i+=Math.max(0,l.top)}return{x:n,y:i,yBot:i+r}}function kt(e,t){if(t<0)t=0;var r=St(),n=zt(),i=U+Math.floor(t/r);var l=un(L,i);if(l>=L.size)return{line:L.size-1,ch:Z(L.size-1).text.length};var o=Z(l),a=o.text;var f=M.lineWrapping,u=f?i-sn(L,l):0;if(e<=0&&u==0)return{line:l,ch:0};function s(e){var t=xt(o,e);if(f){var n=Math.round(t.top/r);return Math.max(0,t.left+(n-u)*b.clientWidth)}return t.left}var c=0,h=0,d=a.length,v;var p=Math.min(d,Math.ceil((e+u*b.clientWidth*.9)/n));for(;;){var m=s(p);if(m<=e&&p<d)p=Math.min(d,Math.ceil(p*1.2));else{v=m;d=p;break}}if(e>v)return{line:l,ch:d};p=Math.floor(d*.8);m=s(p);if(m<e){c=p;h=m}for(;;){if(d-c<=1)return{line:l,ch:v-e>e-h?c:d};var g=Math.ceil((c+d)/2),x=s(g);if(x>e){d=g;v=x}else{c=g;h=x}}}function wt(e){var t=yt(e,true),n=Mn(p);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}var Ct,Mt,bt;function St(){if(bt==null){bt="<pre>";for(var e=0;e<49;++e)bt+="x<br/>";bt+="x</pre>"}var t=x.clientHeight;if(t==Mt)return Ct;Mt=t;m.innerHTML=bt;Ct=m.firstChild.offsetHeight/50||1;m.innerHTML="";return Ct}var Lt,At=0;function zt(){if(b.clientWidth==At)return Lt;At=b.clientWidth;return Lt=pt("x")}function Tt(){return p.offsetTop}function Et(){return p.offsetLeft}function Wt(e,t){var n=Mn(b,true),r,i;try{r=e.clientX;i=e.clientY}catch(e){return null}if(!t&&(r-n.left>b.clientWidth||i-n.top>b.clientHeight))return null;var l=Mn(p,true);return kt(r-l.left,i-l.top)}function Nt(e){var t=Wt(e);if(!t||window.opera)return;if(Sn(z.from,z.to)||Ln(t,z.from)||!Ln(t,z.to))jt(Ke)(t.line,t.ch);var n=a.style.cssText;o.style.position="absolute";a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";O=true;var r=a.value=we();ze();a.select();function i(){var e=Hn(a.value).join("\n");if(e!=r)jt(xe)(e,"end");o.style.position="relative";a.style.cssText=n;O=false;Ae(true);Me()}if(kn){vn(e);var l=gn(window,"mouseup",function(){l();setTimeout(i,20)},true)}else{setTimeout(i,50)}}function Ht(){clearInterval(c);var e=true;l.style.visibility="";c=setInterval(function(){l.style.visibility=(e=!e)?"":"hidden"},650)}var Dt={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function It(e){var t=z.inverted?z.from:z.to,n=Z(t.line),r=t.ch-1;var i=r>=0&&Dt[n.text.charAt(r)]||Dt[n.text.charAt(++r)];if(!i)return;var l=i.charAt(0),h=i.charAt(1)==">",d=h?1:-1,o=n.styles;for(var a=r+1,f=0,u=o.length;f<u;f+=2)if((a-=o[f].length)<=0){var v=o[f+1];break}var p=[n.text.charAt(r)],m=/[(){}[\]]/;function s(e,t,n){if(!e.text)return;var r=e.styles,i=h?0:e.text.length-1,l;for(var o=h?0:r.length-2,a=h?r.length:-2;o!=a;o+=2*d){var f=r[o];if(r[o+1]!=null&&r[o+1]!=v){i+=d*f.length;continue}for(var u=h?0:f.length-1,s=h?f.length:-1;u!=s;u+=d,i+=d){if(i>=t&&i<n&&m.test(l=f.charAt(u))){var c=Dt[l];if(c.charAt(1)==">"==h)p.push(l);else if(p.pop()!=c.charAt(0))return{pos:i,match:false};else if(!p.length)return{pos:i,match:true}}}}}for(var f=t.line,u=h?Math.min(f+100,L.size):Math.max(-1,f-100);f!=u;f+=d){var n=Z(f),c=f==t.line;var g=s(n,c&&h?r+1:0,c&&!h?r:n.text.length);if(g)break}if(!g)g={pos:null,match:false};var v=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var x=at({line:t.line,ch:r},{line:t.line,ch:r+1},v),y=g.pos!=null&&at({line:f,ch:g.pos},{line:f,ch:g.pos+1},v);var k=jt(function(){x.clear();y&&y.clear()});if(e)setTimeout(k,800);else F=k}function Ot(e){var t,n;for(var r=e,i=e-40;r>i;--r){if(r==0)return 0;var l=Z(r-1);if(l.stateAfter)return r;var o=l.indentation(M.tabSize);if(n==null||t>o){n=r-1;t=o}}return n}function Rt(e){var t=Ot(e),n=t&&Z(t-1).stateAfter;if(!n)n=en(h);else n=Qt(h,n);L.iter(t,e,function(e){e.highlight(h,n,M.tabSize);e.stateAfter=Qt(h,n)});if(t<e)H.push({from:t,to:e});if(e<L.size&&!Z(e).stateAfter)A.push(e);return n}function Pt(e,t){var n=Rt(e);L.iter(e,t,function(e){e.highlight(h,n,M.tabSize);e.stateAfter=Qt(h,n)})}function Ut(){var r=+new Date+M.workTime;var e=A.length;while(A.length){if(!Z(B).stateAfter)var i=B;else var i=A.pop();if(i>=L.size)continue;var t=Ot(i),l=t&&Z(t-1).stateAfter;if(l)l=Qt(h,l);else l=en(h);var o=0,a=h.compareStates,f=false,u=t,s=false;L.iter(u,L.size,function(e){var t=e.stateAfter;if(+new Date>r){A.push(u);Bt(M.workDelay);if(f)H.push({from:i,to:u+1});return s=true}var n=e.highlight(h,l,M.tabSize);if(n)f=true;e.stateAfter=Qt(h,l);if(a){if(t&&a(t,l))return true}else{if(n!==false||!t)o=0;else if(++o>3&&(!h.indent||h.indent(t,"")==h.indent(l,"")))return true}++u});if(s)return;if(f)H.push({from:i,to:u+1})}if(e&&M.onHighlightComplete)M.onHighlightComplete($)}function Bt(e){if(!A.length)return;f.set(e,jt(Ut))}function Vt(){W=N=D=null;H=[];I=false;P=[]}function Kt(){var e=false,t;if(I)e=!Ee();if(H.length)t=He(H,true);else{if(I)Re();if(R)Oe()}if(e)Ee();if(I){Te();Ht()}if(y&&!O&&(W===true||W!==false&&I))Ae(N);if(I&&M.matchBrackets)setTimeout(jt(function(){if(F){F();F=null}if(Sn(z.from,z.to))It(false)}),20);var n=D,r=P;if(I&&M.onCursorActivity)M.onCursorActivity($);if(n&&M.onChange&&$)M.onChange($,n);for(var i=0;i<r.length;++i)r[i]($);if(t&&M.onUpdate)M.onUpdate($)}var Ft=0;function jt(t){return function(){if(!Ft++)Vt();try{var e=t.apply(this,arguments)}finally{if(!--Ft)Kt()}return e}}for(var Gt in qt)if(qt.propertyIsEnumerable(Gt)&&!$.propertyIsEnumerable(Gt))$[Gt]=qt[Gt];return $}Yt.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var _t=/Mac/.test(navigator.platform);var e=/Win/.test(navigator.platform);var l={},o={};Yt.defineMode=function(e,t){if(!Yt.defaults.mode&&e!="null")Yt.defaults.mode=e;l[e]=t};Yt.defineMIME=function(e,t){o[e]=t};Yt.getMode=function(e,t){if(typeof t=="string"&&o.hasOwnProperty(t))t=o[t];if(typeof t=="string")var n=t,r={};else if(t!=null)var n=t.name,r=t;var i=l[n];if(!i){if(window.console)console.warn("No mode "+n+" found, falling back to plain text.");return Yt.getMode(e,"text/plain")}return i(e,r||{})};Yt.listModes=function(){var e=[];for(var t in l)if(l.propertyIsEnumerable(t))e.push(t);return e};Yt.listMIMEs=function(){var e=[];for(var t in o)if(o.propertyIsEnumerable(t))e.push({mime:t,mode:o[t]});return e};var qt=Yt.extensions={};Yt.defineExtension=function(e,t){qt[e]=t};var Xt=Yt.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(true),n=e.getCursor(false),r=!Sn(t,n);if(!r&&e.getLine(t.line).length==t.ch)e.replaceRange("",t,{line:t.line+1,ch:0});else e.replaceRange("",t,r?n:{line:t.line})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,true)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,true)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,true)},goLineStartSmart:function(e){var t=e.getCursor();var n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,true)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,true)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);if(t.ch>0&&t.ch<n.length-1)e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end");e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}};var $t=Yt.keyMap={};$t.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};$t.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};$t.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};$t["default"]=_t?$t.macDefault:$t.pcDefault;$t.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function Zt(e,t,n){function o(e,t,n){var r=t[e];if(r!=null)return r;if(n==null)n=t.fallthrough;if(n==null)return t.catchall;if(typeof n=="string")return o(e,$t[n]);for(var i=0,l=n.length;i<l;++i){r=o(e,$t[n[i]]);if(r!=null)return r}return null}return t?o(e,t,n):o(e,$t[n])}function Jt(e){var t=In[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}Yt.fromTextArea=function(t,e){if(!e)e={};e.value=t.value;if(!e.tabindex&&t.tabindex)e.tabindex=t.tabindex;function n(){t.value=o.getValue()}if(t.form){var r=gn(t.form,"submit",n,true);if(typeof t.form.submit=="function"){var i=t.form.submit;function l(){n();t.form.submit=i;t.form.submit();t.form.submit=l}t.form.submit=l}}t.style.display="none";var o=Yt(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);o.save=n;o.getTextArea=function(){return t};o.toTextArea=function(){n();t.parentNode.removeChild(o.getWrapperElement());t.style.display="";if(t.form){r();if(typeof t.form.submit=="function")t.form.submit=i}};return o};function Qt(e,t){if(t===true)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];if(i instanceof Array)i=i.concat([]);n[r]=i}return n}Yt.copyState=Qt;function en(e,t,n){return e.startState?e.startState(t,n):true}Yt.startState=en;function c(e,t){this.pos=this.start=0;this.string=e;this.tabSize=t||8}c.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n){++this.pos;return t}},eatWhile:function(e){var t=this.pos;while(this.eat(e)){}return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1){this.pos=t;return true}},backUp:function(e){this.pos-=e},column:function(){return i(this.string,this.start,this.tabSize)},indentation:function(){return i(this.string,null,this.tabSize)},match:function(e,t,n){if(typeof e=="string"){function r(e){return n?e.toLowerCase():e}if(r(this.string).indexOf(r(e),this.pos)==this.pos){if(t!==false)this.pos+=e.length;return true}}else{var i=this.string.slice(this.pos).match(e);if(i&&t!==false)this.pos+=i[0].length;return i}},current:function(){return this.string.slice(this.start,this.pos)}};Yt.StringStream=c;function tn(e,t,n,r){this.from=e;this.to=t;this.style=n;this.set=r}tn.prototype={attach:function(e){this.set.push(e)},detach:function(e){var t=Wn(this.set,e);if(t>-1)this.set.splice(t,1)},split:function(e,t){if(this.to<=e&&this.to!=null)return null;var n=this.from<e||this.from==null?null:this.from-e+t;var r=this.to==null?null:this.to-e+t;return new tn(n,r,this.style,this.set)},dup:function(){return new tn(null,null,this.style,this.set)},clipTo:function(e,t,n,r,i){if(this.from!=null&&this.from>=t)this.from=Math.max(r,this.from)+i;if(this.to!=null&&this.to>t)this.to=r<this.to?this.to+i:t;if(e&&r>this.from&&(r<this.to||this.to==null))this.from=null;if(n&&(t<this.to||this.to==null)&&(t>this.from||this.from==null))this.to=null},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(e){return this.set==e.set}};function nn(e){this.from=e;this.to=e;this.line=null}nn.prototype={attach:function(e){this.line=e},detach:function(e){if(this.line==e)this.line=null},split:function(e,t){if(e<this.from){this.from=this.to=this.from-e+t;return this}},isDead:function(){return this.from>this.to},clipTo:function(e,t,n,r,i){if((e||t<this.from)&&(n||r>this.to)){this.from=0;this.to=-1}else if(this.from>t){this.from=this.to=Math.max(r,this.from)+i}},sameSet:function(e){return false},find:function(){if(!this.line||!this.line.parent)return null;return{line:fn(this.line),ch:this.from}},clear:function(){if(this.line){var e=Wn(this.line.marked,this);if(e!=-1)this.line.marked.splice(e,1);this.line=null}}};function rn(e,t){this.styles=t||[e,null];this.text=e;this.height=1;this.marked=this.gutterMarker=this.className=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}rn.inheritMarks=function(e,t){var n=new rn(e),r=t&&t.marked;if(r){for(var i=0;i<r.length;++i){if(r[i].to==null&&r[i].style){var l=n.marked||(n.marked=[]),o=r[i];var a=o.dup();l.push(a);a.attach(n)}}}return n};rn.prototype={replace:function(e,t,n){var r=[],i=this.marked,l=t==null?this.text.length:t;u(0,e,this.styles,r);if(n)r.push(n,null);u(l,this.text.length,this.styles,r);this.styles=r;this.text=this.text.slice(0,e)+n+this.text.slice(l);this.stateAfter=null;if(i){var o=n.length-(l-e);for(var a=0,f=i[a];a<i.length;++a){f.clipTo(e==null,e||0,t==null,l,o);if(f.isDead()){f.detach(this);i.splice(a--,1)}}}},split:function(e,t){var n=[t,null],r=this.marked;u(e,this.text.length,this.styles,n);var i=new rn(t+this.text.slice(e),n);if(r){for(var l=0;l<r.length;++l){var o=r[l];var a=o.split(e,t.length);if(a){if(!i.marked)i.marked=[];i.marked.push(a);a.attach(i)}}}return i},append:function(e){var t=this.text.length,n=e.marked,r=this.marked;this.text+=e.text;u(0,e.text.length,e.styles,this.styles);if(r){for(var i=0;i<r.length;++i)if(r[i].to==null)r[i].to=t}if(n&&n.length){if(!r)this.marked=r=[];e:for(var i=0;i<n.length;++i){var l=n[i];if(!l.from){for(var o=0;o<r.length;++o){var a=r[o];if(a.to==t&&a.sameSet(l)){a.to=l.to==null?null:l.to+t;if(a.isDead()){a.detach(this);n.splice(i--,1)}continue e}}}r.push(l);l.attach(this);l.from+=t;if(l.to!=null)l.to+=t}}},fixMarkEnds:function(e){var t=this.marked,n=e.marked;if(!t)return;for(var r=0;r<t.length;++r){var i=t[r],l=i.to==null;if(l&&n){for(var o=0;o<n.length;++o)if(n[o].sameSet(i)){l=false;break}}if(l)i.to=this.text.length}},fixMarkStarts:function(){var e=this.marked;if(!e)return;for(var t=0;t<e.length;++t)if(e[t].from==null)e[t].from=0},addMark:function(e){e.attach(this);if(this.marked==null)this.marked=[];this.marked.push(e);this.marked.sort(function(e,t){return(e.from||0)-(t.from||0)})},highlight:function(e,t,n){var r=new c(this.text,n),i=this.styles,l=0;var o=false,a=i[0],f;if(this.text==""&&e.blankLine)e.blankLine(t);while(!r.eol()){var u=e.token(r,t);var s=this.text.slice(r.start,r.pos);r.start=r.pos;if(l&&i[l-1]==u)i[l-2]+=s;else if(s){if(!o&&(i[l+1]!=u||l&&i[l-2]!=f))o=true;i[l++]=s;i[l++]=u;f=a;a=i[l]}if(r.pos>5e3){i[l++]=this.text.slice(r.pos);i[l++]=null;break}}if(i.length!=l){i.length=l;o=true}if(l&&i[l-2]!=f)o=true;return o||(i.length<5&&this.text.length<10?null:false)},getTokenAt:function(e,t,n){var r=this.text,i=new c(r);while(i.pos<n&&!i.eol()){i.start=i.pos;var l=e.token(i,t)}return{start:i.start,end:i.pos,string:i.current(),className:l||null,state:t}},indentation:function(e){return i(this.text,null,e)},getHTML:function(e,t,n,r,i){var l=[],o=true;if(n)l.push(this.className?'<pre class="'+this.className+'">':"<pre>");function a(e,t){if(!e)return;if(o&&wn&&e.charAt(0)==" ")e=" "+e.slice(1);o=false;if(t)l.push('<span class="',t,'">',Tn(e).replace(/\t/g,r),"</span>");else l.push(Tn(e).replace(/\t/g,r))}var f=this.styles,u=this.text,s=this.marked;if(e==t)e=null;var c=u.length;if(i!=null)c=Math.min(i,c);if(!u&&i==null)a(" ",e!=null&&t==null?"CodeMirror-selected":null);else if(!s&&e==null)for(var h=0,d=0;d<c;h+=2){var v=f[h],p=f[h+1],m=v.length;if(d+m>c)v=v.slice(0,c-d);d+=m;a(v,p&&"cm-"+p)}else{var g=0,h=0,x="",p,y=0;var k=-1,w=null;function C(){if(s){k+=1;w=k<s.length?s[k]:null}}C();while(g<c){var M=c;var b="";if(e!=null){if(e>g)M=e;else if(t==null||t>g){b=" CodeMirror-selected";if(t!=null)M=Math.min(M,t)}}while(w&&w.to!=null&&w.to<=g)C();if(w){if(w.from>g)M=Math.min(M,w.from);else{b+=" "+w.style;if(w.to!=null)M=Math.min(M,w.to)}}for(;;){var S=g+x.length;var L=p;if(b)L=p?p+b:b;a(S>M?x.slice(0,M-g):x,L);if(S>=M){x=x.slice(M-g);g=M;break}g=S;x=f[h++];p="cm-"+f[h++]}}if(e!=null&&t==null)a(" ","CodeMirror-selected")}if(n)l.push("</pre>");return l.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var e=0,t=this.marked.length;e<t;++e)this.marked[e].detach(this)}};function u(e,t,n,r){for(var i=0,l=0,o=0;l<t;i+=2){var a=n[i],f=l+a.length;if(o==0){if(f>e)r.push(a.slice(e-l,Math.min(a.length,t-l)),n[i+1]);if(f>=e)o=1}else if(o==1){if(f>t)r.push(a.slice(0,t-l),n[i+1]);else r.push(a,n[i+1])}l=f}}function ln(e){this.lines=e;this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t){e[t].parent=this;r+=e[t].height}this.height=r}ln.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;r<i;++r){var l=this.lines[r];this.height-=l.height;l.cleanUp();if(l.handlers)for(var o=0;o<l.handlers.length;++o)n.push(l.handlers[o])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n;this.lines.splice.apply(this.lines,[e,0].concat(t));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return true}};function on(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var l=e[r];t+=l.chunkSize();n+=l.height;l.parent=this}this.size=t;this.height=n;this.parent=null}on.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],l=i.chunkSize();if(e<l){var o=Math.min(t,l-e),a=i.height;i.remove(e,o,n);this.height-=a-i.height;if(l==o){this.children.splice(r--,1);i.parent=null}if((t-=o)==0)break;e=0}else e-=l}if(this.size-t<25){var f=[];this.collapse(f);this.children=[new ln(f)]}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length;this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var l=this.children[r],o=l.chunkSize();if(e<=o){l.insertHeight(e,t,n);if(l.lines&&l.lines.length>50){while(l.lines.length>50){var a=l.lines.splice(l.lines.length-25,25);var f=new ln(a);l.height-=f.height;this.children.splice(r+1,0,f);f.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5);var n=new on(t);if(!e.parent){var r=new on(e.children);r.parent=e;e.children=[r,n];e=r}else{e.size-=n.size;e.height-=n.height;var i=Wn(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var l=this.children[r],o=l.chunkSize();if(e<o){var a=Math.min(t,o-e);if(l.iterN(e,a,n))return true;if((t-=a)==0)break;e=0}else e-=o}}};function an(e,t){while(!e.lines){for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}}return e.lines[t]}function fn(e){if(e.parent==null)return null;var t=e.parent,n=Wn(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent){for(var i=0,l=r.children.length;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}}return n}function un(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var l=e.children[r],o=l.height;if(t<o){e=l;continue e}t-=o;n+=l.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var a=e.lines[r],f=a.height;if(t<f)break;t-=f}return n+r}function sn(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var l=e.children[r],o=l.chunkSize();if(t<o){e=l;continue e}t-=o;n+=l.height}return n}while(!e.lines);for(var r=0;r<t;++r)n+=e.lines[r].height;return n}function cn(){this.time=0;this.done=[];this.undone=[]}cn.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(r-this.time>400||!i||i.start>e+t||i.start+i.added<e-i.added+i.old.length)this.done.push({start:e,added:t,old:n});else{var l=0;if(e<i.start){for(var o=i.start-e-1;o>=0;--o)i.old.unshift(n[o]);i.added+=i.start-e;i.start=e}else if(i.start<e){l=e-i.start;t+=l}for(var o=i.added-l,a=n.length;o<a;++o)i.old.push(n[o]);if(i.added<t)i.added=t}this.time=r}};function t(){vn(this)}function hn(e){if(!e.stop)e.stop=t;return e}function dn(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false}function n(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true}function vn(e){dn(e);n(e)}Yt.e_stop=vn;Yt.e_preventDefault=dn;Yt.e_stopPropagation=n;function pn(e){return e.target||e.srcElement}function mn(e){if(e.which)return e.which;else if(e.button&1)return 1;else if(e.button&2)return 3;else if(e.button&4)return 2}function gn(e,t,n,r){if(typeof e.addEventListener=="function"){e.addEventListener(t,n,false);if(r)return function(){e.removeEventListener(t,n,false)}}else{var i=function(e){n(e||window.event)};e.attachEvent("on"+t,i);if(r)return function(){e.detachEvent("on"+t,i)}}}Yt.connect=gn;function xn(){this.id=null}xn.prototype={set:function(e,t){clearTimeout(this.id);this.id=setTimeout(t,e)}};var yn=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return false;var e=document.createElement("div");return"draggable"in e}();var kn=/gecko\/\d{7}/i.test(navigator.userAgent);var wn=/MSIE \d/.test(navigator.userAgent);var Cn=/WebKit\//.test(navigator.userAgent);var r="\n";(function(){var e=document.createElement("textarea");e.value="foo\nbar";if(e.value.indexOf("\r")>-1)r="\r\n"})();function i(e,t,n){if(t==null){t=e.search(/[^\s\u00a0]/);if(t==-1)t=e.length}for(var r=0,i=0;r<t;++r){if(e.charAt(r)=="\t")i+=n-i%n;else++i}return i}function s(e){if(e.currentStyle)return e.currentStyle;return window.getComputedStyle(e,null)}function Mn(e,t){var n=e.ownerDocument.body;var r=0,i=0,l=false;for(var o=e;o;o=o.offsetParent){var a=o.offsetLeft,f=o.offsetTop;if(o==n){r+=Math.abs(a);i+=Math.abs(f)}else{r+=a,i+=f}if(t&&s(o).position=="fixed")l=true}var u=t&&!l?null:n;for(var o=e.parentNode;o!=u;o=o.parentNode)if(o.scrollLeft!=null){r-=o.scrollLeft;i-=o.scrollTop}return{left:r,top:i}}if(document.documentElement.getBoundingClientRect!=null)Mn=function(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(e){n={top:0,left:0}}if(!t){if(window.pageYOffset==null){var r=document.documentElement||document.body.parentNode;if(r.scrollTop==null)r=document.body;n.top+=r.scrollTop;n.left+=r.scrollLeft}else{n.top+=window.pageYOffset;n.left+=window.pageXOffset}}return n};function bn(e){return e.textContent||e.innerText||e.nodeValue||""}function Sn(e,t){return e.line==t.line&&e.ch==t.ch}function Ln(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function An(e){return{line:e.line,ch:e.ch}}var zn=document.createElement("pre");function Tn(e){zn.textContent=e;return zn.innerHTML}if(Tn("a")=="\na")Tn=function(e){zn.textContent=e;return zn.innerHTML.slice(1)};else if(Tn("\t")!="\t")Tn=function(e){zn.innerHTML="";zn.appendChild(document.createTextNode(e));return zn.innerHTML};Yt.htmlEscape=Tn;function En(e,t){if(!t)return e?e.length:0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0;--n,--r)if(e.charAt(n)!=t.charAt(r))break;return r+1}function Wn(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function Nn(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()}var Hn="\n\nb".split(/\n/).length!=3?function(e){var t=0,n,r=[];while((n=e.indexOf("\n",t))>-1){r.push(e.slice(t,e.charAt(n-1)=="\r"?n-1:n));t=n+1}r.push(e.slice(t));return r}:function(e){return e.split(/\r?\n/)};Yt.splitLines=Hn;var Dn=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return false}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}if(!t||t.parentElement()!=e)return false;return t.compareEndPoints("StartToEnd",t)!=0};Yt.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}});Yt.defineMIME("text/plain","null");var In={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};Yt.keyNames=In;(function(){for(var e=0;e<10;e++)In[e+48]=String(e);for(var e=65;e<=90;e++)In[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)In[e+111]=In[e+63235]="F"+e})();return Yt}();CodeMirror.defineMode("xml",function(e,t){var i=e.indentUnit;var r=t.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:false};var l=t.alignCDATA;var o,a;function f(t,n){function e(e){n.tokenize=e;return e(t,n)}var r=t.next();if(r=="<"){if(t.eat("!")){if(t.eat("[")){if(t.match("CDATA["))return e(c("atom","]]>"));else return null}else if(t.match("--"))return e(c("comment","--\x3e"));else if(t.match("DOCTYPE",true,true)){t.eatWhile(/[\w\._\-]/);return e(h(1))}else return null}else if(t.eat("?")){t.eatWhile(/[\w\._\-]/);n.tokenize=c("meta","?>");return"meta"}else{a=t.eat("/")?"closeTag":"openTag";t.eatSpace();o="";var i;while(i=t.eat(/[^\s\u00a0=<>\"\'\/?]/))o+=i;n.tokenize=u;return"tag"}}else if(r=="&"){t.eatWhile(/[^;]/);t.eat(";");return"atom"}else{t.eatWhile(/[^&<]/);return null}}function u(e,t){var n=e.next();if(n==">"||n=="/"&&e.eat(">")){t.tokenize=f;a=n==">"?"endTag":"selfcloseTag";return"tag"}else if(n=="="){a="equals";return null}else if(/[\'\"]/.test(n)){t.tokenize=s(n);return t.tokenize(e,t)}else{e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}function s(n){return function(e,t){while(!e.eol()){if(e.next()==n){t.tokenize=u;break}}return"string"}}function c(n,r){return function(e,t){while(!e.eol()){if(e.match(r)){t.tokenize=f;break}e.next()}return n}}function h(r){return function(e,t){var n;while((n=e.next())!=null){if(n=="<"){t.tokenize=h(r+1);return t.tokenize(e,t)}else if(n==">"){if(r==1){t.tokenize=f;break}else{t.tokenize=h(r-1);return t.tokenize(e,t)}}}return"meta"}}var d,v;function n(){for(var e=arguments.length-1;e>=0;e--)d.cc.push(arguments[e])}function p(){n.apply(null,arguments);return true}function m(e,t){var n=r.doNotIndent.hasOwnProperty(e)||d.context&&d.context.noIndent;d.context={prev:d.context,tagName:e,indent:d.indented,startOfLine:t,noIndent:n}}function g(){if(d.context)d.context=d.context.prev}function x(e){if(e=="openTag"){d.tagName=o;return p(w,y(d.startOfLine))}else if(e=="closeTag"){var t=false;if(d.context){t=d.context.tagName!=o}else{t=true}if(t)v="error";return p(k(t))}return p()}function y(t){return function(e){if(e=="selfcloseTag"||e=="endTag"&&r.autoSelfClosers.hasOwnProperty(d.tagName.toLowerCase()))return p();if(e=="endTag"){m(d.tagName,t);return p()}return p()}}function k(t){return function(e){if(t)v="error";if(e=="endTag"){g();return p()}v="error";return p(arguments.callee)}}function w(e){if(e=="word"){v="attribute";return p(w)}if(e=="equals")return p(C,w);if(e=="string"){v="error";return p(w)}return n()}function C(e){if(e=="word"&&r.allowUnquoted){v="string";return p()}if(e=="string")return p(M);return n()}function M(e){if(e=="string")return p(M);else return n()}return{startState:function(){return{tokenize:f,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(e,t){if(e.sol()){t.startOfLine=true;t.indented=e.indentation()}if(e.eatSpace())return null;v=a=o=null;var n=t.tokenize(e,t);t.type=a;if((n||a)&&n!="comment"){d=t;while(true){var r=t.cc.pop()||x;if(r(a||n))break}}t.startOfLine=false;return v||n},indent:function(e,t,n){var r=e.context;if(e.tokenize!=u&&e.tokenize!=f||r&&r.noIndent)return n?n.match(/^(\s*)/)[0].length:0;if(l&&/<!\[CDATA\[/.test(t))return 0;if(r&&/^<\//.test(t))r=r.prev;while(r&&!r.startOfLine)r=r.prev;if(r)return r.indent+i;else return 0},compareStates:function(e,t){if(e.indented!=t.indented||e.tokenize!=t.tokenize)return false;for(var n=e.context,r=t.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return false}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});CodeMirror.defineMode("javascript",function(e,t){var o=e.indentUnit;var a=t.json;var l=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c");var i=e("operator"),l={type:"atom",style:"atom"};return{if:t,while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:r,delete:r,throw:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:l,false:l,null:l,undefined:l,NaN:l,Infinity:l}}();var f=/[+\-*&%=<>!?|]/;function u(e,t,n){t.tokenize=n;return n(e,t)}function s(e,t){var n=false,r;while((r=e.next())!=null){if(r==t&&!n)return false;n=!n&&r=="\\"}return n}var r,i;function c(e,t,n){r=e;i=n;return t}function h(e,t){var n=e.next();if(n=='"'||n=="'")return u(e,t,d(n));else if(/[\[\]{}\(\),;\:\.]/.test(n))return c(n);else if(n=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return c("number","number")}else if(/\d/.test(n)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return c("number","number")}else if(n=="/"){if(e.eat("*")){return u(e,t,v)}else if(e.eat("/")){e.skipToEnd();return c("comment","comment")}else if(t.reAllowed){s(e,"/");e.eatWhile(/[gimy]/);return c("regexp","string")}else{e.eatWhile(f);return c("operator",null,e.current())}}else if(n=="#"){e.skipToEnd();return c("error","error")}else if(f.test(n)){e.eatWhile(f);return c("operator",null,e.current())}else{e.eatWhile(/[\w\$_]/);var r=e.current(),i=l.propertyIsEnumerable(r)&&l[r];return i&&t.kwAllowed?c(i.type,i.style,r):c("variable","variable",r)}}function d(n){return function(e,t){if(!s(e,n))t.tokenize=h;return c("string","string")}}function v(e,t){var n=false,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=h;break}n=r=="*"}return c("comment","comment")}var n={atom:true,number:true,variable:true,string:true,regexp:true};function p(e,t,n,r,i,l){this.indented=e;this.column=t;this.type=n;this.prev=i;this.info=l;if(r!=null)this.align=r}function m(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return true}function g(e,t,n,r,i){var l=e.cc;x.state=e;x.stream=i;x.marked=null,x.cc=l;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var o=l.length?l.pop():a?T:z;if(o(n,r)){while(l.length&&l[l.length-1].lex)l.pop()();if(x.marked)return x.marked;if(n=="variable"&&m(e,r))return"variable-2";return t}}}var x={state:null,column:null,marked:null,cc:null};function y(){for(var e=arguments.length-1;e>=0;e--)x.cc.push(arguments[e])}function k(){y.apply(null,arguments);return true}function w(e){var t=x.state;if(t.context){x.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}var C={name:"this",next:{name:"arguments"}};function M(){if(!x.state.context)x.state.localVars=C;x.state.context={prev:x.state.context,vars:x.state.localVars}}function b(){x.state.localVars=x.state.context.vars;x.state.context=x.state.context.prev}function S(t,n){var e=function(){var e=x.state;e.lexical=new p(e.indented,x.stream.column(),t,null,e.lexical,n)};e.lex=true;return e}function L(){var e=x.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}L.lex=true;function A(n){return function e(t){if(t==n)return k();else if(n==";")return y();else return k(arguments.callee)}}function z(e){if(e=="var")return k(S("vardef"),R,A(";"),L);if(e=="keyword a")return k(S("form"),T,z,L);if(e=="keyword b")return k(S("form"),z,L);if(e=="{")return k(S("}"),O,L);if(e==";")return k();if(e=="function")return k(F);if(e=="for")return k(S("form"),A("("),S(")"),U,A(")"),L,z,L);if(e=="variable")return k(S("stat"),N);if(e=="switch")return k(S("form"),T,S("}","switch"),A("{"),O,L,L);if(e=="case")return k(T,A(":"));if(e=="default")return k(A(":"));if(e=="catch")return k(S("form"),M,A("("),j,A(")"),z,L,b);return y(S("stat"),T,A(";"),L)}function T(e){if(n.hasOwnProperty(e))return k(W);if(e=="function")return k(F);if(e=="keyword c")return k(E);if(e=="(")return k(S(")"),T,A(")"),L,W);if(e=="operator")return k(T);if(e=="[")return k(S("]"),I(T,"]"),L,W);if(e=="{")return k(S("}"),I(D,"}"),L,W);return k()}function E(e){if(e.match(/[;\}\)\],]/))return y();return y(T)}function W(e,t){if(e=="operator"&&/\+\+|--/.test(t))return k(W);if(e=="operator")return k(T);if(e==";")return;if(e=="(")return k(S(")"),I(T,")"),L,W);if(e==".")return k(H,W);if(e=="[")return k(S("]"),T,A("]"),L,W)}function N(e){if(e==":")return k(L,z);return y(W,A(";"),L)}function H(e){if(e=="variable"){x.marked="property";return k()}}function D(e){if(e=="variable")x.marked="property";if(n.hasOwnProperty(e))return k(A(":"),T)}function I(n,r){function i(e){if(e==",")return k(n,i);if(e==r)return k();return k(A(r))}return function e(t){if(t==r)return k();else return y(n,i)}}function O(e){if(e=="}")return k();return y(z,O)}function R(e,t){if(e=="variable"){w(t);return k(P)}return k()}function P(e,t){if(t=="=")return k(T,P);if(e==",")return k(R)}function U(e){if(e=="var")return k(R,V);if(e==";")return y(V);if(e=="variable")return k(B);return y(V)}function B(e,t){if(t=="in")return k(T);return k(W,V)}function V(e,t){if(e==";")return k(K);if(t=="in")return k(T);return k(T,A(";"),K)}function K(e){if(e!=")")k(T)}function F(e,t){if(e=="variable"){w(t);return k(F)}if(e=="(")return k(S(")"),M,I(j,")"),L,z,b)}function j(e,t){if(e=="variable"){w(t);return k()}}return{startState:function(e){return{tokenize:h,reAllowed:true,kwAllowed:true,cc:[],lexical:new p((e||0)-o,0,"block",false),localVars:null,context:null,indented:0}},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation()}if(e.eatSpace())return null;var n=t.tokenize(e,t);if(r=="comment")return n;t.reAllowed=r=="operator"||r=="keyword c"||r.match(/^[\[{}\(,;:]$/);t.kwAllowed=r!=".";return g(t,n,r,i,e)},indent:function(e,t){if(e.tokenize!=h)return 0;var n=t&&t.charAt(0),r=e.lexical,i=r.type,l=n==i;if(i=="vardef")return r.indented+4;else if(i=="form"&&n=="{")return r.indented;else if(i=="stat"||i=="form")return r.indented+o;else if(r.info=="switch"&&!l)return r.indented+(/^(?:case|default)\b/.test(t)?o:2*o);else if(r.align)return r.column+(l?0:1);else return r.indented+(l?0:o)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("css",function(e){var r=e.indentUnit,i;function l(e,t){i=t;return e}function o(e,t){var n=e.next();if(n=="@"){e.eatWhile(/[\w\\\-]/);return l("meta",e.current())}else if(n=="/"&&e.eat("*")){t.tokenize=a;return a(e,t)}else if(n=="<"&&e.eat("!")){t.tokenize=f;return f(e,t)}else if(n=="=")l(null,"compare");else if((n=="~"||n=="|")&&e.eat("="))return l(null,"compare");else if(n=='"'||n=="'"){t.tokenize=u(n);return t.tokenize(e,t)}else if(n=="#"){e.eatWhile(/[\w\\\-]/);return l("atom","hash")}else if(n=="!"){e.match(/^\s*\w*/);return l("keyword","important")}else if(/\d/.test(n)){e.eatWhile(/[\w.%]/);return l("number","unit")}else if(/[,.+>*\/]/.test(n)){return l(null,"select-op")}else if(/[;{}:\[\]]/.test(n)){return l(null,n)}else{e.eatWhile(/[\w\\\-]/);return l("variable","variable")}}function a(e,t){var n=false,r;while((r=e.next())!=null){if(n&&r=="/"){t.tokenize=o;break}n=r=="*"}return l("comment","comment")}function f(e,t){var n=0,r;while((r=e.next())!=null){if(n>=2&&r==">"){t.tokenize=o;break}n=r=="-"?n+1:0}return l("comment","comment")}function u(i){return function(e,t){var n=false,r;while((r=e.next())!=null){if(r==i&&!n)break;n=!n&&r=="\\"}if(!n)t.tokenize=o;return l("string","string")}}return{startState:function(e){return{tokenize:o,baseIndent:e||0,stack:[]}},token:function(e,t){if(e.eatSpace())return null;var n=t.tokenize(e,t);var r=t.stack[t.stack.length-1];if(i=="hash"&&r=="rule")n="atom";else if(n=="variable"){if(r=="rule")n="number";else if(!r||r=="@media{")n="tag"}if(r=="rule"&&/^[\{\};]$/.test(i))t.stack.pop();if(i=="{"){if(r=="@media")t.stack[t.stack.length-1]="@media{";else t.stack.push("{")}else if(i=="}")t.stack.pop();else if(i=="@media")t.stack.push("@media");else if(r=="{"&&i!="comment")t.stack.push("rule");return n},indent:function(e,t){var n=e.stack.length;if(/^\}/.test(t))n-=e.stack[e.stack.length-1]=="rule"?2:1;return e.baseIndent+n*r},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(e,t){var r=CodeMirror.getMode(e,{name:"xml",htmlMode:true});var i=CodeMirror.getMode(e,"javascript");var l=CodeMirror.getMode(e,"css");function n(e,t){var n=r.token(e,t.htmlState);if(n=="tag"&&e.current()==">"&&t.htmlState.context){if(/^script$/i.test(t.htmlState.context.tagName)){t.token=a;t.localState=i.startState(r.indent(t.htmlState,""));t.mode="javascript"}else if(/^style$/i.test(t.htmlState.context.tagName)){t.token=f;t.localState=l.startState(r.indent(t.htmlState,""));t.mode="css"}}return n}function o(e,t,n){var r=e.current();var i=r.search(t);if(i>-1)e.backUp(r.length-i);return n}function a(e,t){if(e.match(/^<\/\s*script\s*>/i,false)){t.token=n;t.curState=null;t.mode="html";return n(e,t)}return o(e,/<\/\s*script\s*>/,i.token(e,t.localState))}function f(e,t){if(e.match(/^<\/\s*style\s*>/i,false)){t.token=n;t.localState=null;t.mode="html";return n(e,t)}return o(e,/<\/\s*style\s*>/,l.token(e,t.localState))}return{startState:function(){var e=r.startState();return{token:n,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==f?l:i,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(r,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){if(e.token==n||/^\s*<\//.test(t))return r.indent(e.htmlState,t);else if(e.token==a)return i.indent(e.localState,t);else return l.indent(e.localState,t)},compareStates:function(e,t){return r.compareStates(e.htmlState,t.htmlState)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");