(function(){var R,P=document,c=window,H=Math,N=H.round,z=H.floor,v=H.ceil,F=H.max,A=H.min,V=H.abs,T=H.cos,S=H.sin,X=H.PI,L=X*2/360,h=navigator.userAgent,n=c.opera,x=/msie/i.test(h)&&!n,b=P.documentMode===8,C=/AppleWebKit/.test(h),d=/Firefox/.test(h),t=/(Mobile|Android|Windows Phone)/.test(h),M="http://www.w3.org/2000/svg",D=!!P.createElementNS&&!!P.createElementNS(M,"svg").createSVGRect,e=d&&parseInt(h.split("Firefox/")[1],10)<4,f=!D&&!x&&!!P.createElement("canvas").getContext,u,m=P.documentElement.ontouchstart!==R,p={},y=0,i,W,g,I,r,k,w=function(){},B=[],O="Highcharts",Y="3.0.6",E="div",l="absolute",G="relative",j="hidden",_="highcharts-",U="visible",Z="px",K="none",$="M",q="L",J="rgba(192,192,192,"+(D?1e-4:.002)+")",Q="",tt="hover",et="select",it="millisecond",nt="second",rt="minute",ot="hour",st="day",at="week",lt="month",ht="year",o="linearGradient",s="stops",ft="stroke-width",ct,dt,ut,pt,gt,mt,yt,xt,vt,bt,kt,wt,a={};c.Highcharts=c.Highcharts?ie(16,true):{};function Tt(t,e){var i;if(!t){t={}}for(i in e){t[i]=e[i]}return t}function St(){var t,e=arguments.length,i={},r=function(t,e){var i,n;if(typeof t!=="object"){t={}}for(n in e){if(e.hasOwnProperty(n)){i=e[n];if(i&&typeof i==="object"&&Object.prototype.toString.call(i)!=="[object Array]"&&typeof i.nodeType!=="number"){t[n]=r(t[n]||{},i)}else{t[n]=e[n]}}}return t};for(t=0;t<e;t++){i=r(i,arguments[t])}return i}function Pt(){var t=0,e=arguments,i=e.length,n={};for(;t<i;t++){n[e[t++]]=e[t]}return n}function At(t,e){return parseInt(t,e||10)}function Lt(t){return typeof t==="string"}function Ct(t){return typeof t==="object"}function Mt(t){return Object.prototype.toString.call(t)==="[object Array]"}function Dt(t){return typeof t==="number"}function It(t){return H.log(t)/H.LN10}function zt(t){return H.pow(10,t)}function Bt(t,e){var i=t.length;while(i--){if(t[i]===e){t.splice(i,1);break}}}function Ot(t){return t!==R&&t!==null}function Rt(t,e,i){var n,r="setAttribute",o;if(Lt(e)){if(Ot(i)){t[r](e,i)}else if(t&&t.getAttribute){o=t.getAttribute(e)}}else if(Ot(e)&&Ct(e)){for(n in e){t[r](n,e[n])}}return o}function Ht(t){return Mt(t)?t:[t]}function Xt(){var t=arguments,e,i,n=t.length;for(e=0;e<n;e++){i=t[e];if(typeof i!=="undefined"&&i!==null){return i}}}function Wt(t,e){if(x){if(e&&e.opacity!==R){e.filter="alpha(opacity="+e.opacity*100+")"}}Tt(t.style,e)}function Yt(t,e,i,n,r){var o=P.createElement(t);if(e){Tt(o,e)}if(r){Wt(o,{padding:0,border:K,margin:0})}if(i){Wt(o,i)}if(n){n.appendChild(o)}return o}function Et(t,e){var i=function(){};i.prototype=new t;Tt(i.prototype,e);return i}function Gt(t,e,i,n){var r=W.lang,o=+t||0,s=e===-1?(o.toString().split(".")[1]||"").length:isNaN(e=V(e))?2:e,a=i===undefined?r.decimalPoint:i,l=n===undefined?r.thousandsSep:n,h=o<0?"-":"",f=String(At(o=V(o).toFixed(s))),c=f.length>3?f.length%3:0;return h+(c?f.substr(0,c)+l:"")+f.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+V(o-f).toFixed(s).slice(2):"")}function Nt(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function Ft(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(n);return i.apply(this,t)}}g=function(t,e,i){if(!Ot(e)||isNaN(e)){return"Invalid date"}t=Xt(t,"%Y-%m-%d %H:%M:%S");var n=new Date(e),r,o=n[ut](),s=n[pt](),a=n[gt](),l=n[mt](),h=n[yt](),f=W.lang,c=f.weekdays,d=Tt({a:c[s].substr(0,3),A:c[s],d:Nt(a),e:a,b:f.shortMonths[l],B:f.months[l],m:Nt(l+1),y:h.toString().substr(2,2),Y:h,H:Nt(o),I:Nt(o%12||12),l:o%12||12,M:Nt(n[dt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Nt(n.getSeconds()),L:Nt(N(e%1e3),3)},Highcharts.dateFormats);for(r in d){while(t.indexOf("%"+r)!==-1){t=t.replace("%"+r,typeof d[r]==="function"?d[r](e):d[r])}}return i?t.substr(0,1).toUpperCase()+t.substr(1):t};function Vt(t,e){var i=/f$/,n=/\.([0-9])/,r=W.lang,o;if(i.test(t)){o=t.match(n);o=o?o[1]:-1;e=Gt(e,o,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:"")}else{e=g(t,e)}return e}function jt(t,e){var i="{",n=false,r,o,s,a,l,h=[],f,c;while((c=t.indexOf(i))!==-1){r=t.slice(0,c);if(n){o=r.split(":");s=o.shift().split(".");l=s.length;f=e;for(a=0;a<l;a++){f=f[s[a]]}if(o.length){f=Vt(o.join(":"),f)}h.push(f)}else{h.push(r)}t=t.slice(c+1);n=!n;i=n?"}":"{"}h.push(t);return h.join("")}function _t(t){return H.pow(10,z(H.log(t)/H.LN10))}function Ut(t,e,i,n){var r,o;i=Xt(i,1);r=t/i;if(!e){e=[1,2,2.5,5,10];if(n&&n.allowDecimals===false){if(i===1){e=[1,2,5,10]}else if(i<=.1){e=[1/i]}}}for(o=0;o<e.length;o++){t=e[o];if(r<=(e[o]+(e[o+1]||e[o]))/2){break}}t*=i;return t}function Zt(t,e){var i=e||[[it,[1,2,5,10,20,25,50,100,200,500]],[nt,[1,2,5,10,15,30]],[rt,[1,2,5,10,15,30]],[ot,[1,2,3,4,6,8,12]],[st,[1,2]],[at,[1,2]],[lt,[1,2,3,4,6]],[ht,null]],n=i[i.length-1],r=k[n[0]],o=n[1],s,a;for(a=0;a<i.length;a++){n=i[a];r=k[n[0]];o=n[1];if(i[a+1]){var l=(r*o[o.length-1]+k[i[a+1][0]])/2;if(t<=l){break}}}if(r===k[ht]&&t<5*r){o=[1,2,5]}s=Ut(t/r,o,n[0]===ht?_t(t/r):1);return{unitRange:r,count:s,unitName:n[0]}}function Kt(t,e,i,n){var r=[],o,s={},a=W.global.useUTC,l,h=new Date(e),f=t.unitRange,c=t.count;if(Ot(e)){if(f>=k[nt]){h.setMilliseconds(0);h.setSeconds(f>=k[rt]?0:c*z(h.getSeconds()/c))}if(f>=k[rt]){h[xt](f>=k[ot]?0:c*z(h[dt]()/c))}if(f>=k[ot]){h[vt](f>=k[st]?0:c*z(h[ut]()/c))}if(f>=k[st]){h[bt](f>=k[lt]?1:c*z(h[gt]()/c))}if(f>=k[lt]){h[kt](f>=k[ht]?0:c*z(h[mt]()/c));l=h[yt]()}if(f>=k[ht]){l-=l%c;h[wt](l)}if(f===k[at]){h[bt](h[gt]()-h[pt]()+Xt(n,1))}o=1;l=h[yt]();var d=h.getTime(),u=h[mt](),p=h[gt](),g=a?0:(24*3600*1e3+h.getTimezoneOffset()*60*1e3)%(24*3600*1e3);while(d<i){r.push(d);if(f===k[ht]){d=ct(l+o*c,0)}else if(f===k[lt]){d=ct(l,u+o*c)}else if(!a&&(f===k[st]||f===k[at])){d=ct(l,u,p+o*c*(f===k[st]?1:7))}else{d+=f*c}o++}r.push(d);fe(ce(r,function(t){return f<=k[ot]&&t%k[st]===g}),function(t){s[t]=st})}r.info=Tt(t,{higherRanks:s,totalRange:f*c});return r}function $t(){this.color=0;this.symbol=0}$t.prototype={wrapColor:function(t){if(this.color>=t){this.color=0}},wrapSymbol:function(t){if(this.symbol>=t){this.symbol=0}}};function qt(t,i){var e=t.length,n,r;for(r=0;r<e;r++){t[r].ss_i=r}t.sort(function(t,e){n=i(t,e);return n===0?t.ss_i-e.ss_i:n});for(r=0;r<e;r++){delete t[r].ss_i}}function Jt(t){var e=t.length,i=t[0];while(e--){if(t[e]<i){i=t[e]}}return i}function Qt(t){var e=t.length,i=t[0];while(e--){if(t[e]>i){i=t[e]}}return i}function te(t,e){var i;for(i in t){if(t[i]&&t[i]!==e&&t[i].destroy){t[i].destroy()}delete t[i]}}function ee(t){if(!i){i=Yt(E)}if(t){i.appendChild(t)}i.innerHTML=""}function ie(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e){throw i}else if(c.console){console.log(i)}}function ne(t){return parseFloat(t.toPrecision(14))}function re(t,e){I=Xt(t,e.animation)}k=Pt(it,1,nt,1e3,rt,6e4,ot,36e5,st,24*36e5,at,7*24*36e5,lt,31*24*36e5,ht,31556952e3);r={init:function(t,e,i){e=e||"";var n=t.shift,r=e.indexOf("C")>-1,o=r?7:3,s,a,l,h=e.split(" "),f=[].concat(i),c,d,u=function(t){l=t.length;while(l--){if(t[l]===$){t.splice(l+1,0,t[l+1],t[l+2],t[l+1],t[l+2])}}};if(r){u(h);u(f)}if(t.isArea){c=h.splice(h.length-6,6);d=f.splice(f.length-6,6)}if(n<=f.length/o&&h.length===f.length){while(n--){f=[].concat(f).splice(0,o).concat(f)}}t.shift=0;if(h.length){s=f.length;while(h.length<s){a=[].concat(h).splice(h.length-o,o);if(r){a[o-6]=a[o-2];a[o-5]=a[o-1]}h=h.concat(a)}}if(c){h=h.concat(c);f=f.concat(d)}return[h,f]},step:function(t,e,i,n){var r=[],o=t.length,s;if(i===1){r=n}else if(o===e.length&&i<1){while(o--){s=parseFloat(t[o]);r[o]=isNaN(s)?t[o]:i*parseFloat(e[o]-s)+s}}else{r=e}return r}};(function(h){c.HighchartsAdapter=c.HighchartsAdapter||h&&{init:function(n){var o=h.fx,s=o.step,t,a=h.Tween,l=a&&a.propHooks,e=h.cssHooks.opacity;h.extend(h.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}});h.each(["cur","_default","width","height","opacity"],function(e,i){var t=s,n,r;if(i==="cur"){t=o.prototype}else if(i==="_default"&&a){t=l[i];i="set"}n=t[i];if(n){t[i]=function(t){t=e?t:this;if(t.prop==="align"){return}r=t.elem;return r.attr?r.attr(t.prop,i==="cur"?R:t.now):n.apply(this,arguments)}}});Ft(e,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)});t=function(t){var e=t.elem,i;if(!t.started){i=n.init(e,e.d,e.toD);t.start=i[0];t.end=i[1];t.started=true}e.attr("d",n.step(t.start,t.end,t.pos,e.toD))};if(a){l.d={set:t}}else{s.d=t}this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i=0,n=t.length;for(;i<n;i++){if(e.call(t[i],t[i],i,t)===false){return i}}};h.fn.highcharts=function(){var t="Chart",e=arguments,i,n,r;if(Lt(e[0])){t=e[0];e=Array.prototype.slice.call(e,1)}i=e[0];if(i!==R){i.chart=i.chart||{};i.chart.renderTo=this[0];r=new Highcharts[t](i,e[1]);n=this}if(i===R){n=B[Rt(this[0],"data-highcharts-chart")]}return n}},getScript:h.getScript,inArray:h.inArray,adapterRun:function(t,e){return h(t)[e]()},grep:h.grep,map:function(t,e){var i=[],n=0,r=t.length;for(;n<r;n++){i[n]=e.call(t[n],t[n],n,t)}return i},offset:function(t){return h(t).offset()},addEvent:function(t,e,i){h(t).bind(e,i)},removeEvent:function(t,e,i){var n=P.removeEventListener?"removeEventListener":"detachEvent";if(P[n]&&t&&!t[n]){t[n]=function(){}}h(t).unbind(e,i)},fireEvent:function(t,e,i,n){var r=h.Event(e),o="detached"+e,s;if(!x&&i){delete i.layerX;delete i.layerY}Tt(r,i);if(t[e]){t[o]=t[e];t[e]=null}h.each(["preventDefault","stopPropagation"],function(t,e){var i=r[e];r[e]=function(){try{i.call(r)}catch(t){if(e==="preventDefault"){s=true}}}});h(t).trigger(r);if(t[o]){t[e]=t[o];t[o]=null}if(n&&!r.isDefaultPrevented()&&!s){n(r)}},washMouseEvent:function(t){var e=t.originalEvent||t;if(e.pageX===R){e.pageX=t.pageX;e.pageY=t.pageY}return e},animate:function(t,e,i){var n=h(t);if(!t.style){t.style={}}if(e.d){t.toD=e.d;e.d=1}n.stop();if(e.opacity!==R&&t.attr){e.opacity+="px"}n.animate(e,i)},stop:function(t){h(t).stop()}}})(c.jQuery);var oe=c.HighchartsAdapter,se=oe||{};if(oe){oe.init.call(oe,r)}var ae=se.adapterRun,le=se.getScript,he=se.inArray,fe=se.each,ce=se.grep,de=se.offset,ue=se.map,pe=se.addEvent,ge=se.removeEvent,me=se.fireEvent,ye=se.washMouseEvent,xe=se.animate,ve=se.stop;var be={enabled:true,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};W={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/3.0.6/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.6/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:St(be,{align:"center",enabled:false,formatter:function(){return this.y===null?"":Gt(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:l,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:false,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:l,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:G,top:"1em"},style:{position:l,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:true,animation:D,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:true,snap:t?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ke=W.plotOptions,we=ke.line;Te();function Te(){var t=W.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";ct=t?Date.UTC:function(t,e,i,n,r,o){return new Date(t,e,Xt(i,1),Xt(n,0),Xt(r,0),Xt(o,0)).getTime()};dt=e+"Minutes";ut=e+"Hours";pt=e+"Day";gt=e+"Date";mt=e+"Month";yt=e+"FullYear";xt=i+"Minutes";vt=i+"Hours";bt=i+"Date";kt=i+"Month";wt=i+"FullYear"}function Se(t){W=St(W,t);Te();return W}function Pe(){return W}var Ae=function(t){var r=[],e,o;function i(t){if(t&&t.stops){o=ue(t.stops,function(t){return Ae(t[1])})}else{e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t);if(e){r=[At(e[1]),At(e[2]),At(e[3]),parseFloat(e[4],10)]}else{e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t);if(e){r=[At(e[1],16),At(e[2],16),At(e[3],16),1]}else{e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t);if(e){r=[At(e[1]),At(e[2]),At(e[3]),1]}}}}}function n(i){var n;if(o){n=St(t);n.stops=[].concat(n.stops);fe(o,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})}else if(r&&!isNaN(r[0])){if(i==="rgb"){n="rgb("+r[0]+","+r[1]+","+r[2]+")"}else if(i==="a"){n=r[3]}else{n="rgba("+r.join(",")+")"}}else{n=t}return n}function s(e){if(o){fe(o,function(t){t.brighten(e)})}else if(Dt(e)&&e!==0){var t;for(t=0;t<3;t++){r[t]+=At(e*255);if(r[t]<0){r[t]=0}if(r[t]>255){r[t]=255}}}return this}function a(t){r[3]=t;return this}i(t);return{get:n,brighten:s,rgba:r,setOpacity:a}};function Le(){}Le.prototype={init:function(t,e){var i=this;i.element=e==="span"?Yt(e):P.createElementNS(M,e);i.renderer=t;i.attrSetters={}},opacity:1,animate:function(t,e,i){var n=Xt(e,I,true);ve(this);if(n){n=St(n);if(i){n.complete=i}xe(this,t,n)}else{this.attr(t);if(i){i()}}},attr:function(t,e){var i=this,n,r,o,s,a,l=i.element,h=l.nodeName.toLowerCase(),f=i.renderer,c,d,u=i.attrSetters,p=i.shadows,g,m,y=i;if(Lt(t)&&Ot(e)){n=t;t={};t[n]=e}if(Lt(t)){n=t;if(h==="circle"){n={x:"cx",y:"cy"}[n]||n}else if(n==="strokeWidth"){n="stroke-width"}y=Rt(l,n)||i[n]||0;if(n!=="d"&&n!=="visibility"&&n!=="fill"){y=parseFloat(y)}}else{for(n in t){c=false;r=t[n];o=u[n]&&u[n].call(i,r,n);if(o!==false){if(o!==R){r=o}if(n==="d"){if(r&&r.join){r=r.join(" ")}if(/(NaN| {2}|^$)/.test(r)){r="M 0 0"}}else if(n==="x"&&h==="text"){for(s=0;s<l.childNodes.length;s++){a=l.childNodes[s];if(Rt(a,"x")===Rt(l,"x")){Rt(a,"x",r)}}}else if(i.rotation&&(n==="x"||n==="y")){m=true}else if(n==="fill"){r=f.color(r,l,n)}else if(h==="circle"&&(n==="x"||n==="y")){n={x:"cx",y:"cy"}[n]||n}else if(h==="rect"&&n==="r"){Rt(l,{rx:r,ry:r});c=true}else if(n==="translateX"||n==="translateY"||n==="rotation"||n==="verticalAlign"||n==="scaleX"||n==="scaleY"){m=true;c=true}else if(n==="stroke"){r=f.color(r,l,n)}else if(n==="dashstyle"){n="stroke-dasharray";r=r&&r.toLowerCase();if(r==="solid"){r=K}else if(r){r=r.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");s=r.length;while(s--){r[s]=At(r[s])*Xt(t["stroke-width"],i["stroke-width"])}r=r.join(",")}}else if(n==="width"){r=At(r)}else if(n==="align"){n="text-anchor";r={left:"start",center:"middle",right:"end"}[r]}else if(n==="title"){d=l.getElementsByTagName("title")[0];if(!d){d=P.createElementNS(M,"title");l.appendChild(d)}d.textContent=r}if(n==="strokeWidth"){n="stroke-width"}if(n==="stroke-width"||n==="stroke"){i[n]=r;if(i.stroke&&i["stroke-width"]){Rt(l,"stroke",i.stroke);Rt(l,"stroke-width",i["stroke-width"]);i.hasStroke=true}else if(n==="stroke-width"&&r===0&&i.hasStroke){l.removeAttribute("stroke");i.hasStroke=false}c=true}if(i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)){if(!g){i.symbolAttr(t);g=true}c=true}if(p&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)){s=p.length;while(s--){Rt(p[s],n,n==="height"?F(r-(p[s].cutHeight||0),0):r)}}if((n==="width"||n==="height")&&h==="rect"&&r<0){r=0}i[n]=r;if(n==="text"){if(r!==i.textStr){delete i.bBox}i.textStr=r;if(i.added){f.buildText(i)}}else if(!c){Rt(l,n,r)}}}if(m){i.updateTransform()}}return y},addClass:function(t){var e=this.element,i=Rt(e,"class")||"";if(i.indexOf(t)===-1){Rt(e,"class",i+" "+t)}return this},symbolAttr:function(e){var i=this;fe(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){i[t]=Xt(e[t],i[t])});i.attr({d:i.renderer.symbols[i.symbolName](i.x,i.y,i.width,i.height,i)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":K)},crisp:function(t,e,i,n,r){var o=this,s,a={},l={},h;t=t||o.strokeWidth||o.attr&&o.attr("stroke-width")||0;h=N(t)%2/2;l.x=z(e||o.x||0)+h;l.y=z(i||o.y||0)+h;l.width=z((n||o.width||0)-2*h);l.height=z((r||o.height||0)-2*h);l.strokeWidth=t;for(s in l){if(o[s]!==l[s]){o[s]=a[s]=l[s]}}return a},css:function(t){var e=this,i=e.element,n=t&&t.width&&i.nodeName.toLowerCase()==="text",r,o="",s=function(t,e){return"-"+e.toLowerCase()};if(t&&t.color){t.fill=t.color}t=Tt(e.styles,t);e.styles=t;if(f&&n){delete t.width}if(x&&!D){if(n){delete t.width}Wt(e.element,t)}else{for(r in t){o+=r.replace(/([A-Z])/g,s)+":"+t[r]+";"}Rt(i,"style",o)}if(n&&e.added){e.renderer.buildText(e)}return e},on:function(t,e){var i=this,n=i.element;if(m&&t==="click"){n.ontouchstart=function(t){i.touchEventFired=Date.now();t.preventDefault();e.call(n,t)};n.onclick=function(t){if(h.indexOf("Android")===-1||Date.now()-(i.touchEventFired||0)>1100){e.call(n,t)}}}else{n["on"+t]=e}return this},setRadialReference:function(t){this.element.radialReference=t;return this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;t.inverted=true;t.updateTransform();return t},htmlCss:function(t){var e=this,i=e.element,n=t&&i.tagName==="SPAN"&&t.width;if(n){delete t.width;e.textWidth=n;e.updateTransform()}e.styles=Tt(e.styles,t);Wt(e.element,t);return e},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;if(!i){if(e.nodeName==="text"){e.style.position=l}i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}return i},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=true;return}var t=this,e=t.renderer,i=t.element,n=t.translateX||0,r=t.translateY||0,o=t.x||0,s=t.y||0,a=t.textAlign||"left",l={left:0,center:.5,right:1}[a],h=a&&a!=="left",f=t.shadows;Wt(i,{marginLeft:n,marginTop:r});if(f){fe(f,function(t){Wt(t,{marginLeft:n+1,marginTop:r+1})})}if(t.inverted){fe(i.childNodes,function(t){e.invertChild(t,i)})}if(i.tagName==="SPAN"){var c,d,u=t.rotation,p,g=0,m=1,y=0,x,v=At(t.textWidth),b=t.xCorr||0,k=t.yCorr||0,w=[u,a,i.innerHTML,t.textWidth].join(",");if(w!==t.cTT){if(Ot(u)){g=u*L;m=T(g);y=S(g);t.setSpanRotation(u,y,m)}c=Xt(t.elemWidth,i.offsetWidth);d=Xt(t.elemHeight,i.offsetHeight);if(c>v&&/[ \-]/.test(i.textContent||i.innerText)){Wt(i,{width:v+Z,display:"block",whiteSpace:"normal"});c=v}p=e.fontMetrics(i.style.fontSize).b;b=m<0&&-c;k=y<0&&-d;x=m*y<0;b+=y*p*(x?1-l:l);k-=m*p*(u?x?l:1-l:1);if(h){b-=c*l*(m<0?-1:1);if(u){k-=d*l*(y<0?-1:1)}Wt(i,{textAlign:a})}t.xCorr=b;t.yCorr=k}Wt(i,{left:o+b+Z,top:s+k+Z});if(C){d=i.offsetHeight}t.cTT=w}},setSpanRotation:function(t){var e={},i=x?"-ms-transform":C?"-webkit-transform":d?"MozTransform":n?"-o-transform":"";e[i]=e.transform="rotate("+t+"deg)";Wt(this.element,e)},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.scaleX,r=t.scaleY,o=t.inverted,s=t.rotation,a;if(o){e+=t.attr("width");i+=t.attr("height")}a=["translate("+e+","+i+")"];if(o){a.push("rotate(90) scale(-1,1)")}else if(s){a.push("rotate("+s+" "+(t.x||0)+" "+(t.y||0)+")")}if(Ot(n)||Ot(r)){a.push("scale("+Xt(n,1)+" "+Xt(r,1)+")")}if(a.length){Rt(t.element,"transform",a.join(" "))}},toFront:function(){var t=this.element;t.parentNode.appendChild(t);return this},align:function(t,e,i){var n,r,o,s,a={},l,h=this.renderer,f=h.alignedObjects;if(t){this.alignOptions=t;this.alignByTranslate=e;if(!i||Lt(i)){this.alignTo=l=i||"renderer";Bt(f,this);f.push(this);i=null}}else{t=this.alignOptions;e=this.alignByTranslate;l=this.alignTo}i=Xt(i,h[l],h);n=t.align;r=t.verticalAlign;o=(i.x||0)+(t.x||0);s=(i.y||0)+(t.y||0);if(n==="right"||n==="center"){o+=(i.width-(t.width||0))/{right:1,center:2}[n]}a[e?"translateX":"x"]=N(o);if(r==="bottom"||r==="middle"){s+=(i.height-(t.height||0))/({bottom:1,middle:2}[r]||1)}a[e?"translateY":"y"]=N(s);this[this.placed?"animate":"attr"](a);this.placed=true;this.alignAttr=a;return this},getBBox:function(){var t=this,e=t.bBox,i=t.renderer,n,r,o=t.rotation,s=t.element,a=t.styles,l=o*L;if(!e){if(s.namespaceURI===M||i.forExport){try{e=s.getBBox?Tt({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(t){}if(!e||e.width<0){e={width:0,height:0}}}else{e=t.htmlGetBBox()}if(i.isSVG){n=e.width;r=e.height;if(x&&a&&a.fontSize==="11px"&&r.toPrecision(3)==="22.7"){e.height=r=14}if(o){e.width=V(r*S(l))+V(n*T(l));e.height=V(r*T(l))+V(n*S(l))}}t.bBox=e}return e},show:function(){return this.attr({visibility:U})},hide:function(){return this.attr({visibility:j})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e=this.renderer,i=t||e,n=i.element||e.box,r=n.childNodes,o=this.element,s=Rt(o,"zIndex"),a,l,h,f;if(t){this.parentGroup=t}this.parentInverted=t&&t.inverted;if(this.textStr!==undefined){e.buildText(this)}if(s){i.handleZ=true;s=At(s)}if(i.handleZ){for(h=0;h<r.length;h++){a=r[h];l=Rt(a,"zIndex");if(a!==o&&(At(l)>s||!Ot(s)&&Ot(l))){n.insertBefore(o,a);f=true;break}}}if(!f){n.appendChild(o)}this.added=true;me(this,"add");return this},safeRemoveChild:function(t){var e=t.parentNode;if(e){e.removeChild(t)}},destroy:function(){var e=this,t=e.element||{},i=e.shadows,n=e.renderer.isSVG&&t.nodeName==="SPAN"&&t.parentNode,r,o,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null;ve(e);if(e.clipPath){e.clipPath=e.clipPath.destroy()}if(e.stops){for(s=0;s<e.stops.length;s++){e.stops[s]=e.stops[s].destroy()}e.stops=null}e.safeRemoveChild(t);if(i){fe(i,function(t){e.safeRemoveChild(t)})}while(n&&n.childNodes.length===0){r=n.parentNode;e.safeRemoveChild(n);n=r}if(e.alignTo){Bt(e.renderer.alignedObjects,e)}for(o in e){delete e[o]}return null},shadow:function(t,e,i){var n=[],r,o,s=this.element,a,l,h,f;if(t){l=Xt(t.width,3);h=(t.opacity||.15)/l;f=this.parentInverted?"(-1,-1)":"("+Xt(t.offsetX,1)+", "+Xt(t.offsetY,1)+")";for(r=1;r<=l;r++){o=s.cloneNode(0);a=l*2+1-2*r;Rt(o,{isShadow:"true",stroke:t.color||"black","stroke-opacity":h*r,"stroke-width":a,transform:"translate"+f,fill:K});if(i){Rt(o,"height",F(Rt(o,"height")-a,0));o.cutHeight=a}if(e){e.element.appendChild(o)}else{s.parentNode.insertBefore(o,s)}n.push(o)}this.shadows=n}return this}};var Ce=function(){this.init.apply(this,arguments)};Ce.prototype={Element:Le,init:function(t,e,i,n){var r=this,o=location,s,a,l;s=r.createElement("svg").attr({version:"1.1"});a=s.element;t.appendChild(a);if(t.innerHTML.indexOf("xmlns")===-1){Rt(a,"xmlns",M)}r.isSVG=true;r.box=a;r.boxWrapper=s;r.alignedObjects=[];r.url=(d||C)&&P.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";l=this.createElement("desc").add();l.element.appendChild(P.createTextNode("Created with "+O+" "+Y));r.defs=this.createElement("defs").add();r.forExport=n;r.gradients={};r.setSize(e,i,false);var h,f;if(d&&t.getBoundingClientRect){r.subPixelFix=h=function(){Wt(t,{left:0,top:0});f=t.getBoundingClientRect();Wt(t,{left:v(f.left)-f.left+Z,top:v(f.top)-f.top+Z})};h();pe(c,"resize",h)}},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;t.box=null;t.boxWrapper=t.boxWrapper.destroy();te(t.gradients||{});t.gradients=null;if(e){t.defs=e.destroy()}if(t.subPixelFix){ge(c,"resize",t.subPixelFix)}t.alignedObjects=null;return null},createElement:function(t){var e=new this.Element;e.init(this,t);return e},draw:function(){},buildText:function(g){var m=g.element,y=this,x=y.forExport,t=Xt(g.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),e=m.childNodes,v=/style="([^"]+)"/,b=/href="(http[^"]+)"/,k=Rt(m,"x"),w=g.styles,T=w&&w.width&&At(w.width),S=w&&w.lineHeight,i=e.length;while(i--){m.removeChild(e[i])}if(T&&!g.added){this.box.appendChild(m)}if(t[t.length-1]===""){t.pop()}fe(t,function(t,d){var u,p=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");u=t.split("|||");fe(u,function(t){if(t!==""||u.length===1){var e={},i=P.createElementNS(M,"tspan"),n;if(v.test(t)){n=t.match(v)[1].replace(/(;| |^)color([ :])/,"$1fill$2");Rt(i,"style",n)}if(b.test(t)&&!x){Rt(i,"onclick",'location.href="'+t.match(b)[1]+'"');Wt(i,{cursor:"pointer"})}t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(t!==" "){i.appendChild(P.createTextNode(t));if(!p){e.x=k}else{e.dx=0}Rt(i,e);if(!p&&d){if(!D&&x){Wt(i,{display:"block"})}Rt(i,"dy",S||y.fontMetrics(/px$/.test(i.style.fontSize)?i.style.fontSize:w.fontSize).h,C&&i.offsetHeight)}m.appendChild(i);p++;if(T){var r=t.replace(/([^\^])-/g,"$1- ").split(" "),o,s,a=g._clipHeight,l=[],h=At(S||16),f=1,c;while(r.length||l.length){delete g.bBox;c=g.getBBox();s=c.width;o=s>T;if(!o||r.length===1){r=l;l=[];if(r.length){f++;if(a&&f*h>a){r=["..."];g.attr("title",g.textStr)}else{i=P.createElementNS(M,"tspan");Rt(i,{dy:h,x:k});if(n){Rt(i,"style",n)}m.appendChild(i);if(s>T){T=s}}}}else{i.removeChild(i.firstChild);l.unshift(r.pop())}if(r.length){i.appendChild(P.createTextNode(r.join(" ").replace(/- /g,"-")))}}}}}})})},button:function(t,e,i,n,r,o,s,a){var l=this.label(t,e,i,null,null,null,null,null,"button"),h=0,f,c,d,u,p,g,m="style",y={x1:0,y1:0,x2:0,y2:1};r=St({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);d=r[m];delete r[m];o=St(r,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},o);u=o[m];delete o[m];s=St(r,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},s);p=s[m];delete s[m];a=St(r,{style:{color:"#CCC"}},a);g=a[m];delete a[m];pe(l.element,x?"mouseover":"mouseenter",function(){if(h!==3){l.attr(o).css(u)}});pe(l.element,x?"mouseout":"mouseleave",function(){if(h!==3){f=[r,o,s][h];c=[d,u,p][h];l.attr(f).css(c)}});l.setState=function(t){l.state=h=t;if(!t){l.attr(r).css(d)}else if(t===2){l.attr(s).css(p)}else if(t===3){l.attr(a).css(g)}};return l.on("click",function(){if(h!==3){n.call(l)}}).attr(r).css(Tt({cursor:"default"},d))},crispLine:function(t,e){if(t[1]===t[4]){t[1]=t[4]=N(t[1])-e%2/2}if(t[2]===t[5]){t[2]=t[5]=N(t[2])+e%2/2}return t},path:function(t){var e={fill:K};if(Mt(t)){e.d=t}else if(Ct(t)){Tt(e,t)}return this.createElement("path").attr(e)},circle:function(t,e,i){var n=Ct(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,r,o){var s;if(Ct(t)){e=t.y;i=t.r;n=t.innerR;r=t.start;o=t.end;t=t.x}s=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:o||0});s.r=i;return s},rect:function(t,e,i,n,r,o){r=Ct(t)?t.r:r;var s=this.createElement("rect").attr({rx:r,ry:r,fill:K});return s.attr(Ct(t)?t:s.crisp(o,t,e,F(i,0),F(n,0)))},setSize:function(t,e,i){var n=this,r=n.alignedObjects,o=r.length;n.width=t;n.height=e;n.boxWrapper[Xt(i,true)?"animate":"attr"]({width:t,height:e});while(o--){r[o].align()}},g:function(t){var e=this.createElement("g");return Ot(t)?e.attr({class:_+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:K},s;if(arguments.length>1){Tt(o,{x:e,y:i,width:n,height:r})}s=this.createElement("image").attr(o);if(s.element.setAttributeNS){s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t)}else{s.element.setAttribute("hc-svg-href",t)}return s},symbol:function(t,e,i,n,r,o){var s,a=this.symbols[t],l=a&&a(N(e),N(i),n,r,o),h,f=/^url\((.*?)\)$/,c,d,u;if(l){s=this.path(l);Tt(s,{symbolName:t,x:e,y:i,width:n,height:r});if(o){Tt(s,o)}}else if(f.test(t)){u=function(t,e){if(t.element){t.attr({width:e[0],height:e[1]});if(!t.alignByTranslate){t.translate(N((n-e[0])/2),N((r-e[1])/2))}}};c=t.match(f)[1];d=p[c];s=this.image(c).attr({x:e,y:i});s.isImg=true;if(d){u(s,d)}else{s.attr({width:0,height:0});h=Yt("img",{onload:function(){u(s,p[c]=[this.width,this.height])},src:c})}}return s},symbols:{circle:function(t,e,i,n){var r=.166*i;return[$,t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[$,t,e,q,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[$,t+i/2,e,q,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[$,t,e,q,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[$,t+i/2,e,q,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,s=r.r||i||n,a=r.end-.001,l=r.innerR,h=r.open,f=T(o),c=S(o),d=T(a),u=S(a),p=r.end-o<X?0:1;return[$,t+s*f,e+s*c,"A",s,s,0,p,1,t+s*d,e+s*u,h?$:q,t+l*d,e+l*u,"A",l,l,0,p,0,t+l*f,e+l*c,h?"":"Z"]}},clipRect:function(t,e,i,n){var r,o=_+y++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);r=this.rect(t,e,i,n,0).add(s);r.id=o;r.clipPath=s;return r},color:function(t,e,i){var n=this,r,o=/^rgba/,s,a,l,h,f,c,d,u,p,g,m=[];if(t&&t.linearGradient){s="linearGradient"}else if(t&&t.radialGradient){s="radialGradient"}if(s){a=t[s];l=n.gradients;f=t.stops;u=e.radialReference;if(Mt(a)){t[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}}if(s==="radialGradient"&&u&&!Ot(a.gradientUnits)){a=St(a,{cx:u[0]-u[2]/2+a.cx*u[2],cy:u[1]-u[2]/2+a.cy*u[2],r:a.r*u[2],gradientUnits:"userSpaceOnUse"})}for(p in a){if(p!=="id"){m.push(p,a[p])}}for(p in f){m.push(f[p])}m=m.join(",");if(l[m]){g=l[m].id}else{a.id=g=_+y++;l[m]=h=n.createElement(s).attr(a).add(n.defs);h.stops=[];fe(f,function(t){var e;if(o.test(t[1])){r=Ae(t[1]);c=r.get("rgb");d=r.get("a")}else{c=t[1];d=1}e=n.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":d}).add(h);h.stops.push(e)})}return"url("+n.url+"#"+g+")"}else if(o.test(t)){r=Ae(t);Rt(e,i+"-opacity",r.get("a"));return r.get("rgb")}else{e.removeAttribute(i+"-opacity");return t}},text:function(t,e,i,n){var r=this,o=W.chart.style,s=f||!D&&r.forExport,a;if(n&&!r.forExport){return r.html(t,e,i)}e=N(Xt(e,0));i=N(Xt(i,0));a=r.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:o.fontFamily,fontSize:o.fontSize});if(s){a.css({position:l})}a.x=e;a.y=i;return a},html:function(t,e,i){var n=W.chart.style,o=this.createElement("span"),r=o.attrSetters,s=o.element,a=o.renderer;r.text=function(t){if(t!==s.innerHTML){delete this.bBox}s.innerHTML=t;return false};r.x=r.y=r.align=function(t,e){if(e==="align"){e="textAlign"}o[e]=t;o.htmlUpdateTransform();return false};o.attr({text:t,x:N(e),y:N(i)}).css({position:l,whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize});o.css=o.htmlCss;if(a.isSVG){o.add=function(t){var e,n=a.box.parentNode,i,r=[];if(t){e=t.div;if(!e){i=t;while(i){r.push(i);i=i.parentGroup}fe(r.reverse(),function(t){var i;e=t.div=t.div||Yt(E,{className:Rt(t.element,"class")},{position:l,left:(t.translateX||0)+Z,top:(t.translateY||0)+Z},e||n);i=e.style;Tt(t.attrSetters,{translateX:function(t){i.left=t+Z},translateY:function(t){i.top=t+Z},visibility:function(t,e){i[e]=t}})})}}else{e=n}e.appendChild(s);o.added=true;if(o.alignOnAdd){o.htmlUpdateTransform()}return o}}return o},fontMetrics:function(t){t=At(t||11);var e=t<24?t+4:N(t*1.2),i=N(e*.8);return{h:e,b:i}},label:function(t,e,i,n,r,o,s,a,l){var h=this,f=h.g(l),c=h.text("",0,0,s).attr({zIndex:1}),d,u,p=0,g=3,m=0,y,x,v,b,k=0,w={},T,S=f.attrSetters,P;function A(){var t,e,i=c.element.style;u=(y===undefined||x===undefined||f.styles.textAlign)&&c.getBBox();f.width=(y||u.width||0)+2*g+m;f.height=(x||u.height||0)+2*g;T=g+h.fontMetrics(i&&i.fontSize).b;if(P){if(!d){t=N(-p*g);e=a?-T:0;f.box=d=n?h.symbol(n,t,e,f.width,f.height):h.rect(t,e,f.width,f.height,0,w[ft]);d.add(f)}if(!d.isImg){d.attr(St({width:f.width,height:f.height},w))}w=null}}function L(){var t=f.styles,e=t&&t.textAlign,i=m+g*(1-p),n;n=a?0:T;if(Ot(y)&&(e==="center"||e==="right")){i+={center:.5,right:1}[e]*(y-u.width)}if(i!==c.x||n!==c.y){c.attr({x:i,y:n})}c.x=i;c.y=n}function C(t,e){if(d){d.attr(t,e)}else{w[t]=e}}function M(){c.add(f);f.attr({text:t,x:e,y:i});if(d&&Ot(r)){f.attr({anchorX:r,anchorY:o})}}pe(f,"add",M);S.width=function(t){y=t;return false};S.height=function(t){x=t;return false};S.padding=function(t){if(Ot(t)&&t!==g){g=t;L()}return false};S.paddingLeft=function(t){if(Ot(t)&&t!==m){m=t;L()}return false};S.align=function(t){p={left:0,center:.5,right:1}[t];return false};S.text=function(t,e){c.attr(e,t);A();L();return false};S[ft]=function(t,e){P=true;k=t%2/2;C(e,t);return false};S.stroke=S.fill=S.r=function(t,e){if(e==="fill"){P=true}C(e,t);return false};S.anchorX=function(t,e){r=t;C(e,t+k-v);return false};S.anchorY=function(t,e){o=t;C(e,t-b);return false};S.x=function(t){f.x=t;t-=p*((y||u.width)+g);v=N(t);f.attr("translateX",v);return false};S.y=function(t){b=f.y=N(t);f.attr("translateY",b);return false};var D=f.css;return Tt(f,{css:function(e){if(e){var i={};e=St(e);fe(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(t){if(e[t]!==R){i[t]=e[t];delete e[t]}});c.css(i)}return D.call(f,e)},getBBox:function(){return{width:u.width+2*g,height:u.height+2*g,x:u.x-g,y:u.y-g}},shadow:function(t){if(d){d.shadow(t)}return f},destroy:function(){ge(f,"add",M);ge(f.element,"mouseenter");ge(f.element,"mouseleave");if(c){c=c.destroy()}if(d){d=d.destroy()}Le.prototype.destroy.call(f);f=h=A=L=C=M=null}})}};u=Ce;var Me,De;if(!D&&!f){Highcharts.VMLElement=De={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],r=["position: ",l,";"],o=e===E;if(e==="shape"||o){r.push("left:0;top:0;width:1px;height:1px;")}r.push("visibility: ",o?j:U);n.push(' style="',r.join(""),'"/>');if(e){n=o||e==="span"||e==="img"?n.join(""):t.prepVML(n);i.element=Yt(n)}i.renderer=t;i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,r=i.box,o=t&&t.inverted,s=t?t.element||t:r;if(o){i.invertChild(n,s)}s.appendChild(n);e.added=true;if(e.alignOnAdd&&!e.deferUpdateTransform){e.updateTransform()}me(e,"add");return e},updateTransform:Le.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,i){Wt(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-e,", M21=",e,", M22=",i,", sizingMethod='auto expand')"].join(""):K})},pathToVML:function(t){var e=t.length,i=[],n;while(e--){if(Dt(t[e])){i[e]=N(t[e]*10)-5}else if(t[e]==="Z"){i[e]="x"}else{i[e]=t[e];if(t.isArc&&(t[e]==="wa"||t[e]==="at")){n=t[e]==="wa"?1:-1;if(i[e+5]===i[e+7]){i[e+7]-=n}if(i[e+6]===i[e+8]){i[e+8]-=n}}}}return i.join(" ")||"x"},attr:function(t,e){var i=this,n,r,o,s,a=i.element||{},l=a.style,h=a.nodeName,f=i.renderer,c=i.symbolName,d,u=i.shadows,p,g=i.attrSetters,m=i;if(Lt(t)&&Ot(e)){n=t;t={};t[n]=e}if(Lt(t)){n=t;if(n==="strokeWidth"||n==="stroke-width"){m=i.strokeweight}else{m=i[n]}}else{for(n in t){r=t[n];p=false;s=g[n]&&g[n].call(i,r,n);if(s!==false&&r!==null){if(s!==R){r=s}if(c&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n)){if(!d){i.symbolAttr(t);d=true}p=true}else if(n==="d"){r=r||[];i.d=r.join(" ");a.path=r=i.pathToVML(r);if(u){o=u.length;while(o--){u[o].path=u[o].cutOff?this.cutOffPath(r,u[o].cutOff):r}}p=true}else if(n==="visibility"){if(u){o=u.length;while(o--){u[o].style[n]=r}}if(h==="DIV"){r=r===j?"-999em":0;if(!b){l[n]=r?U:j}n="top"}l[n]=r;p=true}else if(n==="zIndex"){if(r){l[n]=r}p=true}else if(he(n,["x","y","width","height"])!==-1){i[n]=r;if(n==="x"||n==="y"){n={x:"left",y:"top"}[n]}else{r=F(0,r)}if(i.updateClipping){i[n]=r;i.updateClipping()}else{l[n]=r}p=true}else if(n==="class"&&h==="DIV"){a.className=r}else if(n==="stroke"){r=f.color(r,a,n);n="strokecolor"}else if(n==="stroke-width"||n==="strokeWidth"){a.stroked=r?true:false;n="strokeweight";i[n]=r;if(Dt(r)){r+=Z}}else if(n==="dashstyle"){var y=a.getElementsByTagName("stroke")[0]||Yt(f.prepVML(["<stroke/>"]),null,null,a);y[n]=r||"solid";i.dashstyle=r;p=true}else if(n==="fill"){if(h==="SPAN"){l.color=r}else if(h!=="IMG"){a.filled=r!==K?true:false;r=f.color(r,a,n,i);n="fillcolor"}}else if(n==="opacity"){p=true}else if(h==="shape"&&n==="rotation"){i[n]=a.style[n]=r;a.style.left=-N(S(r*L)+1)+Z;a.style.top=N(T(r*L))+Z}else if(n==="translateX"||n==="translateY"||n==="rotation"){i[n]=r;i.updateTransform();p=true}else if(n==="text"){this.bBox=null;a.innerHTML=r;p=true}if(!p){if(b){a[n]=r}else{Rt(a,n,r)}}}}}return m},clip:function(t){var e=this,i,n;if(t){i=t.members;Bt(i,e);i.push(e);e.destroyClip=function(){Bt(i,e)};n=t.getCSS(e)}else{if(e.destroyClip){e.destroyClip()}n={clip:b?"inherit":"rect(auto)"}}return e.css(n)},css:Le.prototype.htmlCss,safeRemoveChild:function(t){if(t.parentNode){ee(t)}},destroy:function(){if(this.destroyClip){this.destroyClip()}return Le.prototype.destroy.apply(this)},on:function(t,e){this.element["on"+t]=function(){var t=c.event;t.target=t.srcElement;e(t)};return this},cutOffPath:function(t,e){var i;t=t.split(/[ ,]/);i=t.length;if(i===9||i===11){t[i-4]=t[i-2]=At(t[i-2])-10*e}return t.join(" ")},shadow:function(t,e,i){var n=[],r,o=this.element,s=this.renderer,a,l=o.style,h,f=o.path,c,d,u,p;if(f&&typeof f.value!=="string"){f="x"}d=f;if(t){u=Xt(t.width,3);p=(t.opacity||.15)/u;for(r=1;r<=3;r++){c=u*2+1-2*r;if(i){d=this.cutOffPath(f.value,c+.5)}h=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'];a=Yt(s.prepVML(h),null,{left:At(l.left)+Xt(t.offsetX,1),top:At(l.top)+Xt(t.offsetY,1)});if(i){a.cutOff=c+1}h=['<stroke color="',t.color||"black",'" opacity="',p*r,'"/>'];Yt(s.prepVML(h),null,null,a);if(e){e.element.appendChild(a)}else{o.parentNode.insertBefore(a,o)}n.push(a)}this.shadows=n}return this}};De=Et(Le,De);var Ie={Element:De,isIE8:h.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n=this,r,o;n.alignedObjects=[];r=n.createElement(E);o=r.element;o.style.position=G;t.appendChild(r.element);n.isVML=true;n.box=o;n.boxWrapper=r;n.setSize(e,i,false);if(!P.namespaces.hcv){P.namespaces.add("hcv","urn:schemas-microsoft-com:vml");(P.styleSheets.length?P.styleSheets[0]:P.createStyleSheet()).cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke"+"{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=Ct(t);return Tt(r,{members:[],left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n=i==="shape",r=t.inverted,o=this,s=o.top-(n?e.offsetTop:0),a=o.left,l=a+o.width,h=s+o.height,f={clip:"rect("+N(r?a:s)+"px,"+N(r?h:l)+"px,"+N(r?l:h)+"px,"+N(r?s:a)+"px)"};if(!r&&b&&i==="DIV"){Tt(f,{width:l+Z,height:h+Z})}return f},updateClipping:function(){fe(r.members,function(t){t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var r=this,o,s=/^rgba/,a,l,h=K;if(t&&t.linearGradient){l="gradient"}else if(t&&t.radialGradient){l="pattern"}if(l){var f,c,d=t.linearGradient||t.radialGradient,u,p,g,m,y,x,v,b,k="",w=t.stops,T,S,P=[],A=function(){a=['<fill colors="'+P.join(",")+'" opacity="',x,'" o:opacity2="',y,'" type="',l,'" ',k,'focus="100%" method="any" />'];Yt(r.prepVML(a),null,null,e)};T=w[0];S=w[w.length-1];if(T[0]>0){w.unshift([0,T[1]])}if(S[0]<1){w.push([1,S[1]])}fe(w,function(t,e){if(s.test(t[1])){o=Ae(t[1]);f=o.get("rgb");c=o.get("a")}else{f=t[1];c=1}P.push(t[0]*100+"% "+f);if(!e){y=c;b=f}else{x=c;v=f}});if(i==="fill"){if(l==="gradient"){u=d.x1||d[0]||0;p=d.y1||d[1]||0;g=d.x2||d[2]||0;m=d.y2||d[3]||0;k='angle="'+(90-H.atan((m-p)/(g-u))*180/X)+'"';A()}else{var L=d.r,C=L*2,M=L*2,D=d.cx,I=d.cy,z=e.radialReference,B,O=function(){if(z){B=n.getBBox();D+=(z[0]-B.x)/B.width-.5;I+=(z[1]-B.y)/B.height-.5;C*=z[2]/B.width;M*=z[2]/B.height}k='src="'+W.global.VMLRadialGradientURL+'" '+'size="'+C+","+M+'" '+'origin="0.5,0.5" '+'position="'+D+","+I+'" '+'color2="'+b+'" ';A()};if(n.added){O()}else{pe(n,"add",O)}h=v}}else{h=f}}else if(s.test(t)&&e.tagName!=="IMG"){o=Ae(t);a=["<",i,' opacity="',o.get("a"),'"/>'];Yt(this.prepVML(a),null,null,e);h=o.get("rgb")}else{var R=e.getElementsByTagName(i);if(R.length){R[0].opacity=1;R[0].type="solid"}h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;t=t.join("");if(i){t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(t.indexOf('style="')===-1){t=t.replace("/>",' style="'+e+'" />')}else{t=t.replace('style="','style="'+e)}}else{t=t.replace("<","<hcv:")}return t},text:Ce.prototype.html,path:function(t){var e={coordsize:"10 10"};if(Mt(t)){e.d=t}else if(Ct(t)){Tt(e,t)}return this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");if(Ct(t)){i=t.r;e=t.y;t=t.x}n.isCircle=true;n.r=i;return n.attr({x:t,y:e})},g:function(t){var e,i;if(t){i={className:_+t,class:_+t}}e=this.createElement(E).attr(i);return e},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});if(arguments.length>1){o.attr({x:e,y:i,width:n,height:r})}return o},rect:function(t,e,i,n,r,o){var s=this.symbol("rect");s.r=Ct(t)?t.r:r;return s.attr(Ct(t)?t:s.crisp(o,t,e,F(i,0),F(n,0)))},invertChild:function(t,e){var i=e.style;Wt(t,{flip:"x",left:At(i.width)-1,top:At(i.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,r){var o=r.start,s=r.end,a=r.r||i||n,l=r.innerR,h=T(o),f=S(o),c=T(s),d=S(s),u;if(s-o===0){return["x"]}u=["wa",t-a,e-a,t+a,e+a,t+a*h,e+a*f,t+a*c,e+a*d];if(r.open&&!l){u.push("e",$,t,e)}u.push("at",t-l,e-l,t+l,e+l,t+l*c,e+l*d,t+l*h,e+l*f,"x","e");u.isArc=true;return u},circle:function(t,e,i,n,r){if(r){i=n=2*r.r}if(r&&r.isCircle){t-=i/2;e-=n/2}return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){var o=t+i,s=e+n,a,l;if(!Ot(r)||!r.r){a=Ce.prototype.symbols.square.apply(0,arguments)}else{l=A(r.r,i,n);a=[$,t+l,e,q,o-l,e,"wa",o-2*l,e,o,e+2*l,o-l,e,o,e+l,q,o,s-l,"wa",o-2*l,s-2*l,o,s,o,s-l,o-l,s,q,t+l,s,"wa",t,s-2*l,t+2*l,s,t+l,s,t,s-l,q,t,e+l,"wa",t,e,t+2*l,e+2*l,t,e+l,t+l,e,"x","e"]}return a}}};Highcharts.VMLRenderer=Me=function(){this.init.apply(this,arguments)};Me.prototype=St(Ce.prototype,Ie);u=Me}var ze,Be;if(f){Highcharts.CanVGRenderer=ze=function(){M="http://www.w3.org/1999/xhtml"};ze.prototype.symbols={};Be=function(){var i=[];function n(){var t=i.length,e;for(e=0;e<t;e++){i[e]()}i=[]}return{push:function(t,e){if(i.length===0){le(e,n)}i.push(t)}}}();u=ze}function Oe(t,e,i,n){this.axis=t;this.pos=e;this.type=i||"";this.isNew=true;if(!i&&!n){this.addLabel()}}Oe.prototype={addLabel:function(){var t=this,e=t.axis,i=e.options,n=e.chart,r=e.horiz,o=e.categories,s=e.series[0]&&e.series[0].names,a=t.pos,l=i.labels,h,f=e.tickPositions,c=r&&o&&!l.step&&!l.staggerLines&&!l.rotation&&n.plotWidth/f.length||!r&&(n.margin[3]||n.chartWidth*.33),d=a===f[0],u=a===f[f.length-1],p,g,m=o?Xt(o[a],s&&s[a],a):a,y=t.label,x=f.info,v;if(e.isDatetimeAxis&&x){v=i.dateTimeLabelFormats[x.higherRanks[a]||x.unitName]}t.isFirst=d;t.isLast=u;h=e.labelFormatter.call({axis:e,chart:n,isFirst:d,isLast:u,dateTimeLabelFormat:v,value:e.isLog?ne(zt(m)):m});p=c&&{width:F(1,N(c-2*(l.padding||10)))+Z};p=Tt(p,l.style);if(!Ot(y)){g={align:e.labelAlign};if(Dt(l.rotation)){g.rotation=l.rotation}if(c&&l.ellipsis){g._clipHeight=e.len/f.length}t.label=Ot(h)&&l.enabled?n.renderer.text(h,0,0,l.useHTML).attr(g).css(p).add(e.labelGroup):null}else if(y){y.attr({text:h}).css(p)}},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.labelBBox,e=this.axis,i=e.options,n=i.labels,r=t.width,o=r*{left:0,center:.5,right:1}[e.labelAlign]-n.x;return[-o,r-o]},handleOverflow:function(t,e){var i=true,n=this.axis,r=n.chart,o=this.isFirst,s=this.isLast,a=e.x,l=n.reversed,h=n.tickPositions;if(o||s){var f=this.getLabelSides(),c=f[0],d=f[1],u=r.plotLeft,p=u+n.len,g=n.ticks[h[t+(o?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g.getLabelSides()[o?0:1];if(o&&!l||s&&l){if(a+c<u){a=u-c;if(g&&a+d>m){i=false}}}else{if(a+d>p){a=p-d;if(g&&a+c<m){i=false}}}e.x=a}return i},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,n,r,o,s,a){var l=this.axis,h=l.transA,f=l.reversed,c=l.staggerLines,d=l.chart.renderer.fontMetrics(r.style.fontSize).b,u=r.rotation;t=t+r.x-(o&&n?o*h*(f?-1:1):0);e=e+r.y-(o&&!n?o*h*(f?1:-1):0);if(u&&l.side===2){e-=d-d*T(u*L)}if(!Ot(r.y)&&!u){e+=d-i.getBBox().height/2}if(c){e+=s/(a||1)%c*(l.labelOffset/c)}return{x:t,y:e}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine([$,t,e,q,t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n=this,r=n.axis,o=r.options,s=r.chart,a=s.renderer,l=r.horiz,h=n.type,f=n.label,c=n.pos,d=o.labels,u=n.gridLine,p=h?h+"Grid":"grid",g=h?h+"Tick":"tick",m=o[p+"LineWidth"],y=o[p+"LineColor"],x=o[p+"LineDashStyle"],v=o[g+"Length"],b=o[g+"Width"]||0,k=o[g+"Color"],w=o[g+"Position"],T,S=n.mark,P,A=d.step,L,C=true,M=r.tickmarkOffset,D=n.getPosition(l,c,M,e),I=D.x,z=D.y,B=l&&I===r.pos+r.len||!l&&z===r.pos?-1:1,O=r.staggerLines;this.isActive=true;if(m){T=r.getPlotLinePath(c+M,m*B,e,true);if(u===R){L={stroke:y,"stroke-width":m};if(x){L.dashstyle=x}if(!h){L.zIndex=1}if(e){L.opacity=0}n.gridLine=u=m?a.path(T).attr(L).add(r.gridGroup):null}if(!e&&u&&T){u[n.isNew?"attr":"animate"]({d:T,opacity:i})}}if(b&&v){if(w==="inside"){v=-v}if(r.opposite){v=-v}P=n.getMarkPath(I,z,v,b*B,l,a);if(S){S.animate({d:P,opacity:i})}else{n.mark=a.path(P).attr({stroke:k,"stroke-width":b,opacity:i}).add(r.axisGroup)}}if(f&&!isNaN(I)){f.xy=D=n.getLabelPosition(I,z,f,l,d,M,t,A);if(n.isFirst&&!n.isLast&&!Xt(o.showFirstLabel,1)||n.isLast&&!n.isFirst&&!Xt(o.showLastLabel,1)){C=false}else if(!O&&l&&d.overflow==="justify"&&!n.handleOverflow(t,D)){C=false}if(A&&t%A){C=false}if(C&&!isNaN(D.y)){D.opacity=i;f[n.isNew?"attr":"animate"](D);n.isNew=false}else{f.attr("y",-9999)}}},destroy:function(){te(this,this.axis)}};function Re(t,e){this.axis=t;if(e){this.options=e;this.id=e.id}}Re.prototype={render:function(){var i=this,t=i.axis,e=t.horiz,n=(t.pointRange||0)/2,r=i.options,o=r.label,s=i.label,a=r.width,l=r.to,h=r.from,f=Ot(h)&&Ot(l),c=r.value,d=r.dashStyle,u=i.svgElem,p=[],g,m,y,x,v,b,k=r.color,w=r.zIndex,T=r.events,S,P=t.chart.renderer;if(t.isLog){h=It(h);l=It(l);c=It(c)}if(a){p=t.getPlotLinePath(c,a);S={stroke:k,"stroke-width":a};if(d){S.dashstyle=d}}else if(f){h=F(h,t.min-n);l=A(l,t.max+n);p=t.getPlotBandPath(h,l,r);S={fill:k};if(r.borderWidth){S.stroke=r.borderColor;S["stroke-width"]=r.borderWidth}}else{return}if(Ot(w)){S.zIndex=w}if(u){if(p){u.animate({d:p},null,u.onGetPath)}else{u.hide();u.onGetPath=function(){u.show()}}}else if(p&&p.length){i.svgElem=u=P.path(p).attr(S).add();if(T){g=function(e){u.on(e,function(t){T[e].apply(i,[t])})};for(m in T){g(m)}}}if(o&&Ot(o.text)&&p&&p.length&&t.width>0&&t.height>0){o=St({align:e&&f&&"center",x:e?!f&&4:10,verticalAlign:!e&&f&&"middle",y:e?f?16:10:f?6:-4,rotation:e&&!f&&90},o);if(!s){i.label=s=P.text(o.text,0,0,o.useHTML).attr({align:o.textAlign||o.align,rotation:o.rotation,zIndex:w}).css(o.style).add()}y=[p[1],p[4],Xt(p[6],p[1])];x=[p[2],p[5],Xt(p[7],p[2])];v=Jt(y);b=Jt(x);s.align(o,false,{x:v,y:b,width:Qt(y)-v,height:Qt(x)-b});s.show()}else if(s){s.hide()}return i},destroy:function(){Bt(this.axis.plotLinesAndBands,this);delete this.axis;te(this)}};function He(t,e,i,n,r,o){var s=t.chart.inverted;this.axis=t;this.isNegative=i;this.options=e;this.x=n;this.total=null;this.points={};this.stack=r;this.percent=o==="percent";this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:Xt(e.y,s?4:i?14:-6),x:Xt(e.x,s?i?-6:6:0)};this.textAlign=e.textAlign||(s?i?"right":"left":"center")}He.prototype={destroy:function(){te(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?jt(i,this):e.formatter.call(this);if(this.label){this.label.attr({text:n,visibility:j})}else{this.label=this.axis.chart.renderer.text(n,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:j}).add(t)}},setOffset:function(t,e){var i=this,n=i.axis,r=n.chart,o=r.inverted,s=this.isNegative,a=n.translate(this.percent?100:this.total,0,0,0,1),l=n.translate(0),h=V(a-l),f=r.xAxis[0].translate(this.x)+t,c=r.plotHeight,d={x:o?s?a:a-h:f,y:o?c-f-e:s?c-a-h:c-a,width:o?h:e,height:o?e:h},u=this.label,p;if(u){u.align(this.alignOptions,null,d);p=u.alignAttr;u.attr({visibility:this.options.crop===false||r.isInsidePlot(p.x,p.y)?D?"inherit":U:j})}}};function Xe(){this.init.apply(this,arguments)}Xe.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:be,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:false,formatter:function(){return Gt(this.total,-1)},style:be.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i;n.isXAxis=i;n.xOrY=i?"x":"y";n.opposite=e.opposite;n.side=n.horiz?n.opposite?0:2:n.opposite?1:3;n.setOptions(e);var r=this.options,o=r.type,s=o==="datetime";n.labelFormatter=r.labels.formatter||n.defaultLabelFormatter;n.userOptions=e;n.minPixelPadding=0;n.chart=t;n.reversed=r.reversed;n.zoomEnabled=r.zoomEnabled!==false;n.categories=r.categories||o==="category";n.isLog=o==="logarithmic";n.isDatetimeAxis=s;n.isLinked=Ot(r.linkedTo);n.tickmarkOffset=n.categories&&r.tickmarkPlacement==="between"?.5:0;n.ticks={};n.minorTicks={};n.plotLinesAndBands=[];n.alternateBands={};n.len=0;n.minRange=n.userMinRange=r.minRange||r.maxZoom;n.range=r.range;n.offset=r.offset||0;n.stacks={};n.oldStacks={};n.stackExtremes={};n.max=null;n.min=null;var a,l=n.options.events;if(he(n,t.axes)===-1){t.axes.push(n);t[i?"xAxis":"yAxis"].push(n)}n.series=n.series||[];if(t.inverted&&i&&n.reversed===R){n.reversed=true}n.removePlotBand=n.removePlotBandOrLine;n.removePlotLine=n.removePlotBandOrLine;for(a in l){pe(n,a,l[a])}if(n.isLog){n.val2lin=It;n.lin2val=zt}},setOptions:function(t){this.options=St(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],St(W[this.isXAxis?"xAxis":"yAxis"],t))},update:function(t,e){var i=this.chart;t=i.options[this.xOrY+"Axis"][this.options.index]=St(this.userOptions,t);this.destroy(true);this._addedPlotLB=this.userMin=this.userMax=R;this.init(i,Tt(t,{events:R}));i.isDirtyBox=true;if(Xt(e,true)){i.redraw()}},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";fe(this.series,function(t){t.remove(false)});Bt(e.axes,this);Bt(e[i],this);e.options[i].splice(this.options.index,1);fe(e[i],function(t,e){t.options.index=e});this.destroy();e.isDirtyBox=true;if(Xt(t,true)){e.redraw()}},defaultLabelFormatter:function(){var t=this.axis,e=this.value,i=t.categories,n=this.dateTimeLabelFormat,r=W.lang.numericSymbols,o=r&&r.length,s,a,l=t.options.labels.format,h=t.isLog?e:t.tickInterval;if(l){a=jt(l,this)}else if(i){a=e}else if(n){a=g(n,e)}else if(o&&h>=1e3){while(o--&&a===R){s=Math.pow(1e3,o+1);if(h>=s&&r[o]!==null){a=Gt(e/s,-1)+r[o]}}}if(a===R){if(e>=1e3){a=Gt(e,0)}else{a=Gt(e,-1)}}return a},getSeriesExtremes:function(){var s=this,a=s.chart;s.hasVisibleSeries=false;s.dataMin=s.dataMax=null;s.stackExtremes={};s.buildStacks();fe(s.series,function(t){if(t.visible||!a.options.chart.ignoreHiddenSeries){var e=t.options,i,n=e.threshold,r,o;s.hasVisibleSeries=true;if(s.isLog&&n<=0){n=null}if(s.isXAxis){i=t.xData;if(i.length){s.dataMin=A(Xt(s.dataMin,i[0]),Jt(i));s.dataMax=F(Xt(s.dataMax,i[0]),Qt(i))}}else{t.getExtremes();o=t.dataMax;r=t.dataMin;if(Ot(r)&&Ot(o)){s.dataMin=A(Xt(s.dataMin,r),r);s.dataMax=F(Xt(s.dataMax,o),o)}if(Ot(n)){if(s.dataMin>=n){s.dataMin=n;s.ignoreMinPadding=true}else if(s.dataMax<n){s.dataMax=n;s.ignoreMaxPadding=true}}}}})},translate:function(t,e,i,n,r,o){var s=this,a=s.len,l=1,h=0,f=n?s.oldTransA:s.transA,c=n?s.oldMin:s.min,d,u=s.minPixelPadding,p=(s.options.ordinal||s.isLog&&r)&&s.lin2val;if(!f){f=s.transA}if(i){l*=-1;h=a}if(s.reversed){l*=-1;h-=l*a}if(e){t=t*l+h;t-=u;d=t/f+c;if(p){d=s.lin2val(d)}}else{if(p){t=s.val2lin(t)}if(o==="between"){o=.5}d=l*(t-c)*f+h+l*u+(Dt(o)?f*o*s.pointRange:0)}return d},toPixels:function(t,e){return this.translate(t,false,!this.horiz,null,true)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),true,!this.horiz,null,true)},getPlotLinePath:function(t,e,i,n){var r=this,o=r.chart,s=r.left,a=r.top,l,h,f,c,d=r.translate(t,null,null,i),u=i&&o.oldChartHeight||o.chartHeight,p=i&&o.oldChartWidth||o.chartWidth,g,m=r.transB;l=f=N(d+m);h=c=N(u-d-m);if(isNaN(d)){g=true}else if(r.horiz){h=a;c=u-r.bottom;if(l<s||l>s+r.width){g=true}}else{l=s;f=p-r.right;if(h<a||h>a+r.height){g=true}}return g&&!n?null:o.renderer.crispLine([$,l,h,q,f,c],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);if(n&&i){n.push(i[4],i[5],i[1],i[2])}else{n=null}return n},getLinearTickPositions:function(t,e,i){var n,r,o=ne(z(e/t)*t),s=ne(v(i/t)*t),a=[];n=o;while(n<=s){a.push(n);n=ne(n+t);if(n===r){break}r=n}return a},getLogTickPositions:function(t,e,i,n){var r=this,o=r.options,s=r.len,a=[];if(!n){r._minorAutoInterval=null}if(t>=.5){t=N(t);a=r.getLinearTickPositions(t,e,i)}else if(t>=.08){var l=z(e),h,f,c,d,u,p,g;if(t>.3){h=[1,2,4]}else if(t>.15){h=[1,2,4,6,8]}else{h=[1,2,3,4,5,6,7,8,9]}for(f=l;f<i+1&&!g;f++){d=h.length;for(c=0;c<d&&!g;c++){u=It(zt(f)*h[c]);if(u>e&&(!n||p<=i)){a.push(p)}if(p>i){g=true}p=u}}}else{var m=zt(e),y=zt(i),x=o[n?"minorTickInterval":"tickInterval"],v=x==="auto"?null:x,b=o.tickPixelInterval/(n?5:1),k=n?s/r.tickPositions.length:s;t=Xt(v,r._minorAutoInterval,(y-m)*b/(k||1));t=Ut(t,null,_t(t));a=ue(r.getLinearTickPositions(t,m,y),It);if(!n){r._minorAutoInterval=t/5}}if(!n){r.tickInterval=t}return a},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,r=[],o,s,a;if(t.isLog){a=i.length;for(s=1;s<a;s++){r=r.concat(t.getLogTickPositions(n,i[s-1],i[s],true))}}else if(t.isDatetimeAxis&&e.minorTickInterval==="auto"){r=r.concat(Kt(Zt(n),t.min,t.max,e.startOfWeek));if(r[0]<t.min){r.shift()}}else{for(o=t.min+(i[0]-t.min)%n;o<=t.max;o+=n){r.push(o)}}return r},adjustForMinRange:function(){var t=this,e=t.options,i=t.min,n=t.max,r,o=t.dataMax-t.dataMin>=t.minRange,s,a,l,h,f,c,d;if(t.isXAxis&&t.minRange===R&&!t.isLog){if(Ot(e.min)||Ot(e.max)){t.minRange=null}else{fe(t.series,function(t){h=t.xData;f=t.xIncrement?1:h.length-1;for(a=f;a>0;a--){l=h[a]-h[a-1];if(s===R||l<s){s=l}}});t.minRange=A(s*5,t.dataMax-t.dataMin)}}if(n-i<t.minRange){var u=t.minRange;r=(u-n+i)/2;c=[i-r,Xt(e.min,i-r)];if(o){c[2]=t.dataMin}i=Qt(c);d=[i+u,Xt(e.max,i+u)];if(o){d[2]=t.dataMax}n=Jt(d);if(n-i<u){c[0]=n-u;c[1]=Xt(e.min,n-u);i=Qt(c)}}t.min=i;t.max=n},setAxisTranslation:function(t){var e=this,r=e.max-e.min,o=0,s,a=0,l=0,i=e.linkedParent,n,h=e.transA;if(e.isXAxis){if(i){a=i.minPointOffset;l=i.pointRangePadding}else{fe(e.series,function(t){var e=t.pointRange,i=t.options.pointPlacement,n=t.closestPointRange;if(e>r){e=0}o=F(o,e);a=F(a,Lt(i)?0:e/2);l=F(l,i==="on"?0:e);if(!t.noSharedTooltip&&Ot(n)){s=Ot(s)?A(s,n):n}})}n=e.ordinalSlope&&s?e.ordinalSlope/s:1;e.minPointOffset=a=a*n;e.pointRangePadding=l=l*n;e.pointRange=A(o,r);e.closestPointRange=s}if(t){e.oldTransA=h}e.translationSlope=e.transA=h=e.len/(r+l||1);e.transB=e.horiz?e.left:e.bottom;e.minPixelPadding=h*a},setTickPositions:function(t){var e=this,i=e.chart,n=e.options,r=e.isLog,o=e.isDatetimeAxis,s=e.isXAxis,a=e.isLinked,l=e.options.tickPositioner,h=n.maxPadding,f=n.minPadding,c,d,u=n.tickInterval,p=n.minTickInterval,g=n.tickPixelInterval,m,y,x=e.categories;if(a){e.linkedParent=i[s?"xAxis":"yAxis"][n.linkedTo];d=e.linkedParent.getExtremes();e.min=Xt(d.min,d.dataMin);e.max=Xt(d.max,d.dataMax);if(n.type!==e.linkedParent.options.type){ie(11,1)}}else{e.min=Xt(e.userMin,n.min,e.dataMin);e.max=Xt(e.userMax,n.max,e.dataMax)}if(r){if(!t&&A(e.min,Xt(e.dataMin,e.min))<=0){ie(10,1)}e.min=ne(It(e.min));e.max=ne(It(e.max))}if(e.range){e.userMin=e.min=F(e.min,e.max-e.range);e.userMax=e.max;if(t){e.range=null}}if(e.beforePadding){e.beforePadding()}e.adjustForMinRange();if(!x&&!e.usePercentage&&!a&&Ot(e.min)&&Ot(e.max)){c=e.max-e.min;if(c){if(!Ot(n.min)&&!Ot(e.userMin)&&f&&(e.dataMin<0||!e.ignoreMinPadding)){e.min-=c*f}if(!Ot(n.max)&&!Ot(e.userMax)&&h&&(e.dataMax>0||!e.ignoreMaxPadding)){e.max+=c*h}}}if(e.min===e.max||e.min===undefined||e.max===undefined){e.tickInterval=1}else if(a&&!u&&g===e.linkedParent.options.tickPixelInterval){e.tickInterval=e.linkedParent.tickInterval}else{e.tickInterval=Xt(u,x?1:(e.max-e.min)*g/F(e.len,g));if(!Ot(u)&&e.len<g&&!this.isRadial){y=true;e.tickInterval/=4}}if(s&&!t){fe(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)})}e.setAxisTranslation(true);if(e.beforeSetTickPositions){e.beforeSetTickPositions()}if(e.postProcessTickInterval){e.tickInterval=e.postProcessTickInterval(e.tickInterval)}if(e.pointRange){e.tickInterval=F(e.pointRange,e.tickInterval)}if(!u&&e.tickInterval<p){e.tickInterval=p}if(!o&&!r){if(!u){e.tickInterval=Ut(e.tickInterval,null,_t(e.tickInterval),n)}}e.minorTickInterval=n.minorTickInterval==="auto"&&e.tickInterval?e.tickInterval/5:n.minorTickInterval;e.tickPositions=m=n.tickPositions?[].concat(n.tickPositions):l&&l.apply(e,[e.min,e.max]);if(!m){if(!e.ordinalPositions&&(e.max-e.min)/e.tickInterval>F(2*e.len,200)){ie(19,true)}if(o){m=(e.getNonLinearTimeTicks||Kt)(Zt(e.tickInterval,n.units),e.min,e.max,n.startOfWeek,e.ordinalPositions,e.closestPointRange,true)}else if(r){m=e.getLogTickPositions(e.tickInterval,e.min,e.max)}else{m=e.getLinearTickPositions(e.tickInterval,e.min,e.max)}if(y){m.splice(1,m.length-2)}e.tickPositions=m}if(!a){var v=m[0],b=m[m.length-1],k=e.minPointOffset||0,w;if(n.startOnTick){e.min=v}else if(e.min-k>v){m.shift()}if(n.endOnTick){e.max=b}else if(e.max+k<b){m.pop()}if(m.length===1){w=.001;e.min-=w;e.max+=w}}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==false){e[n]=i.length}t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,r=e.maxTicks;if(r&&r[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==false){var o=t.tickAmount,s=n.length,a;t.tickAmount=a=r[i];if(s<a){while(n.length<a){n.push(ne(n[n.length-1]+t.tickInterval))}t.transA*=(s-1)/(a-1);t.max=n[n.length-1]}if(Ot(o)&&a!==o){t.isDirty=true}}},setScale:function(){var t=this,e=t.stacks,i,n,r,o;t.oldMin=t.min;t.oldMax=t.max;t.oldAxisLength=t.len;t.setAxisSize();o=t.len!==t.oldAxisLength;fe(t.series,function(t){if(t.isDirtyData||t.isDirty||t.xAxis.isDirty){r=true}});if(o||r||t.isLinked||t.forceRedraw||t.userMin!==t.oldUserMin||t.userMax!==t.oldUserMax){if(!t.isXAxis){for(i in e){delete e[i]}}t.forceRedraw=false;t.getSeriesExtremes();t.setTickPositions();t.oldUserMin=t.userMin;t.oldUserMax=t.userMax;if(!t.isDirty){t.isDirty=o||t.min!==t.oldMin||t.max!==t.oldMax}}else if(!t.isXAxis){if(t.oldStacks){e=t.stacks=t.oldStacks}for(i in e){for(n in e[i]){e[i][n].cum=e[i][n].total}}}t.setMaxTicks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart;i=Xt(i,true);r=Tt(r,{min:t,max:e});me(o,"setExtremes",r,function(){o.userMin=t;o.userMax=e;o.eventArgs=r;o.isDirtyExtremes=true;if(i){s.redraw(n)}})},zoom:function(t,e){if(!this.allowZoomOutside){if(Ot(this.dataMin)&&t<=this.dataMin){t=R}if(Ot(this.dataMax)&&e>=this.dataMax){e=R}}this.displayBtn=t!==R||e!==R;this.setExtremes(t,e,false,R,{trigger:"zoom"});return true},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=e.offsetRight||0,r=this.horiz,o,s,a,l;this.left=l=Xt(e.left,t.plotLeft+i);this.top=a=Xt(e.top,t.plotTop);this.width=o=Xt(e.width,t.plotWidth-i+n);this.height=s=Xt(e.height,t.plotHeight);this.bottom=t.chartHeight-s-a;this.right=t.chartWidth-o-l;this.len=F(r?o:s,0);this.pos=r?l:a},getExtremes:function(){var t=this,e=t.isLog;return{min:e?ne(zt(t.min)):t.min,max:e?ne(zt(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog;var n=i?zt(e.min):e.min,r=i?zt(e.max):e.max;if(n>t||t===null){t=n}else if(r<t){t=r}return e.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new Re(this,t).render(),n=this.userOptions;if(i){if(e){n[e]=n[e]||[];n[e].push(t)}this.plotLinesAndBands.push(i)}return i},autoLabelAlign:function(t){var e,i=(Xt(t,0)-this.side*90+720)%360;if(i>15&&i<165){e="right"}else if(i>195&&i<345){e="left"}else{e="center"}return e},getOffset:function(){var e=this,t=e.chart,i=t.renderer,n=e.options,r=e.tickPositions,o=e.ticks,s=e.horiz,a=e.side,l=t.inverted?[1,0,3,2][a]:a,h,f,c=0,d,u=0,p=n.title,g=n.labels,m=0,y=t.axisOffset,x=t.clipOffset,v=[-1,1,1,-1][a],b,k,w=1,T=Xt(g.maxStaggerLines,5),S,P,A,L,C,M,D,I;e.hasData=h=e.hasVisibleSeries||Ot(e.min)&&Ot(e.max)&&!!r;e.showAxis=f=h||Xt(n.showEmpty,true);e.staggerLines=e.horiz&&g.staggerLines;if(!e.axisGroup){e.gridGroup=i.g("grid").attr({zIndex:n.gridZIndex||1}).add();e.axisGroup=i.g("axis").attr({zIndex:n.zIndex||2}).add();e.labelGroup=i.g("axis-labels").attr({zIndex:g.zIndex||7}).add()}if(h||e.isLinked){e.labelAlign=Xt(g.align||e.autoLabelAlign(g.rotation));fe(r,function(t){if(!o[t]){o[t]=new Oe(e,t)}else{o[t].addLabel()}});if(e.horiz&&!e.staggerLines&&T&&!g.rotation){S=e.reversed?[].concat(r).reverse():r;while(w<T){P=[];A=false;for(k=0;k<S.length;k++){L=S[k];C=o[L].label&&o[L].label.getBBox();D=C?C.width:0;I=k%w;if(D){M=e.translate(L);if(P[I]!==R&&M<P[I]){A=true}P[I]=M+D}}if(A){w++}else{break}}if(w>1){e.staggerLines=w}}fe(r,function(t){if(a===0||a===2||{1:"left",3:"right"}[a]===e.labelAlign){m=F(o[t].getLabelSize(),m)}});if(e.staggerLines){m*=e.staggerLines;e.labelOffset=m}}else{for(b in o){o[b].destroy();delete o[b]}}if(p&&p.text&&p.enabled!==false){if(!e.axisTitle){e.axisTitle=i.text(p.text,0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:p.textAlign||{low:"left",middle:"center",high:"right"}[p.align]}).css(p.style).add(e.axisGroup);e.axisTitle.isNew=true}if(f){c=e.axisTitle.getBBox()[s?"height":"width"];u=Xt(p.margin,s?5:10);d=p.offset}e.axisTitle[f?"show":"hide"]()}e.offset=v*Xt(n.offset,y[a]);e.axisTitleMargin=Xt(d,m+u+(a!==2&&m&&v*n.labels[s?"y":"x"]));y[a]=F(y[a],e.axisTitleMargin+c+v*e.offset);x[l]=F(x[l],z(n.lineWidth/2)*2)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;if(i){t*=-1}return e.renderer.crispLine([$,r?this.left:o,r?s:this.top,q,r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,s=this.opposite,a=this.offset,l=At(r.style.fontSize||12),h={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],f=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(this.side===2?l:0);return{x:t?h:f+(s?this.width:0)+a+(r.x||0),y:t?f-(s?this.height:0)+a:h+(r.y||0)}},render:function(){var i=this,s=i.chart,t=s.renderer,e=i.options,n=i.isLog,r=i.isLinked,o=i.tickPositions,a=i.axisTitle,l=i.stacks,h=i.ticks,f=i.minorTicks,c=i.alternateBands,d=e.stackLabels,u=e.alternateGridColor,p=i.tickmarkOffset,g=e.lineWidth,m,y=s.hasRendered,x=y&&Ot(i.oldMin)&&!isNaN(i.oldMin),v=i.hasData,b=i.showAxis,k,w;fe([h,f,c],function(t){var e;for(e in t){t[e].isActive=false}});if(v||r){if(i.minorTickInterval&&!i.categories){fe(i.getMinorTickPositions(),function(t){if(!f[t]){f[t]=new Oe(i,t,"minor")}if(x&&f[t].isNew){f[t].render(null,true)}f[t].render(null,false,1)})}if(o.length){fe(o.slice(1).concat([o[0]]),function(t,e){e=e===o.length-1?0:e+1;if(!r||t>=i.min&&t<=i.max){if(!h[t]){h[t]=new Oe(i,t)}if(x&&h[t].isNew){h[t].render(e,true)}h[t].render(e,false,1)}});if(p&&i.min===0){if(!h[-1]){h[-1]=new Oe(i,-1,null,true)}h[-1].render(-1)}}if(u){fe(o,function(t,e){if(e%2===0&&t<i.max){if(!c[t]){c[t]=new Re(i)}k=t+p;w=o[e+1]!==R?o[e+1]+p:i.max;c[t].options={from:n?zt(k):k,to:n?zt(w):w,color:u};c[t].render();c[t].isActive=true}})}if(!i._addedPlotLB){fe((e.plotLines||[]).concat(e.plotBands||[]),function(t){i.addPlotBandOrLine(t)});i._addedPlotLB=true}}fe([h,f,c],function(t){var e,i,n=[],r=I?I.duration||500:0,o=function(){i=n.length;while(i--){if(t[n[i]]&&!t[n[i]].isActive){t[n[i]].destroy();delete t[n[i]]}}};for(e in t){if(!t[e].isActive){t[e].render(e,false,0);t[e].isActive=false;n.push(e)}}if(t===c||!s.hasRendered||!r){o()}else if(r){setTimeout(o,r)}});if(g){m=i.getLinePath(g);if(!i.axisLine){i.axisLine=t.path(m).attr({stroke:e.lineColor,"stroke-width":g,zIndex:7}).add(i.axisGroup)}else{i.axisLine.animate({d:m})}i.axisLine[b?"show":"hide"]()}if(a&&b){a[a.isNew?"attr":"animate"](i.getTitlePosition());a.isNew=false}if(d&&d.enabled){var T,S,P,A=i.stackTotalGroup;if(!A){i.stackTotalGroup=A=t.g("stack-labels").attr({visibility:U,zIndex:6}).add()}A.translate(s.plotLeft,s.plotTop);for(T in l){S=l[T];for(P in S){S[P].render(A)}}}i.isDirty=false},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=t.length;while(r--){if(t[r].id===e){t[r].destroy()}}fe([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){r=t.length;while(r--){if(t[r].id===e){Bt(t,t[r])}}})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this,e=t.chart,i=e.pointer;if(i.reset){i.reset(true)}t.render();fe(t.plotLinesAndBands,function(t){t.render()});fe(t.series,function(t){t.isDirty=true})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){while(e--){t[e].setStackedPoints()}if(this.usePercentage){for(e=0;e<t.length;e++){t[e].setPercentStacks()}}}},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e=this,i=e.stacks,n,r=e.plotLinesAndBands,o;if(!t){ge(e)}for(n in i){te(i[n]);i[n]=null}fe([e.ticks,e.minorTicks,e.alternateBands],function(t){te(t)});o=r.length;while(o--){r[o].destroy()}fe(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){if(e[t]){e[t]=e[t].destroy()}})}};function We(){this.init.apply(this,arguments)}We.prototype={init:function(t,e){var i=e.borderWidth,n=e.style,r=At(n.padding);this.chart=t;this.options=e;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:r,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-999});if(!f){this.label.shadow(e.shadow)}this.shared=e.shared},destroy:function(){fe(this.crosshairs,function(t){if(t){t.destroy()}});if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var r=this,o=r.now,s=r.options.animation!==false&&!r.isHidden;Tt(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:s?(2*o.anchorX+i)/3:i,anchorY:s?(o.anchorY+n)/2:n});r.label.attr(o);if(s&&(V(t-o.x)>1||V(e-o.y)>1)){clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){if(r){r.move(t,e,i,n)}},32)}},hide:function(){var t=this,e;clearTimeout(this.hideTimer);if(!this.isHidden){e=this.chart.hoverPoints;this.hideTimer=setTimeout(function(){t.label.fadeOut();t.isHidden=true},Xt(this.options.hideDelay,500));if(e){fe(e,function(t){t.setState()})}this.chart.hoverPoints=null}},hideCrosshairs:function(){fe(this.crosshairs,function(t){if(t){t.hide()}})},getAnchor:function(t,e){var i,n=this.chart,r=n.inverted,o=n.plotTop,s=0,a=0,l;t=Ht(t);i=t[0].tooltipPos;if(this.followPointer&&e){if(e.chartX===R){e=n.pointer.normalize(e)}i=[e.chartX-n.plotLeft,e.chartY-o]}if(!i){fe(t,function(t){l=t.series.yAxis;s+=t.plotX;a+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&l?l.top-o:0)});s/=t.length;a/=t.length;i=[r?n.plotWidth-a:s,this.shared&&!r&&t.length>1&&e?e.chartY-o:r?n.plotHeight-s:a]}return ue(i,N)},getPosition:function(t,e,i){var n=this.chart,r=n.plotLeft,o=n.plotTop,s=n.plotWidth,a=n.plotHeight,l=Xt(this.options.distance,12),h=i.plotX,f=i.plotY,c=h+r+(n.inverted?l:-t-l),d=f-e+o+15,u;if(c<7){c=r+F(h,0)+l}if(c+t>r+s){c-=c+t-(r+s);d=f-e+o-l;u=true}if(d<o+5){d=o+5;if(u&&f>=d&&f<=d+e){d=f+o+l}}if(d+e>o+a){d=F(o,o+a-e-l)}return{x:c,y:d}},defaultFormatter:function(t){var e=this.points||Ht(this),i=e[0].series,n;n=[i.tooltipHeaderFormatter(e[0])];fe(e,function(t){i=t.series;n.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))});n.push(t.options.footerFormat||"");return n.join("")},refresh:function(t,e){var i=this,n=i.chart,r=i.label,o=i.options,s,a,l,h={},f,c=[],d=o.formatter||i.defaultFormatter,u=n.hoverPoints,p,g=o.crosshairs,m=i.shared,y;clearTimeout(this.hideTimer);i.followPointer=Ht(t)[0].series.tooltipOptions.followPointer;l=i.getAnchor(t,e);s=l[0];a=l[1];if(m&&!(t.series&&t.series.noSharedTooltip)){n.hoverPoints=t;if(u){fe(u,function(t){t.setState()})}fe(t,function(t){t.setState(tt);c.push(t.getLabelConfig())});h={x:t[0].category,y:t[0].y};h.points=c;t=t[0]}else{h=t.getLabelConfig()}f=d.call(h,i);y=t.series;if(f===false){this.hide()}else{if(i.isHidden){ve(r);r.attr("opacity",1).show()}r.attr({text:f});p=o.borderColor||t.color||y.color||"#606060";r.attr({stroke:p});i.updatePosition({plotX:s,plotY:a});this.isHidden=false}if(g){g=Ht(g);var x,v=g.length,b,k,w,T;while(v--){T=t.series;k=T[v?"yAxis":"xAxis"];if(g[v]&&k){w=v?Xt(t.stackY,t.y):t.x;if(k.isLog){w=It(w)}if(v===1&&T.modifyValue){w=T.modifyValue(w)}x=k.getPlotLinePath(w,1);if(i.crosshairs[v]){i.crosshairs[v].attr({d:x,visibility:U})}else{b={"stroke-width":g[v].width||1,stroke:g[v].color||"#C0C0C0",zIndex:g[v].zIndex||2};if(g[v].dashStyle){b.dashstyle=g[v].dashStyle}i.crosshairs[v]=n.renderer.path(x).attr(b).add()}}}}me(n,"tooltipRefresh",{text:f,x:s+n.plotLeft,y:a+n.plotTop,borderColor:p})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(N(n.x),N(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}};function Ye(t,e){this.init(t,e)}Ye.prototype={init:function(t,e){var i=e.chart,n=i.events,r=f?"":i.zoomType,o=t.inverted,s,a;this.options=e;this.chart=t;this.zoomX=s=/x/.test(r);this.zoomY=a=/y/.test(r);this.zoomHor=s&&!o||a&&o;this.zoomVert=a&&!o||s&&o;this.runChartClick=n&&!!n.click;this.pinchDown=[];this.lastValidTouch={};if(e.tooltip.enabled){t.tooltip=new We(t,e.tooltip)}this.setDOMEvents()},normalize:function(t,e){var i,n,r;t=t||c.event;if(!t.target){t.target=t.srcElement}t=ye(t);r=t.touches?t.touches.item(0):t;if(!e){this.chartPosition=e=de(this.chart.container)}if(r.pageX===R){i=F(t.x,t.clientX-e.left);n=t.y}else{i=r.pageX-e.left;n=r.pageY-e.top}return Tt(t,{chartX:N(i),chartY:N(n)})},getCoordinates:function(e){var i={xAxis:[],yAxis:[]};fe(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(e[t.horiz?"chartX":"chartY"])})});return i},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e=this,i=e.chart,n=i.series,r=i.tooltip,o,s,a=i.hoverPoint,l=i.hoverSeries,h,f,c=i.chartWidth,d=e.getIndex(t),u;if(r&&e.options.tooltip.shared&&!(l&&l.noSharedTooltip)){s=[];h=n.length;for(f=0;f<h;f++){if(n[f].visible&&n[f].options.enableMouseTracking!==false&&!n[f].noSharedTooltip&&n[f].tooltipPoints.length){o=n[f].tooltipPoints[d];if(o&&o.series){o._dist=V(d-o.clientX);c=A(c,o._dist);s.push(o)}}}h=s.length;while(h--){if(s[h]._dist>c){s.splice(h,1)}}if(s.length&&s[0].clientX!==e.hoverX){r.refresh(s,t);e.hoverX=s[0].clientX}}if(l&&l.tracker){o=l.tooltipPoints[d];if(o&&o!==a){o.onMouseOver(t)}}else if(r&&r.followPointer&&!r.isHidden){u=r.getAnchor([{}],t);r.updatePosition({plotX:u[0],plotY:u[1]})}},reset:function(t){var e=this,i=e.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.tooltip,s=o&&o.shared?i.hoverPoints:r;t=t&&o&&s;if(t&&Ht(s)[0].plotX===R){t=false}if(t){o.refresh(s)}else{if(r){r.onMouseOut()}if(n){n.onMouseOut()}if(o){o.hide();o.hideCrosshairs()}e.hoverX=null}},scaleGroups:function(e,i){var n=this.chart,r;fe(n.series,function(t){r=e||t.getPlotBox();if(t.xAxis&&t.xAxis.zoomEnabled){t.group.attr(r);if(t.markerGroup){t.markerGroup.attr(r);t.markerGroup.clip(i?n.clipRect:null)}if(t.dataLabelsGroup){t.dataLabelsGroup.attr(r)}}});n.clipRect.attr(i||n.clipBox)},pinchTranslateDirection:function(t,e,i,n,r,o,s){var a=this.chart,l=t?"x":"y",h=t?"X":"Y",f="chart"+h,c=t?"width":"height",d=a["plot"+(t?"Left":"Top")],u,p,g,m=1,y=a.inverted,x=a.bounds[t?"h":"v"],v=e.length===1,b=e[0][f],k=i[0][f],w=!v&&e[1][f],T=!v&&i[1][f],S,P,A,L=function(){if(!v&&V(b-w)>20){m=V(k-T)/V(b-w)}g=(d-k)/m+b;u=a["plot"+(t?"Width":"Height")]/m};L();p=g;if(p<x.min){p=x.min;S=true}else if(p+u>x.max){p=x.max-u;S=true}if(S){k-=.8*(k-s[l][0]);if(!v){T-=.8*(T-s[l][1])}L()}else{s[l]=[k,T]}if(!y){o[l]=g-d;o[c]=u}A=y?t?"scaleY":"scaleX":"scale"+h;P=y?1/m:m;r[c]=u;r[l]=p;n[A]=m;n["translate"+h]=P*d+(k-P*b)},pinch:function(t){var e=this,a=e.chart,i=e.pinchDown,n=a.tooltip&&a.tooltip.options.followTouchMove,r=t.touches,o=r.length,s=e.lastValidTouch,l=e.zoomHor||e.pinchHor,h=e.zoomVert||e.pinchVert,f=l||h,c=e.selectionMarker,d={},u=o===1&&(e.inClass(t.target,_+"tracker")&&a.runTrackerClick||a.runChartClick),p={};if((f||n)&&!u){t.preventDefault()}ue(r,function(t){return e.normalize(t)});if(t.type==="touchstart"){fe(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}});s.x=[i[0].chartX,i[1]&&i[1].chartX];s.y=[i[0].chartY,i[1]&&i[1].chartY];fe(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(t.dataMin),r=t.toPixels(t.dataMax),o=A(n,r),s=F(n,r);e.min=A(t.pos,o-i);e.max=F(t.pos+t.len,s+i)}})}else if(i.length){if(!c){e.selectionMarker=c=Tt({destroy:w},a.plotBox)}if(l){e.pinchTranslateDirection(true,i,r,d,c,p,s)}if(h){e.pinchTranslateDirection(false,i,r,d,c,p,s)}e.hasPinched=f;e.scaleGroups(d,p);if(!f&&n&&o===1){this.runPointActions(e.normalize(t))}}},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type;e.cancelClick=false;e.mouseDownX=this.mouseDownX=t.chartX;e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e=this.chart,i=e.options.chart,n=t.chartX,r=t.chartY,o=this.zoomHor,s=this.zoomVert,a=e.plotLeft,l=e.plotTop,h=e.plotWidth,f=e.plotHeight,c,d,u=this.mouseDownX,p=this.mouseDownY;if(n<a){n=a}else if(n>a+h){n=a+h}if(r<l){r=l}else if(r>l+f){r=l+f}this.hasDragged=Math.sqrt(Math.pow(u-n,2)+Math.pow(p-r,2));if(this.hasDragged>10){c=e.isInsidePlot(u-a,p-l);if(e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c){if(!this.selectionMarker){this.selectionMarker=e.renderer.rect(a,l,o?1:h,s?1:f,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(this.selectionMarker&&o){d=n-u;this.selectionMarker.attr({width:V(d),x:(d>0?0:d)+u})}if(this.selectionMarker&&s){d=r-p;this.selectionMarker.attr({height:V(d),y:(d>0?0:d)+p})}if(c&&!this.selectionMarker&&i.panning){e.pan(t,i.panning)}}},drop:function(t){var e=this.chart,i=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},o=this.selectionMarker,s=o.x,a=o.y,l;if(this.hasDragged||i){fe(e.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?s:a),n=t.toValue(e?s+o.width:a+o.height);if(!isNaN(i)&&!isNaN(n)){r[t.xOrY+"Axis"].push({axis:t,min:A(i,n),max:F(i,n)});l=true}}});if(l){me(e,"selection",r,function(t){e.zoom(Tt(t,i?{animation:false}:null))})}}this.selectionMarker=this.selectionMarker.destroy();if(i){this.scaleGroups()}}if(e){Wt(e.container,{cursor:e._cursor});e.cancelClick=this.hasDragged>10;e.mouseIsDown=this.hasDragged=this.hasPinched=false;this.pinchDown=[]}},onContainerMouseDown:function(t){t=this.normalize(t);if(t.preventDefault){t.preventDefault()}this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i);if(i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)){this.reset()}},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;t=this.normalize(t);t.returnValue=false;if(e.mouseIsDown==="mousedown"){this.drag(t)}if((this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu){this.runPointActions(t)}},inClass:function(t,e){var i;while(t){i=Rt(t,"class");if(i){if(i.indexOf(e)!==-1){return true}else if(i.indexOf(_+"container")!==-1){return false}}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;if(e&&!e.options.stickyTracking&&!this.inClass(t.toElement||t.relatedTarget,_+"tooltip")){e.onMouseOut()}},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop,o=e.inverted,s,a,l;t=this.normalize(t);t.cancelBubble=true;if(!e.cancelClick){if(i&&this.inClass(t.target,_+"tracker")){s=this.chartPosition;a=i.plotX;l=i.plotY;Tt(i,{pageX:s.left+n+(o?e.plotWidth-l:a),pageY:s.top+r+(o?e.plotHeight-a:l)});me(i.series,"click",Tt(t,{point:i}));if(e.hoverPoint){i.firePointEvent("click",t)}}else{Tt(t,this.getCoordinates(t));if(e.isInsidePlot(t.chartX-n,t.chartY-r)){me(e,"click",t)}}}},onContainerTouchStart:function(t){var e=this.chart;if(t.touches.length===1){t=this.normalize(t);if(e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)){this.runPointActions(t);this.pinch(t)}else{this.reset()}}else if(t.touches.length===2){this.pinch(t)}},onContainerTouchMove:function(t){if(t.touches.length===1||t.touches.length===2){this.pinch(t)}},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var i=this,t=i.chart.container,e;this._events=e=[[t,"onmousedown","onContainerMouseDown"],[t,"onmousemove","onContainerMouseMove"],[t,"onclick","onContainerClick"],[t,"mouseleave","onContainerMouseLeave"],[P,"mousemove","onDocumentMouseMove"],[P,"mouseup","onDocumentMouseUp"]];if(m){e.push([t,"ontouchstart","onContainerTouchStart"],[t,"ontouchmove","onContainerTouchMove"],[P,"touchend","onDocumentTouchEnd"])}fe(e,function(e){i["_"+e[2]]=function(t){i[e[2]](t)};if(e[1].indexOf("on")===0){e[0][e[1]]=i["_"+e[2]]}else{pe(e[0],e[1],i["_"+e[2]])}})},destroy:function(){var e=this;fe(e._events,function(t){if(t[1].indexOf("on")===0){t[0][t[1]]=null}else{ge(t[0],t[1],e["_"+t[2]])}});delete e._events;clearInterval(e.tooltipTimeout)}};function Ee(t,e){this.init(t,e)}Ee.prototype={init:function(t,e){var i=this,n=e.itemStyle,r=Xt(e.padding,8),o=e.itemMarginTop||0;this.options=e;if(!e.enabled){return}i.baseline=At(n.fontSize)+3+o;i.itemStyle=n;i.itemHiddenStyle=St(n,e.itemHiddenStyle);i.itemMarginTop=o;i.padding=r;i.initialItemX=r;i.initialItemY=r-5;i.maxItemWidth=0;i.chart=t;i.itemHeight=0;i.lastLineHeight=0;i.render();pe(i.chart,"endResize",function(){i.positionCheckboxes()})},colorizeItem:function(t,e){var i=this,n=i.options,r=t.legendItem,o=t.legendLine,s=t.legendSymbol,a=i.itemHiddenStyle.color,l=e?n.itemStyle.color:a,h=e?t.color:a,f=t.options&&t.options.marker,c={stroke:h,fill:h},d,u;if(r){r.css({fill:l,color:l})}if(o){o.attr({stroke:h})}if(s){if(f&&s.isMarker){f=t.convertAttribs(f);for(d in f){u=f[d];if(u!==R){c[d]=u}}}s.attr(c)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox;if(t.legendGroup){t.legendGroup.translate(r?s:e.legendWidth-s-2*n-4,a)}if(l){l.x=s;l.y=a}},destroyItem:function(e){var t=e.checkbox;fe(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){if(e[t]){e[t]=e[t].destroy()}});if(t){ee(e.checkbox)}},destroy:function(){var t=this,e=t.group,i=t.box;if(i){t.box=i.destroy()}if(e){t.group=e.destroy()}},positionCheckboxes:function(n){var r=this.group.alignAttr,o,s=this.clipHeight||this.legendHeight;if(r){o=r.translateY;fe(this.allItems,function(t){var e=t.checkbox,i;if(e){i=o+e.y+(n||0)+3;Wt(e,{left:r.translateX+t.legendItemWidth+e.x-20+Z,top:i+Z,display:i>o-6&&i<o+s-6?"":K})}})}},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0,r;if(i.text){if(!this.title){this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)}r=this.title.getBBox();n=r.height;this.offsetWidth=r.width;this.contentGroup.attr({translateY:n})}this.titleHeight=n},renderItem:function(n){var t=this,e=t.chart,i=e.renderer,r=t.options,o=r.layout==="horizontal",s=r.symbolWidth,a=r.symbolPadding,l=t.itemStyle,h=t.itemHiddenStyle,f=t.padding,c=o?Xt(r.itemDistance,8):0,d=!r.rtl,u,p=r.width,g=r.itemMarginBottom||0,m=t.itemMarginTop,y=t.initialItemX,x,v,b=n.legendItem,k=n.series||n,w=k.options,T=w.showCheckbox,S=r.useHTML;if(!b){n.legendGroup=i.g("legend-item").attr({zIndex:1}).add(t.scrollGroup);k.drawLegendSymbol(t,n);n.legendItem=b=i.text(r.labelFormat?jt(r.labelFormat,n):r.labelFormatter.call(n),d?s+a:-a,t.baseline,S).css(St(n.visible?l:h)).attr({align:d?"left":"right",zIndex:2}).add(n.legendGroup);(S?b:n.legendGroup).on("mouseover",function(){n.setState(tt);b.css(t.options.itemHoverStyle)}).on("mouseout",function(){b.css(n.visible?l:h);n.setState()}).on("click",function(t){var e="legendItemClick",i=function(){n.setVisible()};t={browserEvent:t};if(n.firePointEvent){n.firePointEvent(e,t,i)}else{me(n,e,t,i)}});t.colorizeItem(n,n.visible);if(w&&T){n.checkbox=Yt("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},r.itemCheckboxStyle,e.container);pe(n.checkbox,"click",function(t){var e=t.target;me(n,"checkboxClick",{checked:e.checked},function(){n.select()})})}}x=b.getBBox();v=n.legendItemWidth=r.itemWidth||s+a+x.width+c+(T?20:0);t.itemHeight=u=x.height;if(o&&t.itemX-y+v>(p||e.chartWidth-2*f-y)){t.itemX=y;t.itemY+=m+t.lastLineHeight+g;t.lastLineHeight=0}t.maxItemWidth=F(t.maxItemWidth,v);t.lastItemY=m+t.itemY+g;t.lastLineHeight=F(u,t.lastLineHeight);n._legendItemPos=[t.itemX,t.itemY];if(o){t.itemX+=v}else{t.itemY+=m+u+g;t.lastLineHeight=u}t.offsetWidth=p||F((o?t.itemX-y-c:v)+f,t.offsetWidth)},render:function(){var e=this,t=e.chart,i=t.renderer,n=e.group,r,o,s,a,l=e.box,h=e.options,f=e.padding,c=h.borderWidth,d=h.backgroundColor;e.itemX=e.initialItemX;e.itemY=e.initialItemY;e.offsetWidth=0;e.lastItemY=0;if(!n){e.group=n=i.g("legend").attr({zIndex:7}).add();e.contentGroup=i.g().attr({zIndex:1}).add(n);e.scrollGroup=i.g().add(e.contentGroup)}e.renderTitle();r=[];fe(t.series,function(t){var e=t.options;if(!e.showInLegend||Ot(e.linkedTo)){return}r=r.concat(t.legendItems||(e.legendType==="point"?t.data:t))});qt(r,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)});if(h.reversed){r.reverse()}e.allItems=r;e.display=o=!!r.length;fe(r,function(t){e.renderItem(t)});s=h.width||e.offsetWidth;a=e.lastItemY+e.lastLineHeight+e.titleHeight;a=e.handleOverflow(a);if(c||d){s+=f;a+=f;if(!l){e.box=l=i.rect(0,0,s,a,h.borderRadius,c||0).attr({stroke:h.borderColor,"stroke-width":c||0,fill:d||K}).add(n).shadow(h.shadow);l.isNew=true}else if(s>0&&a>0){l[l.isNew?"attr":"animate"](l.crisp(null,null,null,s,a));l.isNew=false}l[o?"show":"hide"]()}e.legendWidth=s;e.legendHeight=a;fe(r,function(t){e.positionItem(t)});if(o){n.align(Tt({width:s,height:a},h),true,"spacingBox")}if(!t.isResizing){this.positionCheckboxes()}},handleOverflow:function(t){var e=this,i=this.chart,n=i.renderer,r,o=this.options,s=o.y,a=o.verticalAlign==="top",l=i.spacingBox.height+(a?-s:s)-this.padding,h=o.maxHeight,f,c=this.clipRect,d=o.navigation,u=Xt(d.animation,true),p=d.arrowSize||12,g=this.nav;if(o.layout==="horizontal"){l/=2}if(h){l=A(l,h)}if(t>l&&!o.useHTML){this.clipHeight=f=l-20-this.titleHeight;this.pageCount=r=v(t/f);this.currentPage=Xt(this.currentPage,1);this.fullHeight=t;if(!c){c=e.clipRect=n.clipRect(0,0,9999,0);e.contentGroup.clip(c)}c.attr({height:f});if(!g){this.nav=g=n.g().attr({zIndex:1}).add(this.group);this.up=n.symbol("triangle",0,0,p,p).on("click",function(){e.scroll(-1,u)}).add(g);this.pager=n.text("",15,10).css(d.style).add(g);this.down=n.symbol("triangle-down",0,0,p,p).on("click",function(){e.scroll(1,u)}).add(g)}e.scroll(0);t=l}else if(g){c.attr({height:i.chartHeight});g.hide();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return t},scroll:function(t,e){var i=this.pageCount,n=this.currentPage+t,r=this.clipHeight,o=this.options.navigation,s=o.activeColor,a=o.inactiveColor,l=this.pager,h=this.padding,f;if(n>i){n=i}if(n>0){if(e!==R){re(e,this.chart)}this.nav.attr({translateX:h,translateY:r+7+this.titleHeight,visibility:U});this.up.attr({fill:n===1?a:s}).css({cursor:n===1?"default":"pointer"});l.attr({text:n+"/"+this.pageCount});this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:s}).css({cursor:n===i?"default":"pointer"});f=-A(r*(n-1),this.fullHeight-r+h)+1;this.scrollGroup.animate({translateY:f});l.attr({text:n+"/"+i});this.currentPage=n;this.positionCheckboxes(f)}}};if(/Trident.*?11\.0/.test(h)){Ft(Ee.prototype,"positionItem",function(t,e){var i=this;setTimeout(function(){t.call(i,e)})})}function Ge(){this.init.apply(this,arguments)}Ge.prototype={init:function(t,e){var i,n=t.series;t.series=null;i=St(W,t);i.series=t.series=n;var r=i.chart;this.margin=this.splashArray("margin",r);this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}};this.callback=e;this.isResizing=0;this.options=i;this.axes=[];this.series=[];this.hasCartesianSeries=r.showAxes;var s=this,a;s.index=B.length;B.push(s);if(r.reflow!==false){pe(s,"load",function(){s.initReflow()})}if(o){for(a in o){pe(s,a,o[a])}}s.xAxis=[];s.yAxis=[];s.animation=f?false:Xt(r.animation,true);s.pointCount=0;s.counters=new $t;s.firstRender()},initSeries:function(t){var e=this,i=e.options.chart,n=t.type||i.type||i.defaultSeriesType,r,o=a[n];if(!o){ie(17,true)}r=new o;r.init(this,t);return r},addSeries:function(t,e,i){var n,r=this;if(t){e=Xt(e,true);me(r,"addSeries",{options:t},function(){n=r.initSeries(t);r.isDirtyLegend=true;r.linkSeries();if(e){r.redraw(i)}})}return n},addAxis:function(t,e,i,n){var r=e?"xAxis":"yAxis",o=this.options,s;s=new Xe(this,St(t,{index:this[r].length,isX:e}));o[r]=Ht(o[r]||{});o[r].push(t);if(Xt(i,true)){this.redraw(n)}},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&n<=this.plotWidth&&r>=0&&r<=this.plotHeight},adjustTickAmounts:function(){if(this.options.chart.alignTicks!==false){fe(this.axes,function(t){t.adjustTickAmount()})}this.maxTicks=null},redraw:function(t){var e=this,i=e.axes,n=e.series,r=e.pointer,o=e.legend,s=e.isDirtyLegend,a,l,h=e.isDirtyBox,f=n.length,c=f,d,u=e.renderer,p=u.isHidden(),g=[];re(t,e);if(p){e.cloneRenderTo()}e.layOutTitles();while(c--){d=n[c];if(d.options.stacking){a=true;if(d.isDirty){l=true;break}}}if(l){c=f;while(c--){d=n[c];if(d.options.stacking){d.isDirty=true}}}fe(n,function(t){if(t.isDirty){if(t.options.legendType==="point"){s=true}}});if(s&&o.options.enabled){o.render();e.isDirtyLegend=false}if(a){e.getStacks()}if(e.hasCartesianSeries){if(!e.isResizing){e.maxTicks=null;fe(i,function(t){t.setScale()})}e.adjustTickAmounts();e.getMargins();fe(i,function(t){if(t.isDirty){h=true}});fe(i,function(t){if(t.isDirtyExtremes){t.isDirtyExtremes=false;g.push(function(){me(t,"afterSetExtremes",Tt(t.eventArgs,t.getExtremes()));delete t.eventArgs})}if(h||a){t.redraw()}})}if(h){e.drawChartBox()}fe(n,function(t){if(t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)){t.redraw()}});if(r&&r.reset){r.reset(true)}u.draw();me(e,"redraw");if(p){e.cloneRenderTo(true)}fe(g,function(t){t.call()})},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv;var r=i.loading;if(!n){e.loadingDiv=n=Yt(E,{className:_+"loading"},Tt(r.style,{zIndex:10,display:K}),e.container);e.loadingSpan=Yt("span",null,r.labelStyle,n)}e.loadingSpan.innerHTML=t||i.lang.loading;if(!e.loadingShown){Wt(n,{opacity:0,display:"",left:e.plotLeft+Z,top:e.plotTop+Z,width:e.plotWidth+Z,height:e.plotHeight+Z});xe(n,{opacity:r.style.opacity},{duration:r.showDuration||0});e.loadingShown=true}},hideLoading:function(){var t=this.options,e=this.loadingDiv;if(e){xe(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){Wt(e,{display:K})}})}this.loadingShown=false},get:function(t){var e=this,i=e.axes,n=e.series;var r,o,s;for(r=0;r<i.length;r++){if(i[r].options.id===t){return i[r]}}for(r=0;r<n.length;r++){if(n[r].options.id===t){return n[r]}}for(r=0;r<n.length;r++){s=n[r].points||[];for(o=0;o<s.length;o++){if(s[o].id===t){return s[o]}}}return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=Ht(t.xAxis||{}),n=t.yAxis=Ht(t.yAxis||{}),r,o;fe(i,function(t,e){t.index=e;t.isX=true});fe(n,function(t,e){t.index=e});r=i.concat(n);fe(r,function(t){o=new Xe(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];fe(this.series,function(t){e=e.concat(ce(t.points||[],function(t){return t.selected}))});return e},getSelectedSeries:function(){return ce(this.series,function(t){return t.selected})},getStacks:function(){var e=this;fe(e.yAxis,function(t){if(t.stacks&&t.hasVisibleSeries){t.oldStacks=t.stacks}});fe(e.series,function(t){if(t.options.stacking&&(t.visible===true||e.options.chart.ignoreHiddenSeries===false)){t.stackKey=t.type+Xt(t.options.stack,"")}})},showResetZoom:function(){var t=this,e=W.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o=i.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,false,o)},zoomOut:function(){var t=this;me(t,"selection",{resetSelection:true},function(){t.zoom()})},zoom:function(t){var e=this,n,r=e.pointer,o=false,i;if(!t||t.resetSelection){fe(e.axes,function(t){n=t.zoom()})}else{fe(t.xAxis.concat(t.yAxis),function(t){var e=t.axis,i=e.isXAxis;if(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"]){n=e.zoom(t.min,t.max);if(e.displayBtn){o=true}}})}i=e.resetZoomButton;if(o&&!i){e.showResetZoom()}else if(!o&&Ct(i)){e.resetZoomButton=i.destroy()}if(n){e.redraw(Xt(e.options.chart.animation,t&&t.animation,e.pointCount<100))}},pan:function(l,t){var h=this,e=h.hoverPoints,f;if(e){fe(e,function(t){t.setState()})}fe(t==="xy"?[1,0]:[1],function(t){var e=l[t?"chartX":"chartY"],i=h[t?"xAxis":"yAxis"][0],n=h[t?"mouseDownX":"mouseDownY"],r=(i.pointRange||0)/2,o=i.getExtremes(),s=i.toValue(n-e,true)+r,a=i.toValue(n+h[t?"plotWidth":"plotHeight"]-e,true)-r;if(i.series.length&&s>A(o.dataMin,o.min)&&a<F(o.dataMax,o.max)){i.setExtremes(s,a,false,false,{trigger:"pan"});f=true}h[t?"mouseDownX":"mouseDownY"]=e});if(f){h.redraw(false)}Wt(h.container,{cursor:"move"})},setTitle:function(t,e){var o=this,i=o.options,n,r;n=i.title=St(i.title,t);r=i.subtitle=St(i.subtitle,e);fe([["title",t,n],["subtitle",e,r]],function(t){var e=t[0],i=o[e],n=t[1],r=t[2];if(i&&n){o[e]=i=i.destroy()}if(r&&r.text&&!i){o[e]=o.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:_+e,zIndex:r.zIndex||4}).css(r.style).add()}});o.layOutTitles()},layOutTitles:function(){var t=0,e=this.title,i=this.subtitle,n=this.options,r=n.title,o=n.subtitle,s=this.spacingBox.width-44;if(e){e.css({width:(r.width||s)+Z}).align(Tt({y:15},r),false,"spacingBox");if(!r.floating&&!r.verticalAlign){t=e.getBBox().height;if(t>=18&&t<=25){t=15}}}if(i){i.css({width:(o.width||s)+Z}).align(Tt({y:t+r.margin},o),false,"spacingBox");if(!o.floating&&!o.verticalAlign){t=v(t+i.getBBox().height)}}this.titleOffset=t},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=ae(i,"width");t.containerHeight=ae(i,"height");t.chartWidth=F(0,e.width||t.containerWidth||600);t.chartHeight=F(0,Xt(e.height,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;if(t){if(e){this.renderTo.appendChild(i);ee(e);delete this.renderToClone}}else{if(i&&i.parentNode===this.renderTo){this.renderTo.removeChild(i)}this.renderToClone=e=this.renderTo.cloneNode(0);Wt(e,{position:l,top:"-9999px",display:"block"});P.body.appendChild(e);if(i){e.appendChild(i)}}},getContainer:function(){var t=this,e,i=t.options.chart,n,r,o,s="data-highcharts-chart",a,l;t.renderTo=o=i.renderTo;l=_+y++;if(Lt(o)){t.renderTo=o=P.getElementById(o)}if(!o){ie(13,true)}a=At(Rt(o,s));if(!isNaN(a)&&B[a]){B[a].destroy()}Rt(o,s,t.index);o.innerHTML="";if(!o.offsetWidth){t.cloneRenderTo()}t.getChartSize();n=t.chartWidth;r=t.chartHeight;t.container=e=Yt(E,{className:_+"container"+(i.className?" "+i.className:""),id:l},Tt({position:G,overflow:j,width:n+Z,height:r+Z,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),t.renderToClone||o);t._cursor=e.style.cursor;t.renderer=i.forExport?new Ce(e,n,r,true):new u(e,n,r);if(f){t.renderer.create(t,e,n,r)}},getMargins:function(){var t=this,e=t.spacing,i,n=t.legend,r=t.margin,o=t.options.legend,s=Xt(o.margin,10),a=o.x,l=o.y,h=o.align,f=o.verticalAlign,c=t.titleOffset;t.resetMargins();i=t.axisOffset;if(c&&!Ot(r[0])){t.plotTop=F(t.plotTop,c+t.options.title.margin+e[0])}if(n.display&&!o.floating){if(h==="right"){if(!Ot(r[1])){t.marginRight=F(t.marginRight,n.legendWidth-a+s+e[1])}}else if(h==="left"){if(!Ot(r[3])){t.plotLeft=F(t.plotLeft,n.legendWidth+a+s+e[3])}}else if(f==="top"){if(!Ot(r[0])){t.plotTop=F(t.plotTop,n.legendHeight+l+s+e[0])}}else if(f==="bottom"){if(!Ot(r[2])){t.marginBottom=F(t.marginBottom,n.legendHeight-l+s+e[2])}}}if(t.extraBottomMargin){t.marginBottom+=t.extraBottomMargin}if(t.extraTopMargin){t.plotTop+=t.extraTopMargin}if(t.hasCartesianSeries){fe(t.axes,function(t){t.getOffset()})}if(!Ot(r[3])){t.plotLeft+=i[3]}if(!Ot(r[0])){t.plotTop+=i[0]}if(!Ot(r[2])){t.marginBottom+=i[2]}if(!Ot(r[1])){t.marginRight+=i[1]}t.setChartSize()},initReflow:function(){var r=this,o=r.options.chart,s=r.renderTo,a;function t(t){var e=o.width||ae(s,"width"),i=o.height||ae(s,"height"),n=t?t.target:c;if(!r.hasUserSize&&e&&i&&(n===c||n===P)){if(e!==r.containerWidth||i!==r.containerHeight){clearTimeout(a);r.reflowTimeout=a=setTimeout(function(){if(r.container){r.setSize(e,i,false);r.hasUserSize=null}},100)}r.containerWidth=e;r.containerHeight=i}}r.reflow=t;pe(c,"resize",t);pe(r,"destroy",function(){ge(c,"resize",t)})},setSize:function(t,e,i){var n=this,r,o,s;n.isResizing+=1;s=function(){if(n){me(n,"endResize",null,function(){n.isResizing-=1})}};re(i,n);n.oldChartHeight=n.chartHeight;n.oldChartWidth=n.chartWidth;if(Ot(t)){n.chartWidth=r=F(0,N(t));n.hasUserSize=!!r}if(Ot(e)){n.chartHeight=o=F(0,N(e))}Wt(n.container,{width:r+Z,height:o+Z});n.setChartSize(true);n.renderer.setSize(r,o,i);n.maxTicks=null;fe(n.axes,function(t){t.isDirty=true;t.setScale()});fe(n.series,function(t){t.isDirty=true});n.isDirtyLegend=true;n.isDirtyBox=true;n.getMargins();n.redraw(i);n.oldChartHeight=null;me(n,"resize");if(I===false){s()}else{setTimeout(s,I&&I.duration||500)}},setChartSize:function(t){var e=this,i=e.inverted,n=e.renderer,r=e.chartWidth,o=e.chartHeight,s=e.options.chart,a=e.spacing,l=e.clipOffset,h,f,c,d,u,p,g;e.plotLeft=c=N(e.plotLeft);e.plotTop=d=N(e.plotTop);e.plotWidth=u=F(0,N(r-c-e.marginRight));e.plotHeight=p=F(0,N(o-d-e.marginBottom));e.plotSizeX=i?p:u;e.plotSizeY=i?u:p;e.plotBorderWidth=s.plotBorderWidth||0;e.spacingBox=n.spacingBox={x:a[3],y:a[0],width:r-a[3]-a[1],height:o-a[0]-a[2]};e.plotBox=n.plotBox={x:c,y:d,width:u,height:p};g=2*z(e.plotBorderWidth/2);h=v(F(g,l[3])/2);f=v(F(g,l[0])/2);e.clipBox={x:h,y:f,width:z(e.plotSizeX-F(g,l[1])/2-h),height:z(e.plotSizeY-F(g,l[2])/2-f)};if(!t){fe(e.axes,function(t){t.setAxisSize();t.setAxisTranslation()})}},resetMargins:function(){var t=this,e=t.spacing,i=t.margin;t.plotTop=Xt(i[0],e[0]);t.marginRight=Xt(i[1],e[1]);t.marginBottom=Xt(i[2],e[2]);t.plotLeft=Xt(i[3],e[3]);t.axisOffset=[0,0,0,0];t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t=this,e=t.options.chart,i=t.renderer,n=t.chartWidth,r=t.chartHeight,o=t.chartBackground,s=t.plotBackground,a=t.plotBorder,l=t.plotBGImage,h=e.borderWidth||0,f=e.backgroundColor,c=e.plotBackgroundColor,d=e.plotBackgroundImage,u=e.plotBorderWidth||0,p,g,m=t.plotLeft,y=t.plotTop,x=t.plotWidth,v=t.plotHeight,b=t.plotBox,k=t.clipRect,w=t.clipBox;p=h+(e.shadow?8:0);if(h||f){if(!o){g={fill:f||K};if(h){g.stroke=e.borderColor;g["stroke-width"]=h}t.chartBackground=i.rect(p/2,p/2,n-p,r-p,e.borderRadius,h).attr(g).add().shadow(e.shadow)}else{o.animate(o.crisp(null,null,null,n-p,r-p))}}if(c){if(!s){t.plotBackground=i.rect(m,y,x,v,0).attr({fill:c}).add().shadow(e.plotShadow)}else{s.animate(b)}}if(d){if(!l){t.plotBGImage=i.image(d,m,y,x,v).add()}else{l.animate(b)}}if(!k){t.clipRect=i.clipRect(w)}else{k.animate({width:w.width,height:w.height})}if(u){if(!a){t.plotBorder=i.rect(m,y,x,v,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,zIndex:1}).add()}else{a.animate(a.crisp(null,m,y,x,v))}}t.isDirtyBox=false},propFromSeries:function(){var e=this,i=e.options.chart,n,r=e.options.series,o,s;fe(["inverted","angular","polar"],function(t){n=a[i.type||i.defaultSeriesType];s=e[t]||i[t]||n&&n.prototype[t];o=r&&r.length;while(!s&&o--){n=a[r[o].type];if(n&&n.prototype[t]){s=true}}e[t]=s})},linkSeries:function(){var i=this,t=i.series;fe(t,function(t){t.linkedSeries.length=0});fe(t,function(t){var e=t.options.linkedTo;if(Lt(e)){if(e===":previous"){e=i.series[t.index-1]}else{e=i.get(e)}if(e){e.linkedSeries.push(t);t.linkedParent=e}}})},render:function(){var r=this,t=r.axes,o=r.renderer,e=r.options;var s=e.labels,i=e.credits,n;r.setTitle();r.legend=new Ee(r,e.legend);r.getStacks();fe(t,function(t){t.setScale()});r.getMargins();r.maxTicks=null;fe(t,function(t){t.setTickPositions(true);t.setMaxTicks()});r.adjustTickAmounts();r.getMargins();r.drawChartBox();if(r.hasCartesianSeries){fe(t,function(t){t.render()})}if(!r.seriesGroup){r.seriesGroup=o.g("series-group").attr({zIndex:3}).add()}fe(r.series,function(t){t.translate();t.setTooltipPoints();t.render()});if(s.items){fe(s.items,function(t){var e=Tt(s.style,t.style),i=At(e.left)+r.plotLeft,n=At(e.top)+r.plotTop+12;delete e.left;delete e.top;o.text(t.html,i,n).attr({zIndex:2}).css(e).add()})}if(i.enabled&&!r.credits){n=i.href;r.credits=o.text(i.text,0,0).on("click",function(){if(n){location.href=n}}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)}r.hasRendered=true},destroy:function(){var i=this,t=i.axes,e=i.series,n=i.container,r,o=n&&n.parentNode;me(i,"destroy");B[i.index]=R;i.renderTo.removeAttribute("data-highcharts-chart");ge(i);r=t.length;while(r--){t[r]=t[r].destroy()}r=e.length;while(r--){e[r]=e[r].destroy()}fe(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=i[t];if(e&&e.destroy){i[t]=e.destroy()}});if(n){n.innerHTML="";ge(n);if(o){ee(n)}}for(r in i){delete i[r]}},isReadyToRender:function(){var t=this;if(!D&&(c==c.top&&P.readyState!=="complete")||f&&!c.canvg){if(f){Be.push(function(){t.firstRender()},t.options.global.canvasToolsURL)}else{P.attachEvent("onreadystatechange",function(){P.detachEvent("onreadystatechange",t.firstRender);if(P.readyState==="complete"){t.firstRender()}})}return false}return true},firstRender:function(){var e=this,t=e.options,i=e.callback;if(!e.isReadyToRender()){return}e.getContainer();me(e,"init");e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();fe(t.series||[],function(t){e.initSeries(t)});e.linkSeries();me(e,"beforeRender");e.pointer=new Ye(e,t);e.render();e.renderer.draw();if(i){i.apply(e,[e])}fe(e.callbacks,function(t){t.apply(e,[e])});e.cloneRenderTo(true);me(e,"load")},splashArray:function(t,e){var i=e[t],n=Ct(i)?i:[i,i,i,i];return[Xt(e[t+"Top"],n[0]),Xt(e[t+"Right"],n[1]),Xt(e[t+"Bottom"],n[2]),Xt(e[t+"Left"],n[3])]}};Ge.prototype.callbacks=[];var Ne=function(){};Ne.prototype={init:function(t,e,i){var n=this,r;n.series=t;n.applyOptions(e,i);n.pointAttr={};if(t.options.colorByPoint){r=t.options.colors||t.chart.options.colors;n.color=n.color||r[t.colorCounter++];if(t.colorCounter===r.length){t.colorCounter=0}}t.chart.pointCount++;return n},applyOptions:function(t,e){var i=this,n=i.series,r=n.pointValKey;t=Ne.prototype.optionsToObject.call(this,t);Tt(i,t);i.options=i.options?Tt(i.options,t):t;if(r){i.y=i[r]}if(i.x===R&&n){i.x=e===R?n.autoIncrement():e}return i},optionsToObject:function(t){var e,i=this.series,n=i.pointArrayMap||["y"],r=n.length,o,s=0,a=0;if(typeof t==="number"||t===null){e={y:t}}else if(Mt(t)){e={};if(t.length>r){o=typeof t[0];if(o==="string"){e.name=t[0]}else if(o==="number"){e.x=t[0]}s++}while(a<r){e[n[a++]]=t[s++]}}else if(typeof t==="object"){e=t;if(t.dataLabels){i._hasPointLabels=true}if(t.marker){i._hasPointMarkers=true}}return e},destroy:function(){var t=this,e=t.series,i=e.chart,n=i.hoverPoints,r;i.pointCount--;if(n){t.setState();Bt(n,t);if(!n.length){i.hoverPoints=null}}if(t===i.hoverPoint){t.onMouseOut()}if(t.graphic||t.dataLabel){ge(t);t.destroyElements()}if(t.legendItem){i.legend.destroyItem(t)}for(r in t){t[r]=null}},destroyElements:function(){var t=this,e=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i,n=6;while(n--){i=e[n];if(t[i]){t[i]=t[i].destroy()}}},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,r=n.chart;t=Xt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t;n.options.data[he(i,n.data)]=i.options;i.setState(t&&et);if(!e){fe(r.getSelectedPoints(),function(t){if(t.selected&&t!==i){t.selected=t.options.selected=false;n.options.data[he(t,n.data)]=t.options;t.setState(Q);t.firePointEvent("unselect")}})}})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,r=n.tooltip,o=n.hoverPoint;if(o&&o!==e){o.onMouseOut()}e.firePointEvent("mouseOver");if(r&&(!r.shared||i.noSharedTooltip)){r.refresh(e,t)}e.setState(tt);n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;if(!e||he(this,e)===-1){this.firePointEvent("mouseOut");this.setState();t.hoverPoint=null}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=Xt(i.valueDecimals,""),r=i.valuePrefix||"",o=i.valueSuffix||"";fe(t.pointArrayMap||["y"],function(t){t="{point."+t;if(r||o){e=e.replace(t+"}",r+t+"}"+o)}e=e.replace(t+"}",t+":,."+n+"f}")});return jt(e,{point:this,series:this.series})},update:function(t,e,i){var n=this,r=n.series,o=n.graphic,s,a=r.data,l=r.chart,h=r.options;e=Xt(e,true);n.firePointEvent("update",{options:t},function(){n.applyOptions(t);if(Ct(t)){r.getAttribs();if(o){if(t.marker&&t.marker.symbol){n.graphic=o.destroy()}else{o.attr(n.pointAttr[n.state||""])}}}s=he(n,a);r.xData[s]=n.x;r.yData[s]=r.toYData?r.toYData(n):n.y;r.zData[s]=n.z;h.data[s]=n.options;r.isDirty=r.isDirtyData=true;if(!r.fixedBox&&r.hasCartesianSeries){l.isDirtyBox=true}if(h.legendType==="point"){l.legend.destroyItem(n)}if(e){l.redraw(i)}})},remove:function(t,e){var i=this,n=i.series,r=n.points,o=n.chart,s,a=n.data;re(e,o);t=Xt(t,true);i.firePointEvent("remove",null,function(){s=he(i,a);if(a.length===r.length){r.splice(s,1)}a.splice(s,1);n.options.data.splice(s,1);n.xData.splice(s,1);n.yData.splice(s,1);n.zData.splice(s,1);i.destroy();n.isDirty=true;n.isDirtyData=true;if(t){o.redraw()}})},firePointEvent:function(t,e,i){var n=this,r=this.series,o=r.options;if(o.point.events[t]||n.options&&n.options.events&&n.options.events[t]){this.importEvents()}if(t==="click"&&o.allowPointSelect){i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}}me(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t=this,e=St(t.series.options.point,t.options),i=e.events,n;t.events=i;for(n in i){pe(t,n,i[n])}this.hasImportedEvents=true}},setState:function(t){var e=this,i=e.plotX,n=e.plotY,r=e.series,o=r.options.states,s=ke[r.type].marker&&r.options.marker,a=s&&!s.enabled,l=s&&s.states[t],h=l&&l.enabled===false,f=r.stateMarkerGraphic,c=e.marker||{},d=r.chart,u,p,g=e.pointAttr;t=t||Q;if(t===e.state||e.selected&&t!==et||o[t]&&o[t].enabled===false||t&&(h||a&&!l.enabled)){return}if(e.graphic){u=s&&e.graphic.symbolName&&g[t].r;e.graphic.attr(St(g[t],u?{x:i-u,y:n-u,width:2*u,height:2*u}:{}))}else{if(t&&l){u=l.radius;p=c.symbol||r.symbol;if(f&&f.currentSymbol!==p){f=f.destroy()}if(!f){r.stateMarkerGraphic=f=d.renderer.symbol(p,i-u,n-u,2*u,2*u).attr(g[t]).add(r.markerGroup);f.currentSymbol=p}else{f.attr({x:i-u,y:n-u})}}if(f){f[t&&d.isInsidePlot(i,n)?"show":"hide"]()}}e.state=t}};var Fe=function(){};Fe.prototype={isCartesian:true,type:"line",pointClass:Ne,sorted:true,requireSorting:true,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(t,e){var i=this,n,r,o=t.series;i.chart=t;i.options=e=i.setOptions(e);i.linkedSeries=[];i.bindAxes();Tt(i,{name:e.name,state:Q,pointAttr:{},visible:e.visible!==false,selected:e.selected===true});if(f){e.animation=false}r=e.events;for(n in r){pe(i,n,r[n])}if(r&&r.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect){t.runTrackerClick=true}i.getColor();i.getSymbol();i.setData(e.data,false);if(i.isCartesian){t.hasCartesianSeries=true}o.push(i);i._i=o.length-1;qt(o,function(t,e){return Xt(t.options.index,t._i)-Xt(e.options.index,t._i)});fe(o,function(t,e){t.index=e;t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var i=this,n=i.options,t=i.chart,r;if(i.isCartesian){fe(["xAxis","yAxis"],function(e){fe(t[e],function(t){r=t.options;if(n[e]===r.index||n[e]!==R&&n[e]===r.id||n[e]===R&&r.index===0){t.series.push(i);i[e]=t;t.isDirty=true}});if(!i[e]){ie(18,true)}})}},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;i=Xt(i,e.pointStart,0);t.pointInterval=Xt(t.pointInterval,e.pointInterval,1);t.xIncrement=i+t.pointInterval;return i},getSegments:function(){var t=this,i=-1,n=[],e,r=t.points,o=r.length;if(o){if(t.options.connectNulls){e=o;while(e--){if(r[e].y===null){r.splice(e,1)}}if(r.length){n=[r]}}else{fe(r,function(t,e){if(t.y===null){if(e>i+1){n.push(r.slice(i+1,e))}i=e}else if(e===o-1){n.push(r.slice(i+1,e+1))}})}}t.segments=n},setOptions:function(t){var e=this.chart,i=e.options,n=i.plotOptions,r=n[this.type],o;this.userOptions=t;o=St(r,n.series,t);this.tooltipOptions=St(i.tooltip,o.tooltip);if(r.marker===null){delete o.marker}return o},getColor:function(){var t=this.options,e=this.userOptions,i=this.chart.options.colors,n=this.chart.counters,r,o;r=t.color||ke[this.type].color;if(!r&&!t.colorByPoint){if(Ot(e._colorIndex)){o=e._colorIndex}else{e._colorIndex=n.color;o=n.color++}r=i[o]}this.color=r;n.wrapColor(i.length)},getSymbol:function(){var t=this,e=t.userOptions,i=t.options.marker,n=t.chart,r=n.options.symbols,o=n.counters,s;t.symbol=i.symbol;if(!t.symbol){if(Ot(e._symbolIndex)){s=e._symbolIndex}else{e._symbolIndex=o.symbol;s=o.symbol++}t.symbol=r[s]}if(/^url/.test(t.symbol)){i.radius=0}o.wrapSymbol(r.length)},drawLegendSymbol:function(t){var e=this.options,i=e.marker,n,r=t.options,o,s=r.symbolWidth,a=this.chart.renderer,l=this.legendGroup,h=t.baseline-N(a.fontMetrics(r.itemStyle.fontSize).b*.3),f;if(e.lineWidth){f={"stroke-width":e.lineWidth};if(e.dashStyle){f.dashstyle=e.dashStyle}this.legendLine=a.path([$,0,h,q,s,h]).attr(f).add(l)}if(i&&i.enabled){n=i.radius;this.legendSymbol=o=a.symbol(this.symbol,s/2-n,h-n,2*n,2*n).add(l);o.isMarker=true}},addPoint:function(t,e,i,n){var r=this,o=r.options,s=r.data,a=r.graph,l=r.area,h=r.chart,f=r.xData,c=r.yData,d=r.zData,u=r.names,p=a&&a.shift||0,g=o.data,m,y,x,v;re(n,h);if(i){fe([a,l,r.graphNeg,r.areaNeg],function(t){if(t){t.shift=p+1}})}if(l){l.isArea=true}e=Xt(e,true);m={series:r};r.pointClass.prototype.applyOptions.apply(m,[t]);x=m.x;v=f.length;if(r.requireSorting&&x<f[v-1]){y=true;while(v&&f[v-1]>x){v--}}f.splice(v,0,x);c.splice(v,0,r.toYData?r.toYData(m):m.y);d.splice(v,0,m.z);if(u){u[x]=m.name}g.splice(v,0,t);if(y){r.data.splice(v,0,null);r.processData()}if(o.legendType==="point"){r.generatePoints()}if(i){if(s[0]&&s[0].remove){s[0].remove(false)}else{s.shift();f.shift();c.shift();d.shift();g.shift()}}r.isDirty=true;r.isDirtyData=true;if(e){r.getAttribs();h.redraw()}},setData:function(t,e){var i=this,n=i.points,r=i.options,o=i.chart,s=null,a=i.xAxis,l=a&&a.categories&&!a.categories.length?[]:null,h;i.xIncrement=null;i.pointRange=a&&a.categories?1:r.pointRange;i.colorCounter=0;var f=[],c=[],d=[],u=t?t.length:[],p=Xt(r.turboThreshold,1e3),g,m=i.pointArrayMap,y=m&&m.length,x=!!i.toYData;if(p&&u>p){h=0;while(s===null&&h<u){s=t[h];h++}if(Dt(s)){var v=Xt(r.pointStart,0),b=Xt(r.pointInterval,1);for(h=0;h<u;h++){f[h]=v;c[h]=t[h];v+=b}i.xIncrement=v}else if(Mt(s)){if(y){for(h=0;h<u;h++){g=t[h];f[h]=g[0];c[h]=g.slice(1,y+1)}}else{for(h=0;h<u;h++){g=t[h];f[h]=g[0];c[h]=g[1]}}}else{ie(12)}}else{for(h=0;h<u;h++){if(t[h]!==R){g={series:i};i.pointClass.prototype.applyOptions.apply(g,[t[h]]);f[h]=g.x;c[h]=x?i.toYData(g):g.y;d[h]=g.z;if(l&&g.name){l[g.x]=g.name}}}}if(Lt(c[0])){ie(14,true)}i.data=[];i.options.data=t;i.xData=f;i.yData=c;i.zData=d;i.names=l;h=n&&n.length||0;while(h--){if(n[h]&&n[h].destroy){n[h].destroy()}}if(a){a.minRange=a.userMinRange}i.isDirty=i.isDirtyData=o.isDirtyBox=true;if(Xt(e,true)){o.redraw(false)}},remove:function(t,e){var i=this,n=i.chart;t=Xt(t,true);if(!i.isRemoving){i.isRemoving=true;me(i,"remove",null,function(){i.destroy();n.isDirtyLegend=n.isDirtyBox=true;n.linkSeries();if(t){n.redraw(e)}})}i.isRemoving=false},processData:function(t){var e=this,i=e.xData,n=e.yData,r=i.length,o,s=0,a,l,h,f=e.xAxis,c,d=e.options,u=d.cropThreshold,p=e.isCartesian;if(p&&!e.isDirty&&!f.isDirty&&!e.yAxis.isDirty&&!t){return false}if(p&&e.sorted&&(!u||r>u||e.forceCrop)){var g=f.min,m=f.max;if(i[r-1]<g||i[0]>m){i=[];n=[]}else if(i[0]<g||i[r-1]>m){o=this.cropData(e.xData,e.yData,g,m);i=o.xData;n=o.yData;s=o.start;a=true}}for(c=i.length-1;c>=0;c--){l=i[c]-i[c-1];if(l>0&&(h===R||l<h)){h=l}else if(l<0&&e.requireSorting){ie(15)}}e.cropped=a;e.cropStart=s;e.processedXData=i;e.processedYData=n;if(d.pointRange===null){e.pointRange=h||1}e.closestPointRange=h},cropData:function(t,e,i,n){var r=t.length,o=0,s=r,a=Xt(this.cropShoulder,1),l;for(l=0;l<r;l++){if(t[l]>=i){o=F(0,l-a);break}}for(;l<r;l++){if(t[l]>n){s=l+a;break}}return{xData:t.slice(o,s),yData:e.slice(o,s),start:o,end:s}},generatePoints:function(){var t=this,e=t.options,i=e.data,n=t.data,r,o=t.processedXData,s=t.processedYData,a=t.pointClass,l=o.length,h=t.cropStart||0,f,c=t.hasGroupedData,d,u=[],p;if(!n&&!c){var g=[];g.length=i.length;n=t.data=g}for(p=0;p<l;p++){f=h+p;if(!c){if(n[f]){d=n[f]}else if(i[f]!==R){n[f]=d=(new a).init(t,i[f],o[p])}u[p]=d}else{u[p]=(new a).init(t,[o[p]].concat(Ht(s[p])))}}if(n&&(l!==(r=n.length)||c)){for(p=0;p<r;p++){if(p===h&&!c){p+=l}if(n[p]){n[p].destroyElements();n[p].plotX=R}}}t.data=n;t.points=u},setStackedPoints:function(){if(!this.options.stacking||this.visible!==true&&this.chart.options.chart.ignoreHiddenSeries!==false){return}var t=this,e=t.processedXData,i=t.processedYData,n=[],r=i.length,o=t.options,s=o.threshold,a=o.stack,l=o.stacking,h=t.stackKey,f="-"+h,c=t.negStacks,d=t.yAxis,u=d.stacks,p=d.oldStacks,g,m,y,x,v,b,k;for(v=0;v<r;v++){b=e[v];k=i[v];g=c&&k<s;x=g?f:h;if(!u[x]){u[x]={}}if(!u[x][b]){if(p[x]&&p[x][b]){u[x][b]=p[x][b];u[x][b].total=null}else{u[x][b]=new He(d,d.options.stackLabels,g,b,a,l)}}m=u[x][b];m.points[t.index]=[m.cum||0];if(l==="percent"){y=g?h:f;if(c&&u[y]&&u[y][b]){y=u[y][b];m.total=y.total=F(y.total,m.total)+V(k)||0}else{m.total+=V(k)||0}}else{m.total+=k||0}m.cum=(m.cum||0)+(k||0);m.points[t.index].push(m.cum);n[v]=m.cum}if(l==="percent"){d.usePercentage=true}this.stackedYData=n;d.oldStacks={}},setPercentStacks:function(){var s=this,t=s.stackKey,a=s.yAxis.stacks;fe([t,"-"+t],function(t){var e=s.xData.length,i,n,r,o;while(e--){i=s.xData[e];n=a[t]&&a[t][i];r=n&&n.points[s.index];if(r){o=n.total?100/n.total:0;r[0]=ne(r[0]*o);r[1]=ne(r[1]*o);s.stackedYData[e]=r[1]}}})},getExtremes:function(){var t=this.xAxis,e=this.yAxis,i=this.processedXData,n=this.stackedYData||this.processedYData,r=n.length,o=[],s=0,a=t.getExtremes(),l=a.min,h=a.max,f,c,d,u,p,g,m,y;for(m=0;m<r;m++){p=i[m];g=n[m];f=g!==null&&g!==R&&(!e.isLog||(g.length||g>0));c=this.getExtremesFromAll||this.cropped||(i[m+1]||p)>=l&&(i[m-1]||p)<=h;if(f&&c){y=g.length;if(y){while(y--){if(g[y]!==null){o[s++]=g[y]}}}else{o[s++]=g}}}this.dataMin=Xt(d,Jt(o));this.dataMax=Xt(u,Qt(o))},translate:function(){if(!this.processedXData){this.processData()}this.generatePoints();var t=this,e=t.options,i=e.stacking,n=t.xAxis,r=n.categories,o=t.yAxis,s=t.points,a=s.length,l=!!t.modifyValue,h,f=e.pointPlacement,c=f==="between"||Dt(f),d=e.threshold;for(h=0;h<a;h++){var u=s[h],p=u.x,g=u.y,m=u.low,y=o.stacks[(t.negStacks&&g<d?"-":"")+t.stackKey],x,v;if(o.isLog&&g<=0){u.y=g=null}u.plotX=n.translate(p,0,0,0,1,f,this.type==="flags");if(i&&t.visible&&y&&y[p]){x=y[p];v=x.points[t.index];m=v[0];g=v[1];if(m===0){m=Xt(d,o.min)}if(o.isLog&&m<=0){m=null}u.percentage=i==="percent"&&g;u.total=u.stackTotal=x.total;u.stackY=g;x.setOffset(t.pointXOffset||0,t.barW||0)}u.yBottom=Ot(m)?o.translate(m,0,1,0,1):null;if(l){g=t.modifyValue(g,u)}u.plotY=typeof g==="number"&&g!==Infinity?o.translate(g,0,1,0,1):R;u.clientX=c?n.translate(p,0,0,0,1):u.plotX;u.negative=u.y<(d||0);u.category=r&&r[u.x]!==R?r[u.x]:u.x}t.getSegments()},setTooltipPoints:function(t){var e=this,i=[],n,r,o,s=e.xAxis,a=s&&s.getExtremes(),l=s?s.tooltipLen||s.len:e.chart.plotSizeX,h,f,c,d,u=[];if(e.options.enableMouseTracking===false){return}if(t){e.tooltipPoints=null}fe(e.segments||e.points,function(t){i=i.concat(t)});if(s&&s.reversed){i=i.reverse()}if(e.orderTooltipPoints){e.orderTooltipPoints(i)}n=i.length;for(d=0;d<n;d++){h=i[d];f=h.x;if(f>=a.min&&f<=a.max){c=i[d+1];r=o===R?0:o+1;o=i[d+1]?A(F(0,z((h.clientX+(c?c.wrappedClientX||c.clientX:l))/2)),l):l;while(r>=0&&r<=o){u[r++]=h}}}e.tooltipPoints=u},tooltipHeaderFormatter:function(t){var e=this,i=e.tooltipOptions,n=i.xDateFormat,r=i.dateTimeLabelFormats,o=e.xAxis,s=o&&o.options.type==="datetime",a=i.headerFormat,l=o&&o.closestPointRange,h;if(s&&!n){if(l){for(h in k){if(k[h]>=l){n=r[h];break}}}else{n=r.day}}if(s&&n&&Dt(t.key)){a=a.replace("{point.key}","{point.key:"+n+"}")}return jt(a,{point:t,series:e})},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;if(i&&i!==t){i.onMouseOut()}if(t.options.events.mouseOver){me(t,"mouseOver")}t.setState(tt);e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;if(r){r.onMouseOut()}if(t&&e.events.mouseOut){me(t,"mouseOut")}if(n&&!e.stickyTracking&&(!n.shared||t.noSharedTooltip)){n.hide()}t.setState();i.hoverSeries=null},animate:function(t){var e=this,i=e.chart,n=i.renderer,r,o,s=e.options.animation,a=i.clipBox,l=i.inverted,h;if(s&&!Ct(s)){s=ke[e.type].animation}h="_sharedClip"+s.duration+s.easing;if(t){r=i[h];o=i[h+"m"];if(!r){i[h]=r=n.clipRect(Tt(a,{width:0}));i[h+"m"]=o=n.clipRect(-99,l?-i.plotLeft:-i.plotTop,99,l?i.chartWidth:i.chartHeight)}e.group.clip(r);e.markerGroup.clip(o);e.sharedClipKey=h}else{r=i[h];if(r){r.animate({width:i.plotSizeX},s);i[h+"m"].animate({width:i.plotSizeX+99},s)}e.animate=null;e.animationTimeout=setTimeout(function(){e.afterAnimate()},s.duration)}},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;if(i&&this.options.clip!==false){i.clip(t.clipRect);this.markerGroup.clip()}setTimeout(function(){if(e&&t[e]){t[e]=t[e].destroy();t[e+"m"]=t[e+"m"].destroy()}},100)},drawPoints:function(){var t=this,e,i=t.points,n=t.chart,r,o,s,a,l,h,f,c,d=t.options,u=d.marker,p,g,m,y=t.markerGroup;if(u.enabled||t._hasPointMarkers){s=i.length;while(s--){a=i[s];r=z(a.plotX);o=a.plotY;c=a.graphic;p=a.marker||{};g=u.enabled&&p.enabled===R||p.enabled;m=n.isInsidePlot(N(r),o,n.inverted);if(g&&o!==R&&!isNaN(o)&&a.y!==null){e=a.pointAttr[a.selected?et:Q];l=e.r;h=Xt(p.symbol,t.symbol);f=h.indexOf("url")===0;if(c){c.attr({visibility:m?D?"inherit":U:j}).animate(Tt({x:r-l,y:o-l},c.symbolName?{width:2*l,height:2*l}:{}))}else if(m&&(l>0||f)){a.graphic=c=n.renderer.symbol(h,r-l,o-l,2*l,2*l).attr(e).add(y)}}else if(c){a.graphic=c.destroy()}}}},convertAttribs:function(t,e,i,n){var r=this.pointAttrToOptions,o,s,a={};t=t||{};e=e||{};i=i||{};n=n||{};for(o in r){s=r[o];a[o]=Xt(t[s],e[o],i[o],n[o])}return a},getAttribs:function(){var e=this,t=e.options,i=ke[e.type].marker?t.marker:t,n=i.states,r=n[tt],o,s=e.color,a={stroke:s,fill:s},l=e.points||[],h,f,c=[],d,u=e.pointAttrToOptions,p,g=t.negativeColor,m=i.lineColor,y;if(t.marker){r.radius=r.radius||i.radius+2;r.lineWidth=r.lineWidth||i.lineWidth+1}else{r.color=r.color||Ae(r.color||s).brighten(r.brightness).get()}c[Q]=e.convertAttribs(i,a);fe([tt,et],function(t){c[t]=e.convertAttribs(n[t],c[Q])});e.pointAttr=c;h=l.length;while(h--){f=l[h];i=f.options&&f.options.marker||f.options;if(i&&i.enabled===false){i.radius=0}if(f.negative&&g){f.color=f.fillColor=g}p=t.colorByPoint||f.color;if(f.options){for(y in u){if(Ot(i[u[y]])){p=true}}}if(p){i=i||{};d=[];n=i.states||{};o=n[tt]=n[tt]||{};if(!t.marker){o.color=Ae(o.color||f.color).brighten(o.brightness||r.brightness).get()}d[Q]=e.convertAttribs(Tt({color:f.color,fillColor:f.color,lineColor:m===null?f.color:R},i),c[Q]);d[tt]=e.convertAttribs(n[tt],c[tt],d[Q]);d[et]=e.convertAttribs(n[et],c[et],d[Q])}else{d=c}f.pointAttr=d}},update:function(t,e){var i=this.chart,n=this.userOptions,r=this.type,o=a[r].prototype,s;t=St(n,{animation:false,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t);this.remove(false);for(s in o){if(o.hasOwnProperty(s)){this[s]=R}}Tt(this,a[t.type||r].prototype);this.init(i,t);if(Xt(e,true)){i.redraw(false)}},destroy:function(){var e=this,t=e.chart,i=/AppleWebKit\/533/.test(h),n,r,o=e.data||[],s,a,l;me(e,"destroy");ge(e);fe(["xAxis","yAxis"],function(t){l=e[t];if(l){Bt(l.series,e);l.isDirty=l.forceRedraw=true;l.stacks={}}});if(e.legendItem){e.chart.legend.destroyItem(e)}r=o.length;while(r--){s=o[r];if(s&&s.destroy){s.destroy()}}e.points=null;clearTimeout(e.animationTimeout);fe(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){if(e[t]){n=i&&t==="group"?"hide":"destroy";e[t][n]()}});if(t.hoverSeries===e){t.hoverSeries=null}Bt(t.series,e);for(a in e){delete e[a]}},drawDataLabels:function(){var h=this,t=h.options,f=t.dataLabels,e=h.points,c,d,u,p;if(f.enabled||h._hasPointLabels){if(h.dlProcessOptions){h.dlProcessOptions(f)}p=h.plotGroup("dataLabelsGroup","data-labels",h.visible?U:j,f.zIndex||6);d=f;fe(e,function(t){var e,i=t.dataLabel,n,r,o,s,a=t.connector,l=true;c=t.options&&t.options.dataLabels;e=Xt(c&&c.enabled,d.enabled);if(i&&!e){t.dataLabel=i.destroy()}else if(e){f=St(d,c);s=f.rotation;n=t.getLabelConfig();u=f.format?jt(f.format,n):f.formatter.call(n,f);f.style.color=Xt(f.color,f.style.color,h.color,"black");if(i){if(Ot(u)){i.attr({text:u});l=false}else{t.dataLabel=i=i.destroy();if(a){t.connector=a.destroy()}}}else if(Ot(u)){r={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:s,padding:f.padding,zIndex:1};for(o in r){if(r[o]===R){delete r[o]}}i=t.dataLabel=h.chart.renderer[s?"text":"label"](u,0,-999,null,null,null,f.useHTML).attr(r).css(f.style).add(p).shadow(f.shadow)}if(i){h.alignDataLabel(t,i,f,null,l)}}})}},alignDataLabel:function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=Xt(t.plotX,-999),l=Xt(t.plotY,-999),h=e.getBBox(),f=this.visible&&o.isInsidePlot(t.plotX,t.plotY,s),c;if(f){n=Tt({x:s?o.plotWidth-l:a,y:N(s?o.plotHeight-a:l),width:0,height:0},n);Tt(i,{width:h.width,height:h.height});if(i.rotation){c={align:i.align,x:n.x+i.x+n.width/2,y:n.y+i.y+n.height/2};e[r?"attr":"animate"](c)}else{e.align(i,null,n);c=e.alignAttr;if(Xt(i.overflow,"justify")==="justify"){this.justifyDataLabel(e,i,c,h,n,r)}else if(Xt(i.crop,true)){f=o.isInsidePlot(c.x,c.y)&&o.isInsidePlot(c.x+h.width,c.y+h.height)}}}if(!f){e.attr({y:-999})}},justifyDataLabel:function(t,e,i,n,r,o){var s=this.chart,a=e.align,l=e.verticalAlign,h,f;h=i.x;if(h<0){if(a==="right"){e.align="left"}else{e.x=-h}f=true}h=i.x+n.width;if(h>s.plotWidth){if(a==="left"){e.align="right"}else{e.x=s.plotWidth-h}f=true}h=i.y;if(h<0){if(l==="bottom"){e.verticalAlign="top"}else{e.y=-h}f=true}h=i.y+n.height;if(h>s.plotHeight){if(l==="top"){e.verticalAlign="bottom"}else{e.y=s.plotHeight-h}f=true}if(f){t.placed=!o;t.align(e,null,r)}},getSegmentPath:function(o){var s=this,a=[],l=s.options.step;fe(o,function(t,e){var i=t.plotX,n=t.plotY,r;if(s.getPointSpline){a.push.apply(a,s.getPointSpline(o,t,e))}else{a.push(e?q:$);if(l&&e){r=o[e-1];if(l==="right"){a.push(r.plotX,n)}else if(l==="center"){a.push((r.plotX+i)/2,r.plotY,(r.plotX+i)/2,n)}else{a.push(i,r.plotY)}}a.push(t.plotX,t.plotY)}});return a},getGraphPath:function(){var e=this,i=[],n,r=[];fe(e.segments,function(t){n=e.getSegmentPath(t);if(t.length>1){i=i.concat(n)}else{r.push(t[0])}});e.singlePoints=r;e.graphPath=i;return i},drawGraph:function(){var o=this,s=this.options,t=[["graph",s.lineColor||this.color]],a=s.lineWidth,l=s.dashStyle,h=this.getGraphPath(),e=s.negativeColor;if(e){t.push(["graphNeg",e])}fe(t,function(t,e){var i=t[0],n=o[i],r;if(n){ve(n);n.animate({d:h})}else if(a&&h.length){r={stroke:t[1],"stroke-width":a,zIndex:1};if(l){r.dashstyle=l}else{r["stroke-linecap"]=r["stroke-linejoin"]="round"}o[i]=o.chart.renderer.path(h).attr(r).add(o.group).shadow(!e&&s.shadow)}})},clipNeg:function(){var t=this.options,e=this.chart,i=e.renderer,n=t.negativeColor||t.negativeFillColor,r,o,s,a=this.graph,l=this.area,h=this.posClip,f=this.negClip,c=e.chartWidth,d=e.chartHeight,u=F(c,d),p=this.yAxis,g,m;if(n&&(a||l)){r=N(p.toPixels(t.threshold||0,true));g={x:0,y:0,width:u,height:r};m={x:0,y:r,width:u,height:u};if(e.inverted){g.height=m.y=e.plotWidth-r;if(i.isVML){g={x:e.plotWidth-r-e.plotLeft,y:0,width:c,height:d};m={x:r+e.plotLeft-c,y:0,width:e.plotLeft+r,height:c}}}if(p.reversed){o=m;s=g}else{o=g;s=m}if(h){h.animate(o);f.animate(s)}else{this.posClip=h=i.clipRect(o);this.negClip=f=i.clipRect(s);if(a&&this.graphNeg){a.clip(h);this.graphNeg.clip(f)}if(l){l.clip(h);this.areaNeg.clip(f)}}}},invertGroups:function(){var i=this,t=i.chart;if(!i.xAxis){return}function e(){var e={width:i.yAxis.len,height:i.xAxis.len};fe(["group","markerGroup"],function(t){if(i[t]){i[t].attr(e).invert()}})}pe(t,"resize",e);pe(i,"destroy",function(){ge(t,"resize",e)});e();i.invertGroups=e},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;if(s){this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)}o[s?"attr":"animate"](this.getPlotBox());return o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t=this,e=t.chart,i,n=t.options,r=n.animation,o=r&&!!t.animate&&e.renderer.isSVG,s=t.visible?U:j,a=n.zIndex,l=t.hasRendered,h=e.seriesGroup;i=t.plotGroup("group","series",s,a,h);t.markerGroup=t.plotGroup("markerGroup","markers",s,a,h);if(o){t.animate(true)}t.getAttribs();i.inverted=t.isCartesian?e.inverted:false;if(t.drawGraph){t.drawGraph();t.clipNeg()}t.drawDataLabels();t.drawPoints();if(t.options.enableMouseTracking!==false){t.drawTracker()}if(e.inverted){t.invertGroups()}if(n.clip!==false&&!t.sharedClipKey&&!l){i.clip(e.clipRect)}if(o){t.animate()}else if(!l){t.afterAnimate()}t.isDirty=t.isDirtyData=false;t.hasRendered=true},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,r=t.xAxis,o=t.yAxis;if(n){if(e.inverted){n.attr({width:e.plotWidth,height:e.plotHeight})}n.animate({translateX:Xt(r&&r.left,e.plotLeft),translateY:Xt(o&&o.top,e.plotTop)})}t.translate();t.setTooltipPoints(true);t.render();if(i){me(t,"updatedData")}},setState:function(t){var e=this,i=e.options,n=e.graph,r=e.graphNeg,o=i.states,s=i.lineWidth,a;t=t||Q;if(e.state!==t){e.state=t;if(o[t]&&o[t].enabled===false){return}if(t){s=o[t].lineWidth||s+1}if(n&&!n.dashstyle){a={"stroke-width":s};n.attr(a);if(r){r.attr(a)}}}},setVisible:function(e,t){var i=this,n=i.chart,r=i.legendItem,o,s=n.options.chart.ignoreHiddenSeries,a=i.visible;i.visible=e=i.userOptions.visible=e===R?!a:e;o=e?"show":"hide";fe(["group","dataLabelsGroup","markerGroup","tracker"],function(t){if(i[t]){i[t][o]()}});if(n.hoverSeries===i){i.onMouseOut()}if(r){n.legend.colorizeItem(i,e)}i.isDirty=true;if(i.options.stacking){fe(n.series,function(t){if(t.options.stacking&&t.visible){t.isDirty=true}})}fe(i.linkedSeries,function(t){t.setVisible(e,false)});if(s){n.isDirtyBox=true}if(t!==false){n.redraw()}me(i,o)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){var e=this;e.selected=t=t===R?!e.selected:t;if(e.checkbox){e.checkbox.checked=t}me(e,t?"select":"unselect")},drawTracker:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),r=n.length,o=t.chart,s=o.pointer,a=o.renderer,l=o.options.tooltip.snap,h=t.tracker,f=e.cursor,c=f&&{cursor:f},d=t.singlePoints,u,p,g=function(){if(o.hoverSeries!==t){t.onMouseOver()}};if(r&&!i){p=r+1;while(p--){if(n[p]===$){n.splice(p+1,0,n[p+1]-l,n[p+2],q)}if(p&&n[p]===$||p===r){n.splice(p,0,q,n[p-2]+l,n[p-1])}}}for(p=0;p<d.length;p++){u=d[p];n.push($,u.plotX-l,u.plotY,q,u.plotX+l,u.plotY)}if(h){h.attr({d:n})}else{t.tracker=a.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?U:j,stroke:J,fill:i?J:K,"stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group);fe([t.tracker,t.markerGroup],function(t){t.addClass(_+"tracker").on("mouseover",g).on("mouseout",function(t){s.onTrackerMouseOut(t)}).css(c);if(m){t.on("touchstart",g)}})}}};var Ve=Et(Fe);a.line=Ve;ke.area=St(we,{threshold:0});var je=Et(Fe,{type:"area",getSegments:function(){var t=[],e=[],i=[],n=this.xAxis,r=this.yAxis,o=r.stacks[this.stackKey],s={},a,l,h=this.points,f=this.options.connectNulls,c,d,u;if(this.options.stacking&&!this.cropped){for(d=0;d<h.length;d++){s[h[d].x]=h[d]}for(u in o){i.push(+u)}i.sort(function(t,e){return t-e});fe(i,function(t){if(f&&(!s[t]||s[t].y===null)){return}else if(s[t]){e.push(s[t])}else{a=n.translate(t);c=o[t].percent?o[t].total?o[t].cum*100/o[t].total:0:o[t].cum;l=r.toPixels(c,true);e.push({y:null,plotX:a,clientX:a,plotY:l,yBottom:l,onMouseOver:w})}});if(e.length){t.push(e)}}else{Fe.prototype.getSegments.call(this);t=this.segments}this.segments=t},getSegmentPath:function(t){var e=Fe.prototype.getSegmentPath.call(this,t),i=[].concat(e),n,r=this.options,o=e.length,s=this.yAxis.getThreshold(r.threshold),a;if(o===3){i.push(q,e[1],e[2])}if(r.stacking&&!this.closedStacks){for(n=t.length-1;n>=0;n--){a=Xt(t[n].yBottom,s);if(n<t.length-1&&r.step){i.push(t[n+1].plotX,a)}i.push(t[n].plotX,a)}}else{this.closeSegment(i,t,s)}this.areaPath=this.areaPath.concat(i);return e},closeSegment:function(t,e,i){t.push(q,e[e.length-1].plotX,i,q,e[0].plotX,i)},drawGraph:function(){this.areaPath=[];Fe.prototype.drawGraph.apply(this);var n=this,r=this.areaPath,o=this.options,t=o.negativeColor,e=o.negativeFillColor,i=[["area",this.color,o.fillColor]];if(t||e){i.push(["areaNeg",t,e])}fe(i,function(t){var e=t[0],i=n[e];if(i){i.animate({d:r})}else{n[e]=n.chart.renderer.path(r).attr({fill:Xt(t[2],Ae(t[1]).setOpacity(Xt(o.fillOpacity,.75)).get()),zIndex:0}).add(n.group)}})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}});a.area=je;ke.spline=St(we);var _e=Et(Fe,{type:"spline",getPointSpline:function(t,e,i){var n=1.5,r=n+1,o=e.plotX,s=e.plotY,a=t[i-1],l=t[i+1],h,f,c,d,u;if(a&&l){var p=a.plotX,g=a.plotY,m=l.plotX,y=l.plotY,x;h=(n*o+p)/r;f=(n*s+g)/r;c=(n*o+m)/r;d=(n*s+y)/r;x=(d-f)*(c-o)/(c-h)+s-d;f+=x;d+=x;if(f>g&&f>s){f=F(g,s);d=2*s-f}else if(f<g&&f<s){f=A(g,s);d=2*s-f}if(d>y&&d>s){d=F(y,s);f=2*s-d}else if(d<y&&d<s){d=A(y,s);f=2*s-d}e.rightContX=c;e.rightContY=d}if(!i){u=[$,o,s]}else{u=["C",a.rightContX||a.plotX,a.rightContY||a.plotY,h||o,f||s,o,s];a.rightContX=a.rightContY=null}return u}});a.spline=_e;ke.areaspline=St(ke.area);var Ue=je.prototype,Ze=Et(_e,{type:"areaspline",closedStacks:true,getSegmentPath:Ue.getSegmentPath,closeSegment:Ue.closeSegment,drawGraph:Ue.drawGraph,drawLegendSymbol:Ue.drawLegendSymbol});a.areaspline=Ze;ke.column=St(we,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:false,threshold:0});var Ke=Et(Fe,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:true,init:function(){Fe.prototype.init.apply(this,arguments);var e=this,t=e.chart;if(t.hasRendered){fe(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}},getColumnMetrics:function(){var n=this,t=n.options,e=n.xAxis,r=n.yAxis,i=e.reversed,o,s={},a,l=0;if(t.grouping===false){l=1}else{fe(n.chart.series,function(t){var e=t.options,i=t.yAxis;if(t.type===n.type&&t.visible&&r.len===i.len&&r.pos===i.pos){if(e.stacking){o=t.stackKey;if(s[o]===R){s[o]=l++}a=s[o]}else if(e.grouping!==false){a=l++}t.columnIndex=a}})}var h=A(V(e.transA)*(e.ordinalSlope||t.pointRange||e.closestPointRange||1),e.len),f=h*t.groupPadding,c=h-2*f,d=c/l,u=t.pointWidth,p=Ot(u)?(d-u)/2:d*t.pointPadding,g=Xt(u,d-2*p),m=(i?l-(n.columnIndex||0):n.columnIndex)||0,y=p+(f+m*d-h/2)*(i?-1:1);return n.columnMetrics={width:g,offset:y}},translate:function(){var t=this,e=t.chart,i=t.options,n=i.borderWidth,c=t.yAxis,r=i.threshold,d=t.translatedThreshold=c.getThreshold(r),u=Xt(i.minPointLength,5),o=t.getColumnMetrics(),p=o.width,g=t.barW=v(F(p,1+2*n)),m=t.pointXOffset=o.offset,y=-(n%2?.5:0),x=n%2?.5:1;if(e.renderer.isVML&&e.inverted){x+=1}Fe.prototype.translate.apply(t);fe(t.points,function(t){var e=Xt(t.yBottom,d),i=A(F(-999-e,t.plotY),c.len+999+e),n=t.plotX+m,r=g,o=A(i,e),s,a,l,h,f=F(i,e)-o;if(V(f)<u){if(u){f=u;o=N(V(o-d)>u?e-u:d-(c.translate(t.y,0,1,0,1)<=d?u:0))}}t.barX=n;t.pointWidth=p;h=V(n)<.5;s=N(n+r)+y;n=N(n)+y;r=s-n;l=V(o)<.5;a=N(o+f)+x;o=N(o)+x;f=a-o;if(h){n+=1;r-=1}if(l){o-=1;f+=1}t.shapeType="rect";t.shapeArgs={x:n,y:o,width:r,height:f}})},getSymbol:w,drawLegendSymbol:je.prototype.drawLegendSymbol,drawGraph:w,drawPoints:function(){var n=this,r=n.options,o=n.chart.renderer,s;fe(n.points,function(t){var e=t.plotY,i=t.graphic;if(e!==R&&!isNaN(e)&&t.y!==null){s=t.shapeArgs;if(i){ve(i);i.animate(St(s))}else{t.graphic=i=o[t.shapeType](s).attr(t.pointAttr[t.selected?et:Q]).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)}}else if(i){t.graphic=i.destroy()}})},drawTracker:function(){var n=this,r=n.chart,e=r.pointer,t=n.options.cursor,i=t&&{cursor:t},o=function(t){var e=t.target,i;if(r.hoverSeries!==n){n.onMouseOver()}while(e&&!i){i=e.point;e=e.parentNode}if(i!==R&&i!==r.hoverPoint){i.onMouseOver(t)}};fe(n.points,function(t){if(t.graphic){t.graphic.element.point=t}if(t.dataLabel){t.dataLabel.element.point=t}});if(!n._hasTracking){fe(n.trackerGroups,function(t){if(n[t]){n[t].addClass(_+"tracker").on("mouseover",o).on("mouseout",function(t){e.onTrackerMouseOut(t)}).css(i);if(m){n[t].on("touchstart",o)}}});n._hasTracking=true}},alignDataLabel:function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=t.dlBox||t.shapeArgs,l=t.below||t.plotY>Xt(this.translatedThreshold,o.plotSizeY),h=Xt(i.inside,!!this.options.stacking);if(a){n=St(a);if(s){n={x:o.plotWidth-n.y-n.height,y:o.plotHeight-n.x-n.width,width:n.height,height:n.width}}if(!h){if(s){n.x+=l?0:n.width;n.width=0}else{n.y+=l?n.height:0;n.height=0}}}i.align=Xt(i.align,!s||h?"center":l?"right":"left");i.verticalAlign=Xt(i.verticalAlign,s||h?"middle":l?"top":"bottom");Fe.prototype.alignDataLabel.call(this,t,e,i,n,r)},animate:function(t){var e=this,i=this.yAxis,n=e.options,r=this.chart.inverted,o={},s;if(D){if(t){o.scaleY=.001;s=A(i.pos+i.len,F(i.pos,i.toPixels(n.threshold)));if(r){o.translateX=s-i.len}else{o.translateY=s}e.group.attr(o)}else{o.scaleY=1;o[r?"translateX":"translateY"]=i.pos;e.group.animate(o,e.options.animation);e.animate=null}}},remove:function(){var e=this,t=e.chart;if(t.hasRendered){fe(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}Fe.prototype.remove.apply(e,arguments)}});a.column=Ke;ke.bar=St(ke.column);var $e=Et(Ke,{type:"bar",inverted:true});a.bar=$e;ke.scatter=St(we,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:true},stickyTracking:false});var qe=Et(Fe,{type:"scatter",sorted:false,requireSorting:false,noSharedTooltip:true,trackerGroups:["markerGroup"],drawTracker:Ke.prototype.drawTracker,setTooltipPoints:w});a.scatter=qe;ke.pie=St(we,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:false,colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name}},ignoreHiddenPoint:true,legendType:"point",marker:null,size:null,showInLegend:false,slicedOffset:10,states:{hover:{brightness:.1,shadow:false}},stickyTracking:false,tooltip:{followPointer:true}});var Je=Et(Ne,{init:function(){Ne.prototype.init.apply(this,arguments);var e=this,t;if(e.y<0){e.y=null}Tt(e,{visible:e.visible!==false,name:Xt(e.name,"Slice")});t=function(t){e.slice(t.type==="select")};pe(e,"select",t);pe(e,"unselect",t);return e},setVisible:function(t){var e=this,i=e.series,n=i.chart,r;e.visible=e.options.visible=t=t===R?!e.visible:t;i.options.data[he(e,i.data)]=e.options;r=t?"show":"hide";fe(["graphic","dataLabel","connector","shadowGroup"],function(t){if(e[t]){e[t][r]()}});if(e.legendItem){n.legend.colorizeItem(e,t)}if(!i.isDirty&&i.options.ignoreHiddenPoint){i.isDirty=true;n.redraw()}},slice:function(t,e,i){var n=this,r=n.series,o=r.chart,s;re(i,o);e=Xt(e,true);n.sliced=n.options.sliced=t=Ot(t)?t:!n.sliced;r.options.data[he(n,r.data)]=n.options;s=t?n.slicedTranslation:{translateX:0,translateY:0};n.graphic.animate(s);if(n.shadowGroup){n.shadowGroup.animate(s)}}});var Qe={type:"pie",isCartesian:false,pointClass:Je,requireSorting:false,noSharedTooltip:true,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:w,animate:function(t){var n=this,e=n.points,r=n.startAngleRad;if(!t){fe(e,function(t){var e=t.graphic,i=t.shapeArgs;if(e){e.attr({r:n.center[3]/2,start:r,end:r});e.animate({r:i.r,start:i.start,end:i.end},n.options.animation)}});n.animate=null}},setData:function(t,e){Fe.prototype.setData.call(this,t,false);this.processData();this.generatePoints();if(Xt(e,true)){this.chart.redraw()}},generatePoints:function(){var t,e=0,i,n,r,o=this.options.ignoreHiddenPoint;Fe.prototype.generatePoints.call(this);i=this.points;n=i.length;for(t=0;t<n;t++){r=i[t];e+=o&&!r.visible?0:r.y}this.total=e;for(t=0;t<n;t++){r=i[t];r.percentage=e>0?r.y/e*100:0;r.total=e}},getCenter:function(){var t=this.options,e=this.chart,i=2*(t.slicedOffset||0),n,r=e.plotWidth-2*i,o=e.plotHeight-2*i,s=t.center,a=[Xt(s[0],"50%"),Xt(s[1],"50%"),t.size||"100%",t.innerSize||0],l=A(r,o),h;return ue(a,function(t,e){h=/%$/.test(t);n=e<2||e===2&&h;return(h?[r,o,l,l][e]*At(t)/100:t)+(n?i:0)})},translate:function(i){this.generatePoints();var t=this,e=0,n=1e3,r=t.options,o=r.slicedOffset,s=o+r.borderWidth,a,l,h,f=r.startAngle||0,c=t.startAngleRad=X/180*(f-90),d=t.endAngleRad=X/180*((r.endAngle||f+360)-90),u=d-c,p=t.points,g,m,y=r.dataLabels.distance,x=r.ignoreHiddenPoint,v,b=p.length,k;if(!i){t.center=i=t.getCenter()}t.getX=function(t,e){h=H.asin((t-i[1])/(i[2]/2+y));return i[0]+(e?-1:1)*(T(h)*(i[2]/2+y))};for(v=0;v<b;v++){k=p[v];a=c+e*u;if(!x||k.visible){e+=k.percentage/100}l=c+e*u;k.shapeType="arc";k.shapeArgs={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:N(a*n)/n,end:N(l*n)/n};h=(l+a)/2;if(h>.75*u){h-=2*X}k.slicedTranslation={translateX:N(T(h)*o),translateY:N(S(h)*o)};g=T(h)*i[2]/2;m=S(h)*i[2]/2;k.tooltipPos=[i[0]+g*.7,i[1]+m*.7];k.half=h<-X/2||h>X/2?1:0;k.angle=h;s=A(s,y/2);k.labelPos=[i[0]+g+T(h)*y,i[1]+m+S(h)*y,i[0]+g+T(h)*s,i[1]+m+S(h)*s,i[0]+g,i[1]+m,y<0?"center":k.half?"right":"left",h]}},setTooltipPoints:w,drawGraph:null,drawPoints:function(){var e=this,t=e.chart,i=t.renderer,n,r,o=e.options.shadow,s,a;if(o&&!e.shadowGroup){e.shadowGroup=i.g("shadow").add(e.group)}fe(e.points,function(t){r=t.graphic;a=t.shapeArgs;s=t.shadowGroup;if(o&&!s){s=t.shadowGroup=i.g("shadow").add(e.shadowGroup)}n=t.sliced?t.slicedTranslation:{translateX:0,translateY:0};if(s){s.attr(n)}if(r){r.animate(Tt(a,n))}else{t.graphic=r=i.arc(a).setRadialReference(e.center).attr(t.pointAttr[t.selected?et:Q]).attr({"stroke-linejoin":"round"}).attr(n).add(e.group).shadow(o,s)}if(t.visible===false){t.setVisible(false)}})},sortByAngle:function(t,i){t.sort(function(t,e){return t.angle!==undefined&&(e.angle-t.angle)*i})},drawDataLabels:function(){var e=this,t=e.data,i,n=e.chart,r=e.options.dataLabels,o=Xt(r.connectorPadding,10),s=Xt(r.connectorWidth,1),a=n.plotWidth,l=n.plotHeight,h,f,c=Xt(r.softConnector,true),d=r.distance,u=e.center,p=u[2]/2,g=u[1],m=d>0,y,x,v,b,k=[[],[]],w,T,S,P,A,L,C=[0,0,0,0],M=function(t,e){return e.y-t.y};if(!e.visible||!r.enabled&&!e._hasPointLabels){return}Fe.prototype.drawDataLabels.apply(e);fe(t,function(t){if(t.dataLabel){k[t.half].push(t)}});A=0;while(!b&&t[A]){b=t[A]&&t[A].dataLabel&&(t[A].dataLabel.getBBox().height||21);A++}A=2;while(A--){var D=[],I,z=[],B=k[A],O,R=B.length,H;e.sortByAngle(B,A-.5);if(d>0){for(O=g-p-d;O<=g+p+d;O+=b){D.push(O)}I=D.length;if(R>I){P=[].concat(B);P.sort(M);L=R;while(L--){P[L].rank=L}L=R;while(L--){if(B[L].rank>=I){B.splice(L,1)}}R=B.length}for(L=0;L<R;L++){i=B[L];v=i.labelPos;var X=9999,W,Y;for(Y=0;Y<I;Y++){W=V(D[Y]-v[1]);if(W<X){X=W;H=Y}}if(H<L&&D[L]!==null){H=L}else if(I<R-L+H&&D[L]!==null){H=I-R+L;while(D[H]===null){H++}}else{while(D[H]===null){H++}}z.push({i:H,y:D[H]});D[H]=null}z.sort(M)}for(L=0;L<R;L++){var E,G;i=B[L];v=i.labelPos;y=i.dataLabel;S=i.visible===false?j:U;G=v[1];if(d>0){E=z.pop();H=E.i;T=E.y;if(G>T&&D[H+1]!==null||G<T&&D[H-1]!==null){T=G}}else{T=G}w=r.justify?u[0]+(A?-1:1)*(p+d):e.getX(H===0||H===D.length-1?G:T,A);y._attr={visibility:S,align:v[6]};y._pos={x:w+r.x+({left:o,right:-o}[v[6]]||0),y:T+r.y-10};y.connX=w;y.connY=T;if(this.options.size===null){x=y.width;if(w-x<o){C[3]=F(N(x-w+o),C[3])}else if(w+x>a-o){C[1]=F(N(w+x-a+o),C[1])}if(T-b/2<0){C[0]=F(N(-T+b/2),C[0])}else if(T+b/2>l){C[2]=F(N(T+b/2-l),C[2])}}}}if(Qt(C)===0||this.verifyDataLabelOverflow(C)){this.placeDataLabels();if(m&&s){fe(this.points,function(t){h=t.connector;v=t.labelPos;y=t.dataLabel;if(y&&y._pos){S=y._attr.visibility;w=y.connX;T=y.connY;f=c?[$,w+(v[6]==="left"?5:-5),T,"C",w,T,2*v[2]-v[4],2*v[3]-v[5],v[2],v[3],q,v[4],v[5]]:[$,w+(v[6]==="left"?5:-5),T,q,v[2],v[3],q,v[4],v[5]];if(h){h.animate({d:f});h.attr("visibility",S)}else{t.connector=h=e.chart.renderer.path(f).attr({"stroke-width":s,stroke:r.connectorColor||t.color||"#606060",visibility:S}).add(e.group)}}else if(h){t.connector=h.destroy()}})}}},verifyDataLabelOverflow:function(t){var e=this.center,i=this.options,n=i.center,r=i.minSize||80,o=r,s;if(n[0]!==null){o=F(e[2]-F(t[1],t[3]),r)}else{o=F(e[2]-t[1]-t[3],r);e[0]+=(t[3]-t[1])/2}if(n[1]!==null){o=F(A(o,e[2]-F(t[0],t[2])),r)}else{o=F(A(o,e[2]-t[0]-t[2]),r);e[1]+=(t[0]-t[2])/2}if(o<e[2]){e[2]=o;this.translate(e);fe(this.points,function(t){if(t.dataLabel){t.dataLabel._pos=null}});this.drawDataLabels()}else{s=true}return s},placeDataLabels:function(){fe(this.points,function(t){var e=t.dataLabel,i;if(e){i=e._pos;if(i){e.attr(e._attr);e[e.moved?"animate":"attr"](i);e.moved=true}else if(e){e.attr({y:-999})}}})},alignDataLabel:w,drawTracker:Ke.prototype.drawTracker,drawLegendSymbol:je.prototype.drawLegendSymbol,getSymbol:w};Qe=Et(Fe,Qe);a.pie=Qe;Tt(Highcharts,{Axis:Xe,Chart:Ge,Color:Ae,Legend:Ee,Pointer:Ye,Point:Ne,Tick:Oe,Tooltip:We,Renderer:u,Series:Fe,SVGElement:Le,SVGRenderer:Ce,arrayMin:Jt,arrayMax:Qt,charts:B,dateFormat:g,format:jt,pathAnim:r,getOptions:Pe,hasBidiBug:e,isTouchDevice:t,numberFormat:Gt,seriesTypes:a,setOptions:Se,addEvent:pe,removeEvent:ge,createElement:Yt,discardElement:ee,css:Wt,each:fe,extend:Tt,map:ue,merge:St,pick:Xt,splat:Ht,extendClass:Et,pInt:At,wrap:Ft,svg:D,canvas:f,vml:!D&&!f,product:O,version:Y})})();