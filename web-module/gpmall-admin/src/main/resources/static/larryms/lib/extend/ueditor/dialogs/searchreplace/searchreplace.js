editor.firstForSR=0;editor.currentRangeForSR=null;function clickHandler(e,a,t){for(var r=0,n=e.length;r<n;r++){e[r].className=""}t.className="focus";var c=t.getAttribute("tabSrc");for(var s=0,i=a.length;s<i;s++){var l=a[s],o=l.getAttribute("id");if(o!=c){l.style.zIndex=1}else{l.style.zIndex=200}}}function switchTab(e){var a=$G(e).children,t=a[0].children,r=a[1].children;for(var n=0,c=t.length;n<c;n++){var s=t[n];if(s.className==="focus")clickHandler(t,r,s);s.onclick=function(){clickHandler(t,r,this)}}}$G("searchtab").onmousedown=function(){$G("search-msg").innerHTML="";$G("replace-msg").innerHTML=""};function getMatchCase(e){return $G(e).checked?true:false}$G("nextFindBtn").onclick=function(e,a,t){var r=$G("findtxt").value,n;if(!r){return false}n={searchStr:r,dir:1,casesensitive:getMatchCase("matchCase")};if(!frCommond(n)){var c=editor.selection.getRange().createBookmark();$G("search-msg").innerHTML=lang.getEnd;editor.selection.getRange().moveToBookmark(c).select()}};$G("nextReplaceBtn").onclick=function(e,a,t){var r=$G("findtxt1").value,n;if(!r){return false}n={searchStr:r,dir:1,casesensitive:getMatchCase("matchCase1")};frCommond(n)};$G("preFindBtn").onclick=function(e,a,t){var r=$G("findtxt").value,n;if(!r){return false}n={searchStr:r,dir:-1,casesensitive:getMatchCase("matchCase")};if(!frCommond(n)){$G("search-msg").innerHTML=lang.getStart}};$G("preReplaceBtn").onclick=function(e,a,t){var r=$G("findtxt1").value,n;if(!r){return false}n={searchStr:r,dir:-1,casesensitive:getMatchCase("matchCase1")};frCommond(n)};$G("repalceBtn").onclick=function(){var e=$G("findtxt1").value.replace(/^\s|\s$/g,""),a,t=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!e){return false}if(e==t||!getMatchCase("matchCase1")&&e.toLowerCase()==t.toLowerCase()){return false}a={searchStr:e,dir:1,casesensitive:getMatchCase("matchCase1"),replaceStr:t};frCommond(a)};$G("repalceAllBtn").onclick=function(){var e=$G("findtxt1").value.replace(/^\s|\s$/g,""),a,t=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!e){return false}if(e==t||!getMatchCase("matchCase1")&&e.toLowerCase()==t.toLowerCase()){return false}a={searchStr:e,casesensitive:getMatchCase("matchCase1"),replaceStr:t,all:true};var r=frCommond(a);if(r){$G("replace-msg").innerHTML=lang.countMsg.replace("{#count}",r)}};var frCommond=function(e){return editor.execCommand("searchreplace",e)};switchTab("searchtab");