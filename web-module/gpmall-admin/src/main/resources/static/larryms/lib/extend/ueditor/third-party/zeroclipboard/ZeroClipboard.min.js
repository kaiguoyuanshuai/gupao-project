!function(u){"use strict";var o,d={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},f={},p=null,n=0,s={},r=0,l={},e=function(){var e,t,a,n,r="ZeroClipboard.swf";if(!document.currentScript||!(n=document.currentScript.src)){var i=document.getElementsByTagName("script");if("readyState"in i[0])for(e=i.length;e--&&("interactive"!==i[e].readyState||!(n=i[e].src)););else if("loading"===document.readyState)n=i[i.length-1].src;else{for(e=i.length;e--;){if(a=i[e].src,!a){t=null;break}if(a=a.split("#")[0].split("?")[0],a=a.slice(0,a.lastIndexOf("/")+1),null==t)t=a;else if(t!==a){t=null;break}}null!==t&&(n=t)}}return n&&(n=n.split("#")[0].split("?")[0],r=n.slice(0,n.lastIndexOf("/")+1)+r),r}(),i=function(){var t=/\-([a-z])/g,a=function(e,t){return t.toUpperCase()};return function(e){return e.replace(t,a)}}(),c=function(e,t){var a,n,r;return u.getComputedStyle?a=u.getComputedStyle(e,null).getPropertyValue(t):(n=i(t),a=e.currentStyle?e.currentStyle[n]:e.style[n]),"cursor"!==t||a&&"auto"!==a||(r=e.tagName.toLowerCase(),"a"!==r)?a:"pointer"},h=function(e){e||(e=u.event);var t;this!==u?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),B.activate(t)},v=function(e,t,a){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent&&e.attachEvent("on"+t,a))},y=function(e,t,a){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent&&e.detachEvent("on"+t,a))},g=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var a=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var n=" "+e.className+" ",r=e.className,i=0,o=a.length;o>i;i++)n.indexOf(" "+a[i]+" ")<0&&(r+=" "+a[i]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},m=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var a=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;i>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},b=function(){var e,t,a,n=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,a=document.body.offsetWidth,n=Math.round(t/a*100)/100),n},a=function(e,t){var a={left:0,top:0,width:0,height:0,zIndex:D(t)-1};if(e.getBoundingClientRect){var n,r,i,o=e.getBoundingClientRect();"pageXOffset"in u&&"pageYOffset"in u?(n=u.pageXOffset,r=u.pageYOffset):(i=b(),n=Math.round(document.documentElement.scrollLeft/i),r=Math.round(document.documentElement.scrollTop/i));var l=document.documentElement.clientLeft||0,s=document.documentElement.clientTop||0;a.left=o.left+n-l,a.top=o.top+r-s,a.width="width"in o?o.width:o.right-o.left,a.height="height"in o?o.height:o.bottom-o.top}return a},w=function(e,t){var a=null==t||t&&t.cacheBust===!0;return a?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},x=function(e){var t,a,n,r,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?r=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(r=e.trustedDomains)),r&&r.length)for(t=0,a=r.length;a>t;t++)if(r.hasOwnProperty(t)&&r[t]&&"string"==typeof r[t]){if(n=k(r[t]),!n)continue;if("*"===n){o=[n];break}o.push.apply(o,[n,"//"+n,u.location.protocol+"//"+n])}return o.length&&(i+="trustedOrigins="+encodeURIComponent(o.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),i},C=function(e,t,a){if("function"==typeof t.indexOf)return t.indexOf(e,a);var n,r=t.length;for("undefined"==typeof a?a=0:0>a&&(a=r+a),n=a;r>n;n++)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1},O=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return"number"!=typeof e.length?[e]:e},T=function(e,t,a,n){n?u.setTimeout(function(){e.apply(t,a)},0):e.apply(t,a)},D=function(e){var t,a;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(a=parseInt(e,10))&&!isNaN(a)&&a>0&&(t=a)),t||("number"==typeof $.zIndex&&$.zIndex>0?t=$.zIndex:"string"==typeof $.zIndex&&(a=parseInt($.zIndex,10))&&!isNaN(a)&&a>0&&(t=a)),t||0},z=function(){var e,t,a,n,r,i,o=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(a=arguments[e]))for(n in a)if(a.hasOwnProperty(n)){if(r=o[n],i=a[n],o===i)continue;void 0!==i&&(o[n]=i)}return o},k=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var a=e.indexOf("/");return e=-1===a?e:-1===t||0===a?null:e.slice(0,a),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},N=function(){var i=function(e,t){var a,n,r;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"number"==typeof e.length))for(a=0,n=e.length;n>a;a++)if(e.hasOwnProperty(a)&&(r=k(e[a]))){if("*"===r){t.length=0,t.push("*");break}-1===C(r,t)&&t.push(r)}};return function(e,t){var a=k(t.swfPath);null===a&&(a=e);var n=[];i(t.trustedOrigins,n),i(t.trustedDomains,n);var r=n.length;if(r>0){if(1===r&&"*"===n[0])return"always";if(-1!==C(e,n))return 1===r&&e===a?"sameDomain":"always"}return"never"}}(),E=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},t=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},I=function(){try{return document.activeElement}catch(e){}return null},P=function(e,t){for(var a={},n=0,r=t.length;r>n;n++)t[n]in e&&(a[t[n]]=e[t[n]]);return a},j=function(e,t){var a={};for(var n in e)-1===C(n,t)&&(a[n]=e[n]);return a},L=function(e){var t={},a={};if("object"==typeof e&&e){for(var n in e)if(n&&e.hasOwnProperty(n)&&"string"==typeof e[n]&&e[n])switch(n.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[n],a.text=n;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[n],a.html=n;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[n],a.rtf=n}return{data:t,formatMap:a}}},S=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var a={};for(var n in e)if(e.hasOwnProperty(n)){if("success"!==n&&"data"!==n){a[n]=e[n];continue}a[n]={};var r=e[n];for(var i in r)i&&r.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(a[n][t[i]]=r[i])}return a},A=function(t){return function(e){return t.call(e,0)}}(u.Array.prototype.slice),F=function(){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function a(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function e(e){e&&(o=!0,e.version&&(c=t(e.version)),!c&&e.description&&(c=t(e.description)),e.filename&&(s=a(e.filename)))}var n,r,i,o=!1,l=!1,s=!1,c="";if(navigator.plugins&&navigator.plugins.length)n=navigator.plugins["Shockwave Flash"],e(n),navigator.plugins["Shockwave Flash 2.0"]&&(o=!0,c="2.0.0.11");else if(navigator.mimeTypes&&navigator.mimeTypes.length)i=navigator.mimeTypes["application/x-shockwave-flash"],n=i&&i.enabledPlugin,e(n);else if("undefined"!=typeof ActiveXObject){l=!0;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),o=!0,c=t(r.GetVariable("$version"))}catch(e){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),o=!0,c="6.0.21"}catch(e){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),o=!0,c=t(r.GetVariable("$version"))}catch(e){l=!1}}}}d.disabled=o!==!0,d.outdated=c&&parseFloat(c)<11,d.version=c||"0.0.0",d.pluginType=s?"pepper":l?"activex":o?"netscape":"unknown"};F();var B=function(e){if(!(this instanceof B))return new B(e);if(this.id=""+n++,s[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"boolean"!=typeof d.ready&&(d.ready=!1),!B.isFlashUnusable()&&null===d.bridge){var t=this,a=$.flashLoadTimeout;"number"==typeof a&&a>=0&&setTimeout(function(){"boolean"!=typeof d.deactivated&&(d.deactivated=!0),d.deactivated===!0&&B.emit({type:"error",name:"flash-deactivated",client:t})},a),d.overdue=!1,R()}};B.prototype.setText=function(e){return B.setData("text/plain",e),this},B.prototype.setHtml=function(e){return B.setData("text/html",e),this},B.prototype.setRichText=function(e){return B.setData("application/rtf",e),this},B.prototype.setData=function(){return B.setData.apply(B,A(arguments)),this},B.prototype.clearData=function(){return B.clearData.apply(B,A(arguments)),this},B.prototype.setSize=function(e,t){return V(e,t),this};var H=function(e){d.ready===!0&&d.bridge&&"function"==typeof d.bridge.setHandCursor?d.bridge.setHandCursor(e):d.ready=!1};B.prototype.destroy=function(){this.unclip(),this.off(),delete s[this.id]};var M=function(){var e,t,a,n=[],r=E(s);for(e=0,t=r.length;t>e;e++)a=s[r[e]].instance,a&&a instanceof B&&n.push(a);return n};B.version="2.0.0-beta.5";var $={swfPath:e,trustedDomains:u.location.host?[u.location.host]:[],cacheBust:!0,forceHandCursor:!1,forceEnhancedClipboard:!1,zIndex:999999999,debug:!1,title:null,autoActivate:!0,flashLoadTimeout:3e4};B.isFlashUnusable=function(){return!!(d.disabled||d.outdated||d.unavailable||d.deactivated)},B.config=function(e){"object"==typeof e&&null!==e&&z($,e);{if("string"!=typeof e||!e){var t={};for(var a in $)$.hasOwnProperty(a)&&(t[a]="object"==typeof $[a]&&null!==$[a]?"length"in $[a]?$[a].slice(0):z({},$[a]):$[a]);return t}if($.hasOwnProperty(e))return $[e]}},B.destroy=function(){B.deactivate();for(var e in s)if(s.hasOwnProperty(e)&&s[e]){var t=s[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var a=d.bridge;if(a){var n=Z(a);n&&("activex"===d.pluginType&&"readyState"in a?(a.style.display="none",function e(){if(4===a.readyState){for(var t in a)"function"==typeof a[t]&&(a[t]=null);a.parentNode.removeChild(a),n.parentNode&&n.parentNode.removeChild(n)}else setTimeout(e,10)}()):(a.parentNode.removeChild(a),n.parentNode&&n.parentNode.removeChild(n))),d.ready=null,d.bridge=null,d.deactivated=null}B.clearData()},B.activate=function(e){o&&(m(o,$.hoverClass),m(o,$.activeClass)),o=e,g(e,$.hoverClass),U();var t=$.title||e.getAttribute("title");if(t){var a=Z(d.bridge);a&&a.setAttribute("title",t)}var n=$.forceHandCursor===!0||"pointer"===c(e,"cursor");H(n)},B.deactivate=function(){var e=Z(d.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",V(1,1)),o&&(m(o,$.hoverClass),m(o,$.activeClass),o=null)},B.state=function(){return{browser:P(u.navigator,["userAgent","platform","appName"]),flash:j(d,["bridge"]),zeroclipboard:{version:B.version,config:B.config()}}},B.setData=function(e,t){var a;if("object"==typeof e&&e&&"undefined"==typeof t)a=e,B.clearData();else{if("string"!=typeof e||!e)return;a={},a[e]=t}for(var n in a)n&&a.hasOwnProperty(n)&&"string"==typeof a[n]&&a[n]&&(f[n]=a[n])},B.clearData=function(e){"undefined"==typeof e?(t(f),p=null):"string"==typeof e&&f.hasOwnProperty(e)&&delete f[e]};var R=function(){var e,t,a=document.getElementById("global-zeroclipboard-html-bridge");if(!a){var n=N(u.location.host,$),r="never"===n?"none":"all",i=x($),o=$.swfPath+w($.swfPath,$);a=X();var l=document.createElement("div");a.appendChild(l),document.body.appendChild(a);var s=document.createElement("div"),c="activex"===d.pluginType;s.innerHTML='<object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" '+(c?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+o+'"')+">"+(c?'<param name="movie" value="'+o+'"/>':"")+'<param name="allowScriptAccess" value="'+n+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+i+'"/></object>',e=s.firstChild,s=null,e.ZeroClipboard=B,a.replaceChild(e,l)}e||(e=document["global-zeroclipboard-flash-bridge"],e&&(t=e.length)&&(e=e[t-1]),e||(e=a.firstChild)),d.bridge=e||null},X=function(){var e=document.createElement("div");return e.id="global-zeroclipboard-html-bridge",e.className="global-zeroclipboard-container",e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+D($.zIndex),e},Z=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},U=function(){if(o){var e=a(o,$.zIndex),t=Z(d.bridge);t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex=e.zIndex+1),V(e.width,e.height)}},V=function(e,t){var a=Z(d.bridge);a&&(a.style.width=e+"px",a.style.height=t+"px")};B.emit=function(e){var t,a,n,r,i,o,l,s,c;if("string"==typeof e&&e&&(t=e),"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type,a=e),t){if(e=Y(t,a),W(e),"ready"===e.type&&d.overdue===!0)return B.emit({type:"error",name:"flash-overdue"});if(n=!/^(before)?copy$/.test(e.type),e.client)G.call(e.client,e,n);else for(r=e.target&&e.target!==u&&$.autoActivate===!0?_(e.target):M(),i=0,o=r.length;o>i;i++)l=z({},e,{client:r[i]}),G.call(r[i],l,n);return"copy"===e.type&&(c=L(f),s=c.data,p=c.formatMap),s}};var G=function(e,t){var a=s[this.id]&&s[this.id].handlers[e.type];if(a&&a.length){var n,r,i,o,l=this;for(n=0,r=a.length;r>n;n++)i=a[n],o=l,"string"==typeof i&&"function"==typeof u[i]&&(i=u[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(o=i,i=i.handleEvent),"function"==typeof i&&T(i,o,[e],t)}return this},J={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},Y=function(e,t){if(e||t&&t.type){t=t||{},e=(e||t.type).toLowerCase(),z(t,{type:e,target:t.target||o||null,relatedTarget:t.relatedTarget||null,currentTarget:d&&d.bridge||null});var a=J[t.type];return"error"===t.type&&t.name&&a&&(a=a[t.name]),a&&(t.message=a),"ready"===t.type&&z(t,{target:null,version:d.version}),"error"===t.type&&(t.target=null,/^flash-(outdated|unavailable|deactivated|overdue)$/.test(t.name)&&z(t,{version:d.version,minimumVersion:"11.0.0"})),"copy"===t.type&&(t.clipboardData={setData:B.setData,clearData:B.clearData}),"aftercopy"===t.type&&(t=S(t,p)),t.target&&!t.relatedTarget&&(t.relatedTarget=q(t.target)),t}},q=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?document.getElementById(t):null},W=function(e){var t=e.target||o;switch(e.type){case"error":C(e.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&z(d,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var a=d.deactivated===!0;z(d,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:a,ready:!a});break;case"copy":var n,r,i=e.relatedTarget;!f["text/html"]&&!f["text/plain"]&&i&&(r=i.value||i.outerHTML||i.innerHTML)&&(n=i.value||i.textContent||i.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",n),r!==n&&e.clipboardData.setData("text/html",r)):!f["text/plain"]&&e.target&&(n=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",n));break;case"aftercopy":B.clearData(),t&&t!==I()&&t.focus&&t.focus();break;case"mouseover":g(t,$.hoverClass);break;case"mouseout":$.autoActivate===!0&&B.deactivate();break;case"mousedown":g(t,$.activeClass);break;case"mouseup":m(t,$.activeClass)}};B.prototype.on=function(e,t){var a,n,r,i={},o=s[this.id]&&s[this.id].handlers;if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)e.hasOwnProperty(a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.on(a,e[a]);if(r&&r.length){for(a=0,n=r.length;n>a;a++)e=r[a].replace(/^on/,""),i[e]=!0,o[e]||(o[e]=[]),o[e].push(t);if(i.ready&&d.ready&&B.emit({type:"ready",client:this}),i.error){var l=["disabled","outdated","unavailable","deactivated","overdue"];for(a=0,n=l.length;n>a;a++)if(d[l[a]]){B.emit({type:"error",name:"flash-"+l[a],client:this});break}}}return this},B.prototype.off=function(e,t){var a,n,r,i,o,l=s[this.id]&&s[this.id].handlers;if(0===arguments.length)i=E(l);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)e.hasOwnProperty(a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.off(a,e[a]);if(i&&i.length)for(a=0,n=i.length;n>a;a++)if(e=i[a].toLowerCase().replace(/^on/,""),o=l[e],o&&o.length)if(t)for(r=C(t,o);-1!==r;)o.splice(r,1),r=C(t,o,r);else l[e].length=0;return this},B.prototype.handlers=function(e){var t,a=null,n=s[this.id]&&s[this.id].handlers;if(n){if("string"==typeof e&&e)return n[e]?n[e].slice(0):null;a={};for(t in n)n.hasOwnProperty(t)&&n[t]&&(a[t]=n[t].slice(0))}return a},B.prototype.clip=function(e){e=O(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===C(this.id,l[e[t].zcClippingId])&&l[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+r++,l[e[t].zcClippingId]=[this.id],$.autoActivate===!0&&v(e[t],"mouseover",h));var a=s[this.id].elements;-1===C(e[t],a)&&a.push(e[t])}return this},B.prototype.unclip=function(e){var t=s[this.id];if(!t)return this;var a,n=t.elements;e="undefined"==typeof e?n.slice(0):O(e);for(var r=e.length;r--;)if(e.hasOwnProperty(r)&&e[r]&&1===e[r].nodeType){for(a=0;-1!==(a=C(e[r],n,a));)n.splice(a,1);var i=l[e[r].zcClippingId];if(i){for(a=0;-1!==(a=C(this.id,i,a));)i.splice(a,1);0===i.length&&($.autoActivate===!0&&y(e[r],"mouseover",h),delete e[r].zcClippingId)}}return this},B.prototype.elements=function(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]};var _=function(e){var t,a,n,r,i,o=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&l.hasOwnProperty(t)&&(a=l[t],a&&a.length))for(n=0,r=a.length;r>n;n++)i=s[a[n]].instance,i&&i instanceof B&&o.push(i);return o};$.hoverClass="zeroclipboard-is-hover",$.activeClass="zeroclipboard-is-active","function"==typeof define&&define.amd?define(function(){return B}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=B:u.ZeroClipboard=B}(function(){return this}());