editor.firstForSR=0;editor.currentRangeForSR=null;function clickHandler(e,t,a){for(var r=0,c=e.length;r<c;r++){e[r].className=""}a.className="focus";var n=a.getAttribute("tabSrc");for(var s=0,i=t.length;s<i;s++){var l=t[s],o=l.getAttribute("id");if(o!=n){l.style.zIndex=1}else{l.style.zIndex=200}}}function switchTab(e){var t=$G(e).children,a=t[0].children,r=t[1].children;for(var c=0,n=a.length;c<n;c++){var s=a[c];if(s.className==="focus")clickHandler(a,r,s);s.onclick=function(){clickHandler(a,r,this)}}}$G("searchtab").onmousedown=function(){$G("search-msg").innerHTML="";$G("replace-msg").innerHTML=""};function getMatchCase(e){return $G(e).checked?true:false}$G("nextFindBtn").onclick=function(e,t,a){var r=$G("findtxt").value,c;if(!r){return false}c={searchStr:r,dir:1,casesensitive:getMatchCase("matchCase")};if(!frCommond(c)){var n=editor.selection.getRange().createBookmark();$G("search-msg").innerHTML=lang.getEnd;editor.selection.getRange().moveToBookmark(n).select()}};$G("nextReplaceBtn").onclick=function(e,t,a){var r=$G("findtxt1").value,c;if(!r){return false}c={searchStr:r,dir:1,casesensitive:getMatchCase("matchCase1")};frCommond(c)};$G("preFindBtn").onclick=function(e,t,a){var r=$G("findtxt").value,c;if(!r){return false}c={searchStr:r,dir:-1,casesensitive:getMatchCase("matchCase")};if(!frCommond(c)){$G("search-msg").innerHTML=lang.getStart}};$G("preReplaceBtn").onclick=function(e,t,a){var r=$G("findtxt1").value,c;if(!r){return false}c={searchStr:r,dir:-1,casesensitive:getMatchCase("matchCase1")};frCommond(c)};$G("repalceBtn").onclick=function(){editor.trigger("clearLastSearchResult");var e=$G("findtxt1").value.replace(/^\s|\s$/g,""),t,a=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!e){return false}if(e==a||!getMatchCase("matchCase1")&&e.toLowerCase()==a.toLowerCase()){return false}t={searchStr:e,dir:1,casesensitive:getMatchCase("matchCase1"),replaceStr:a};frCommond(t)};$G("repalceAllBtn").onclick=function(){var e=$G("findtxt1").value.replace(/^\s|\s$/g,""),t,a=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!e){return false}if(e==a||!getMatchCase("matchCase1")&&e.toLowerCase()==a.toLowerCase()){return false}t={searchStr:e,casesensitive:getMatchCase("matchCase1"),replaceStr:a,all:true};var r=frCommond(t);if(r){$G("replace-msg").innerHTML=lang.countMsg.replace("{#count}",r)}};var frCommond=function(e){return editor.execCommand("searchreplace",e)};switchTab("searchtab");dialog.onclose=function(){editor.trigger("clearLastSearchResult")};